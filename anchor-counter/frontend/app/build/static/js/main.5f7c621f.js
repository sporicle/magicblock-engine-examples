/*! For license information please see main.5f7c621f.js.LICENSE.txt */
(()=>{var e={620:(e,t,n)=>{"use strict";var r=n(9966).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===c;)i++,n++;for(var s=(e.length-n)*u+1>>>0,l=new Uint8Array(s);n<e.length;){var d=e.charCodeAt(n);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=s-1;(0!==h||f<o)&&-1!==p;p--,f++)h+=a*l[p]>>>0,l[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=f,n++}for(var g=s-o;g!==s&&0===l[g];)g++;var y=r.allocUnsafe(i+(s-g));y.fill(0,0,i);for(var m=i;g!==s;)y[m++]=l[g++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var u=(s-o)*l+1>>>0,d=new Uint8Array(u);o!==s;){for(var h=t[o],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,o++}for(var g=u-i;g!==u&&0===d[g];)g++;for(var y=c.repeat(n);g<u;++g)y+=e.charAt(d[g]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},8083:(e,t,n)=>{var r=n(620);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9677:function(e,t,n){"use strict";var r=n(6382).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i256=t.u256=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const o=n(3465),s=n(7809),a=i(n(6373));var c=n(3465);Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends o.Layout{constructor(e,t,n){super(e,n),this.blob=(0,o.blob)(e),this.signed=t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=new a.default(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(r,"le",this.span),t,n)}}function l(e){return new u(8,!1,e)}t.u64=l,t.i64=function(e){return new u(8,!0,e)},t.u128=function(e){return new u(16,!1,e)},t.i128=function(e){return new u(16,!0,e)},t.u256=function(e){return new u(32,!1,e)},t.i256=function(e){return new u(32,!0,e)};class d extends o.Layout{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}t.publicKey=function(e){return new d((0,o.blob)(32),(e=>new s.PublicKey(e)),(e=>e.toBuffer()),e)};class h extends o.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0,o.u8)()}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null===e||void 0===e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+1)+1)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function f(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function p(e){return e?1:0}function g(e){const t=(0,o.u32)("length"),n=(0,o.struct)([t,(0,o.blob)((0,o.offset)(t,-t.span),"data")]);return new d(n,(e=>{let{data:t}=e;return t}),(e=>({data:e})),e)}t.option=function(e,t){return new h(e,t)},t.bool=function(e){return new d((0,o.u8)(),f,p,e)},t.vec=function(e,t){const n=(0,o.u32)("length"),r=(0,o.struct)([n,(0,o.seq)(e,(0,o.offset)(n,-n.span),"values")]);return new d(r,(e=>{let{values:t}=e;return t}),(e=>({values:e})),t)},t.tagged=function(e,t,n){const r=(0,o.struct)([l("tag"),t.replicate("data")]);return new d(r,(function(t){let{tag:n,data:r}=t;if(!n.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+n.toString("hex"));return r}),(t=>({tag:e,data:t})),n)},t.vecU8=g,t.str=function(e){return new d(g(),(e=>e.toString("utf-8")),(e=>r.from(e,"utf-8")),e)},t.rustEnum=function(e,t,n){const r=(0,o.union)(null!==n&&void 0!==n?n:(0,o.u8)(),t);return e.forEach(((e,t)=>r.addVariant(t,e,e.property))),r},t.array=function(e,t,n){const r=(0,o.struct)([(0,o.seq)(e,t,"values")]);return new d(r,(e=>{let{values:t}=e;return t}),(e=>({values:e})),n)};class y extends o.Layout{constructor(e,t,n){super(e.span+t.span,n),this.keyLayout=e,this.valueLayout=t}decode(e,t){t=t||0;return[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,n){n=n||0;const r=this.keyLayout.encode(e[0],t,n);return r+this.valueLayout.encode(e[1],t,n+r)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}t.map=function(e,t,n){const r=(0,o.u32)("length"),i=(0,o.struct)([r,(0,o.seq)(new y(e,t),(0,o.offset)(r,-r.span),"values")]);return new d(i,(e=>{let{values:t}=e;return new Map(t)}),(e=>({values:Array.from(e.entries())})),n)}},9328:(e,t,n)=>{"use strict";t.I0=t.DH=t.NX=t.u8=t.cY=void 0,t.av=t.O6=t.w3=t.Wg=void 0;const r=n(6382);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends c{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class l extends c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t+this.offset)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.layout.encode(e,t,n+this.offset)}}class d extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readUIntLE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeUIntLE(e,n,this.span),this.span}}class h extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readUIntBE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeUIntBE(e,n,this.span),this.span}}class f extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readIntLE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeIntLE(e,n,this.span),this.span}}class p extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readIntBE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeIntBE(e,n,this.span),this.span}}const g=Math.pow(2,32);function y(e){const t=Math.floor(e/g);return{hi32:t,lo32:e-t*g}}function m(e,t){return e*g+t}class w extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e),r=n.readUInt32LE(t);return m(n.readUInt32LE(t+4),r)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=y(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class v extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e);return m(n.readUInt32BE(t),n.readUInt32BE(t+4))}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=y(e),i=o(t);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class b extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e),r=n.readUInt32LE(t);return m(n.readInt32LE(t+4),r)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=y(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class _ extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e);return m(n.readInt32BE(t),n.readUInt32BE(t+4))}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=y(e),i=o(t);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class E extends s{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readFloatLE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeFloatLE(e,n),4}}class k extends s{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readFloatBE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeFloatBE(e,n),4}}class S extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readDoubleLE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeDoubleLE(e,n),8}}class A extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readDoubleBE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeDoubleBE(e,n),8}}class I extends s{constructor(e,t,n){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof c)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];let r=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof c&&this.count.encode(e.length,t,n),i}}class R extends s{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===n&&(n=t,t=void 0);for(const o of e)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class x{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}class N extends x{constructor(e,t){if(!(e instanceof c&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class T extends s{constructor(e,t,n){let r;if(e instanceof d||e instanceof h)r=new N(new l(e));else if(e instanceof c&&e.isCount())r=new N(e);else{if(!(e instanceof x))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=e}if(void 0===t&&(t=null),!(null===t||t instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof d||e instanceof h)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=e instanceof d||e instanceof h,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator,i=r.decode(e,n),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),t=this.makeDestinationObject(),t[r.property]=i,t[o.property]=o.decode(e,n+s)}else t=o.decode(e,n);return t}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new M(this,e,t,n);return this.registry[e]=r,r}getVariant(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=e instanceof Uint8Array?this.discriminator.decode(e,n):e,this.registry[t]}}class M extends s{constructor(e,t,n,r){if(!(e instanceof T))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof s))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function O(e){return 0>e&&(e+=4294967296),e}class C extends s{constructor(e,t,n){if(!(e instanceof d||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=O(e),this},this._packedGetValue=function(){return r}}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(e));return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.word.decode(t,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new L(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new P(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class L{constructor(e,t,n){if(!(e instanceof C))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=O(this.valueMask<<this.start),this.property=n}decode(e,t){return O(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==O(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=O(e<<this.start);this.container._packedSetValue(O(t&~this.wordMask)|n)}}class P extends L{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}class z extends s{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof c||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.span;return 0>n&&(n=this.length.decode(e,t)),o(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof c&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=o(e);return o(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,t,n),r}}class B extends s{constructor(e){super(-1,e)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.getSpan(e,t);return o(e).slice(t,t+n-1).toString("utf-8")}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),s=i.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");const a=o(t);return i.copy(a,n),a[n+s]=0,s+1}}class D extends s{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e),e.length-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+n).toString("utf-8")}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(o(t),n),s}}class U extends s{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}t.cY=(e,t,n)=>new l(e,t,n),t.u8=e=>new d(1,e),t.NX=e=>new d(2,e),t.DH=e=>new d(4,e),t.I0=e=>new w(e),t.Wg=e=>new b(e),t.w3=(e,t,n)=>new R(e,t,n),t.O6=(e,t,n)=>new I(e,t,n),t.av=(e,t)=>new z(e,t)},5981:(e,t,n)=>{"use strict";var r=n(9966).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===c;)i++,n++;for(var s=(e.length-n)*u+1>>>0,l=new Uint8Array(s);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<o)&&-1!==f;f--,h++)d+=a*l[f]>>>0,l[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=h,n++}for(var p=s-o;p!==s&&0===l[p];)p++;var g=r.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var y=i;p!==s;)g[y++]=l[p++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var u=(s-o)*l+1>>>0,d=new Uint8Array(u);o!==s;){for(var h=t[o],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,o++}for(var g=u-i;g!==u&&0===d[g];)g++;for(var y=c.repeat(n);g<u;++g)y+=e.charAt(d[g]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},8594:(e,t,n)=>{var r=n(5981);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},7809:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Account:()=>Pn,AddressLookupTableAccount:()=>Gr,AddressLookupTableInstruction:()=>Vo,AddressLookupTableProgram:()=>qo,Authorized:()=>rs,BLOCKHASH_CACHE_TIMEOUT_MS:()=>ei,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>zn,BPF_LOADER_PROGRAM_ID:()=>Br,BpfLoader:()=>Dr,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Go,ComputeBudgetInstruction:()=>Yo,ComputeBudgetProgram:()=>Zo,Connection:()=>Wo,Ed25519Program:()=>Xo,Enum:()=>xn,EpochSchedule:()=>Vr,FeeCalculatorLayout:()=>Ir,Keypair:()=>Fo,LAMPORTS_PER_SOL:()=>Is,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>Ko,Loader:()=>zr,Lockup:()=>is,MAX_SEED_LENGTH:()=>Mn,Message:()=>tr,MessageAccountKeys:()=>Fn,MessageV0:()=>nr,NONCE_ACCOUNT_LENGTH:()=>xr,NonceAccount:()=>Nr,PACKET_DATA_SIZE:()=>Bn,PUBLIC_KEY_LENGTH:()=>On,PublicKey:()=>Ln,SIGNATURE_LENGTH_IN_BYTES:()=>Un,SOLANA_SCHEMA:()=>Nn,STAKE_CONFIG_ID:()=>ns,STAKE_INSTRUCTION_LAYOUTS:()=>ss,SYSTEM_INSTRUCTION_LAYOUTS:()=>Cr,SYSVAR_CLOCK_PUBKEY:()=>lr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>dr,SYSVAR_INSTRUCTIONS_PUBKEY:()=>hr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>fr,SYSVAR_RENT_PUBKEY:()=>pr,SYSVAR_REWARDS_PUBKEY:()=>gr,SYSVAR_SLOT_HASHES_PUBKEY:()=>yr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>mr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>wr,Secp256k1Program:()=>es,SendTransactionError:()=>vr,SolanaJSONRPCError:()=>_r,SolanaJSONRPCErrorCode:()=>br,StakeAuthorizationLayout:()=>as,StakeInstruction:()=>os,StakeProgram:()=>cs,Struct:()=>Rn,SystemInstruction:()=>Or,SystemProgram:()=>Lr,Transaction:()=>ar,TransactionExpiredBlockheightExceededError:()=>jn,TransactionExpiredNonceInvalidError:()=>Wn,TransactionExpiredTimeoutError:()=>Hn,TransactionInstruction:()=>sr,TransactionMessage:()=>cr,TransactionStatus:()=>ir,VALIDATOR_INFO_KEY:()=>ps,VERSION_PREFIX_MASK:()=>Dn,VOTE_PROGRAM_ID:()=>ms,ValidatorInfo:()=>ys,VersionedMessage:()=>rr,VersionedTransaction:()=>ur,VoteAccount:()=>vs,VoteAuthorizationLayout:()=>hs,VoteInit:()=>us,VoteInstruction:()=>ls,VoteProgram:()=>fs,clusterApiUrl:()=>Ss,sendAndConfirmRawTransaction:()=>As,sendAndConfirmTransaction:()=>Er});var r=n(6382),i=n(4546);const o=BigInt(2**32-1),s=BigInt(32);function a(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&o),l:Number(e>>s&o)}:{h:0|Number(e>>s&o),l:0|Number(e&o)}}function c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=a(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const u=(e,t,n)=>e<<n|t>>>32-n,l=(e,t,n)=>t<<n|e>>>32-n,d=(e,t,n)=>t<<n-32|e>>>64-n,h=(e,t,n)=>e<<n-32|t>>>64-n;const f={fromBig:a,split:c,toBig:(e,t)=>BigInt(e>>>0)<<s|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:u,rotlSL:l,rotlBH:d,rotlBL:h,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)};var p=n(1195);const[g,y]=(()=>f.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),m=new Uint32Array(80),w=new Uint32Array(80);class v extends i.ol{constructor(){super(128,arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:l,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,n,r,i,o,s,a,c,u,l,d,h,f,p,g]}set(e,t,n,r,i,o,s,a,c,u,l,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|l,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let f=0;f<16;f++,t+=4)m[f]=e.getUint32(t),w[f]=e.getUint32(t+=4);for(let g=16;g<80;g++){const e=0|m[g-15],t=0|w[g-15],n=f.rotrSH(e,t,1)^f.rotrSH(e,t,8)^f.shrSH(e,t,7),r=f.rotrSL(e,t,1)^f.rotrSL(e,t,8)^f.shrSL(e,t,7),i=0|m[g-2],o=0|w[g-2],s=f.rotrSH(i,o,19)^f.rotrBH(i,o,61)^f.shrSH(i,o,6),a=f.rotrSL(i,o,19)^f.rotrBL(i,o,61)^f.shrSL(i,o,6),c=f.add4L(r,a,w[g-7],w[g-16]),u=f.add4H(c,n,s,m[g-7],m[g-16]);m[g]=0|u,w[g]=0|c}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:l,El:d,Fh:h,Fl:p,Gh:v,Gl:b,Hh:_,Hl:E}=this;for(let k=0;k<80;k++){const e=f.rotrSH(l,d,14)^f.rotrSH(l,d,18)^f.rotrBH(l,d,41),t=f.rotrSL(l,d,14)^f.rotrSL(l,d,18)^f.rotrBL(l,d,41),S=l&h^~l&v,A=d&p^~d&b,I=f.add5L(E,t,A,y[k],w[k]),R=f.add5H(I,_,e,S,g[k],m[k]),x=0|I,N=f.rotrSH(n,r,28)^f.rotrBH(n,r,34)^f.rotrBH(n,r,39),T=f.rotrSL(n,r,28)^f.rotrBL(n,r,34)^f.rotrBL(n,r,39),M=n&i^n&s^i&s,O=r&o^r&a^o&a;_=0|v,E=0|b,v=0|h,b=0|p,h=0|l,p=0|d,({h:l,l:d}=f.add(0|c,0|u,0|R,0|x)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const C=f.add3L(x,T,O);n=f.add3H(C,R,N,M),r=0|C}({h:n,l:r}=f.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=f.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=f.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=f.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:l,l:d}=f.add(0|this.Eh,0|this.El,0|l,0|d)),({h:h,l:p}=f.add(0|this.Fh,0|this.Fl,0|h,0|p)),({h:v,l:b}=f.add(0|this.Gh,0|this.Gl,0|v,0|b)),({h:_,l:E}=f.add(0|this.Hh,0|this.Hl,0|_,0|E)),this.set(n,r,i,o,s,a,c,u,l,d,h,p,v,b,_,E)}roundClean(){m.fill(0),w.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const b=(0,p.ld)((()=>new v)),_=BigInt(0),E=BigInt(1);function k(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function S(e){if(!k(e))throw new Error("Uint8Array expected")}function A(e,t){if("boolean"!==typeof t)throw new Error(e+" boolean expected, got "+t)}function I(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function R(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?_:BigInt("0x"+e)}const x="function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex,N=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function T(e){if(S(e),x)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=N[e[n]];return t}const M={_0:48,_9:57,A:65,F:70,a:97,f:102};function O(e){return e>=M._0&&e<=M._9?e-M._0:e>=M.A&&e<=M.F?e-(M.A-10):e>=M.a&&e<=M.f?e-(M.a-10):void 0}function C(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);if(x)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const t=O(e.charCodeAt(o)),n=O(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[i]=16*t+n}return r}function L(e){return R(T(e))}function P(e){return S(e),R(T(Uint8Array.from(e).reverse()))}function z(e,t){return C(e.toString(16).padStart(2*t,"0"))}function B(e,t){return z(e,t).reverse()}function D(e,t,n){let r;if("string"===typeof t)try{r=C(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else{if(!k(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function U(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];S(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const j=e=>"bigint"===typeof e&&_<=e;function H(e,t,n){return j(e)&&j(t)&&j(n)&&t<=e&&e<n}function W(e,t,n,r){if(!H(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const F=e=>(E<<BigInt(e))-E,K=e=>new Uint8Array(e),V=e=>Uint8Array.from(e);const q={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||k(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=q[n];if("function"!==typeof i)throw new Error("invalid validator function");const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function G(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];const a=e(n,...o);return t.set(n,a),a}}const Z=BigInt(0),Q=BigInt(1),X=BigInt(2),J=BigInt(3),$=BigInt(4),ee=BigInt(5),te=BigInt(8);function ne(e,t){const n=e%t;return n>=Z?n:t+n}function re(e,t,n){if(t<Z)throw new Error("invalid exponent, negatives unsupported");if(n<=Z)throw new Error("invalid modulus");if(n===Q)return Z;let r=Q;for(;t>Z;)t&Q&&(r=r*e%n),e=e*e%n,t>>=Q;return r}function ie(e,t,n){let r=e;for(;t-- >Z;)r*=r,r%=n;return r}function oe(e,t){if(e===Z)throw new Error("invert: expected non-zero number");if(t<=Z)throw new Error("invert: expected positive modulus, got "+t);let n=ne(e,t),r=t,i=Z,o=Q,s=Q,a=Z;for(;n!==Z;){const e=r/n,t=r%n,c=i-s*e,u=o-a*e;r=n,n=t,i=s,o=a,s=c,a=u}if(r!==Q)throw new Error("invert: does not exist");return ne(i,t)}function se(e){if(e%$===J){const t=(e+Q)/$;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%te===ee){const t=(e-ee)/te;return function(e,n){const r=e.mul(n,X),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,X),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Q)/X;let n,r,i;for(n=e-Q,r=0;n%X===Z;n/=X,r++);for(i=X;i<e&&re(i,t,e)!==e-Q;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+Q)/$;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+Q)/X;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),u=e.pow(s,o),l=e.pow(s,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(c,Q<<BigInt(a-t-1));c=e.sqr(n),u=e.mul(u,n),l=e.mul(l,c),a=t}return u}}(e)}const ae=(e,t)=>(ne(e,t)&Q)===Q,ce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ue(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function le(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Z)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=ue(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:o,MASK:F(i),ZERO:Z,ONE:Q,create:t=>ne(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Z<=t&&t<e},is0:e=>e===Z,isOdd:e=>(e&Q)===Q,neg:t=>ne(-t,e),eql:(e,t)=>e===t,sqr:t=>ne(t*t,e),add:(t,n)=>ne(t+n,e),sub:(t,n)=>ne(t-n,e),mul:(t,n)=>ne(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Z)throw new Error("invalid exponent, negatives unsupported");if(n===Z)return e.ONE;if(n===Q)return t;let r=e.ONE,i=t;for(;n>Z;)n&Q&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Q;return r}(a,e,t),div:(t,n)=>ne(t*oe(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>oe(t,e),sqrt:r.sqrt||(t=>(s||(s=se(e)),s(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?B(e,o):z(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return n?P(e):L(e)}});return Object.freeze(a)}function de(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function he(e){const t=de(e);return t+Math.ceil(t/2)}const fe=BigInt(0),pe=BigInt(1);function ge(e,t){const n=t.negate();return e?n:t}function ye(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function me(e,t){ye(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:F(e),maxNumber:n,shiftBy:BigInt(e)}}function we(e,t,n){const{windowSize:r,mask:i,maxNumber:o,shiftBy:s}=n;let a=Number(e&i),c=e>>s;a>r&&(a-=o,c+=pe);const u=t*r;return{nextN:c,offset:u+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!==0,offsetF:u}}function ve(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}function be(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}const _e=new WeakMap,Ee=new WeakMap;function ke(e){return Ee.get(e)||1}function Se(e,t){return{constTimeNegate:ge,hasPrecomputes:e=>1!==ke(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>fe;)n&pe&&(r=r.add(i)),i=i.double(),n>>=pe;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=me(n,t),o=[];let s=e,a=s;for(let t=0;t<r;t++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(n,r,i){let o=e.ZERO,s=e.BASE;const a=me(n,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:n,isZero:c,isNeg:u,isNegF:l,offsetF:d}=we(i,e,a);i=t,c?s=s.add(ge(l,r[d])):o=o.add(ge(u,r[n]))}return{p:o,f:s}},wNAFUnsafe(n,r,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const s=me(n,t);for(let e=0;e<s.windows&&i!==fe;e++){const{nextN:t,offset:n,isZero:a,isNeg:c}=we(i,e,s);if(i=t,!a){const e=r[n];o=o.add(c?e.negate():e)}}return o},getPrecomputes(e,t,n){let r=_e.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&_e.set(t,n(r))),r},wNAFCached(e,t,n){const r=ke(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=ke(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){ye(n,t),Ee.set(e,n),_e.delete(e)}}}function Ae(e,t,n,r){if(ve(n,e),be(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=function(e){let t;for(t=0;e>_;e>>=E,t+=1);return t}(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=F(s),c=new Array(Number(a)+1).fill(i);let u=i;for(let l=Math.floor((t.BITS-1)/s)*s;l>=0;l-=s){c.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(l)&a);c[i]=c[i].add(n[t])}let e=i;for(let t=c.length-1,n=i;t>0;t--)n=n.add(c[t]),e=e.add(n);if(u=u.add(e),0!==l)for(let t=0;t<s;t++)u=u.double()}return u}function Ie(e){return function(e){const t=ce.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Y(e,t)}(e.Fp),Y(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ue(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Re=BigInt(0),xe=BigInt(1),Ne=BigInt(2),Te=BigInt(8),Me={zip215:!0};function Oe(e){const t=function(e){const t=Ie(e);return Y(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,u=Ne<<BigInt(8*a)-xe,l=n.create,d=le(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:Re}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(A("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){W("coordinate "+e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]?xe:Re,u)}function y(e){if(!(e instanceof v))throw new Error("ExtendedPoint expected")}const m=G(((e,t)=>{const{ex:r,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?Te:n.inv(o));const a=l(r*t),c=l(i*t),u=l(o*t);if(s)return{x:Re,y:xe};if(u!==xe)throw new Error("invZ was invalid");return{x:a,y:c}})),w=G((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:s,et:a}=e,c=l(i*i),u=l(o*o),d=l(s*s),h=l(d*d),f=l(c*n);if(l(d*l(f+u))!==l(h+l(r*l(c*u))))throw new Error("bad point: equation left != right (1)");if(l(i*o)!==l(s*a))throw new Error("bad point: equation left != right (2)");return!0}));class v{constructor(e,t,n,r){g("x",e),g("y",t),g("z",n,!0),g("t",r),this.ex=e,this.ey=t,this.ez=n,this.et=r,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof v)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return g("x",t),g("y",n),new v(t,n,xe,l(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(v.fromAffine)}static msm(e,t){return Ae(v,d,e,t)}_setWindowSize(e){E.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){y(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=e,a=l(t*s),c=l(i*r),u=l(n*s),d=l(o*r);return a===c&&u===d}is0(){return this.equals(v.ZERO)}negate(){return new v(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=l(n*n),s=l(r*r),a=l(Ne*l(i*i)),c=l(e*o),u=n+r,d=l(l(u*u)-o-s),h=c+s,f=h-a,p=c-s,g=l(d*f),y=l(h*p),m=l(d*p),w=l(f*h);return new v(g,y,w,m)}add(e){y(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:d,et:h}=e,f=l(i*c),p=l(o*u),g=l(a*r*h),m=l(s*d),w=l((i+o)*(c+u)-f-p),b=m-g,_=m+g,E=l(p-n*f),k=l(w*b),S=l(_*E),A=l(w*E),I=l(b*_);return new v(k,S,I,A)}subtract(e){return this.add(e.negate())}wNAF(e){return E.wNAFCached(this,e,v.normalizeZ)}multiply(e){const t=e;W("scalar",t,xe,r);const{p:n,f:i}=this.wNAF(t);return v.normalizeZ([n,i])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.ZERO;const n=e;return W("scalar",n,Re,r),n===Re?_:this.is0()||n===xe?this:E.wNAFCachedUnsafe(this,n,v.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,r).is0()}toAffine(e){return m(this,e)}clearCofactor(){const{h:e}=t;return e===xe?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:o}=t,s=n.BYTES;e=D("pointHex",e,s),A("zip215",r);const a=e.slice(),c=e[s-1];a[s-1]=-129&c;const d=P(a),f=r?u:n.ORDER;W("pointHex.y",d,Re,f);const p=l(d*d),g=l(p-xe),y=l(i*p-o);let{isValid:m,value:w}=h(g,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const b=(w&xe)===xe,_=0!==(128&c);if(!r&&w===Re&&_)throw new Error("Point.fromHex: x=0 and x_0=1");return _!==b&&(w=l(-w)),v.fromAffine({x:w,y:d})}static fromPrivateKey(e){const{scalar:t}=I(e);return b.multiply(t)}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=B(t,n.BYTES);return r[r.length-1]|=e&xe?128:0,r}toHex(){return T(this.toRawBytes())}}v.BASE=new v(t.Gx,t.Gy,xe,l(t.Gx*t.Gy)),v.ZERO=new v(Re,xe,xe,Re);const{BASE:b,ZERO:_}=v,E=Se(v,8*a);function k(e){return ne(e,r)}function S(e){return k(P(e))}function I(e){const t=n.BYTES;e=D("private key",e,t);const r=D("hashed private key",o(e),2*t),i=f(r.slice(0,t));return{head:i,prefix:r.slice(t,2*t),scalar:S(i)}}function R(e){const{head:t,prefix:n,scalar:r}=I(e),i=b.multiply(r),o=i.toRawBytes();return{head:t,prefix:n,scalar:r,point:i,pointBytes:o}}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=U(...n);return S(o(p(s,D("context",e),!!i)))}const N=Me;b._setWindowSize(8);const M={getExtendedPublicKey:R,randomPrivateKey:()=>s(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};return{CURVE:t,getPublicKey:function(e){return R(e).pointBytes},sign:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=D("message",e),i&&(e=i(e));const{prefix:s,scalar:a,pointBytes:c}=R(t),u=x(o.context,s,e),l=b.multiply(u).toRawBytes(),d=k(u+x(o.context,l,c,e)*a);return W("signature.s",d,Re,r),D("result",U(l,B(d,n.BYTES)),2*n.BYTES)},verify:function(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N;const{context:s,zip215:a}=o,c=n.BYTES;e=D("signature",e,2*c),t=D("message",t),r=D("publicKey",r,c),void 0!==a&&A("zip215",a),i&&(t=i(t));const u=P(e.slice(c,2*c));let l,d,h;try{l=v.fromHex(r,a),d=v.fromHex(e.slice(0,c),a),h=b.multiplyUnsafe(u)}catch(p){return!1}if(!a&&l.isSmallOrder())return!1;const f=x(s,d.toRawBytes(),l.toRawBytes(),t);return d.add(l.multiplyUnsafe(f)).subtract(h).clearCofactor().equals(v.ZERO)},ExtendedPoint:v,utils:M}}const Ce=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Le=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),Pe=(BigInt(0),BigInt(1)),ze=BigInt(2),Be=(BigInt(3),BigInt(5)),De=BigInt(8);function Ue(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Ce,s=e*e%o*e%o,a=ie(s,ze,o)*s%o,c=ie(a,Pe,o)*e%o,u=ie(c,Be,o)*c%o,l=ie(u,t,o)*u%o,d=ie(l,n,o)*l%o,h=ie(d,r,o)*d%o,f=ie(h,i,o)*h%o,p=ie(f,i,o)*h%o,g=ie(p,t,o)*u%o;return{pow_p_5_8:ie(g,ze,o)*e%o,b2:s}}function je(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function He(e,t){const n=Ce,r=ne(t*t*t,n),i=ne(r*r*t,n);let o=ne(e*r*Ue(e*i).pow_p_5_8,n);const s=ne(t*o*o,n),a=o,c=ne(o*Le,n),u=s===e,l=s===ne(-e,n),d=s===ne(-e*Le,n);return u&&(o=a),(l||d)&&(o=c),ae(o,n)&&(o=ne(-o,n)),{isValid:u||l,value:o}}const We=(()=>le(Ce,void 0,!0))(),Fe=(()=>({a:We.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:We,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:De,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:b,randomBytes:p.po,adjustScalarBytes:je,uvRatio:He}))(),Ke=(()=>Oe(Fe))();var Ve=n(6373),qe=n.n(Ve),Ye=n(5913),Ge=n.n(Ye),Ze=n(223),Qe=n(6060),Xe=n(9328),Je=n(7081);class $e extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:s}=e,a=0===s.length?r:"At path: ".concat(s.join(".")," -- ").concat(r);super(null!==i&&void 0!==i?i:a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var r;return null!==(r=n)&&void 0!==r?r:n=[e,...t()]}}}function et(e){return"object"===typeof e&&null!=e}function tt(e){return et(e)&&!Array.isArray(e)}function nt(e){return"symbol"===typeof e?e.toString():"string"===typeof e?JSON.stringify(e):"".concat(e)}function rt(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"===typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c="Expected a value of type `".concat(s,"`").concat(a?" with refinement `".concat(a,"`"):"",", but received: `").concat(nt(r),"`")}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*it(e,t,n,r){var i;et(i=e)&&"function"===typeof i[Symbol.iterator]||(e=[e]);for(const o of e){const e=rt(o,t,n,r);e&&(yield e)}}function ot(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(e=t.coercer(e,a));let c="valid";for(const u of t.validator(e,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of t.entries(e,a)){const t=ot(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?i:[...i,l],coerce:o,mask:s,message:n.message});for(const n of t)n[0]?(c=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):o&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):et(e)&&(void 0!==l||u in e)&&(e[u]=l))}if("not_valid"!==c)for(const u of t.refiner(e,a))u.explanation=n.message,c="not_refined",yield[u,void 0];"valid"===c&&(yield[void 0,e])}()}class st{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>it(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>it(i(e,t),t,this,e):()=>[]}assert(e,t){return at(e,this,t)}create(e,t){return ct(e,this,t)}is(e){return ut(e,this)}mask(e,t){return function(e,t,n){const r=lt(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e){return lt(e,this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}function at(e,t,n){const r=lt(e,t,{message:n});if(r[0])throw r[0]}function ct(e,t,n){const r=lt(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function ut(e,t){return!lt(e,t)[0]}function lt(e,t){const n=ot(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),r=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(n);if(r[0]){return[new $e(r[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]}return[void 0,r[1]]}function dt(e,t){return new st({type:e,schema:null,validator:t})}function ht(e){return new st({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: ".concat(nt(e))})}function ft(){return dt("boolean",(e=>"boolean"===typeof e))}function pt(e){return dt("instance",(t=>t instanceof e||"Expected a `".concat(e.name,"` instance, but received: ").concat(nt(t))))}function gt(e){const t=nt(e),n=typeof e;return new st({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `".concat(t,"`, but received: ").concat(nt(n))})}function yt(){return dt("never",(()=>!1))}function mt(e){return new st({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function wt(){return dt("number",(e=>"number"===typeof e&&!isNaN(e)||"Expected a number, but received: ".concat(nt(e))))}function vt(e){return new st({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function bt(e,t){return new st({type:"record",schema:null,*entries(n){if(et(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>tt(e)||"Expected an object, but received: ".concat(nt(e)),coercer:e=>tt(e)?{...e}:e})}function _t(){return dt("string",(e=>"string"===typeof e||"Expected a string, but received: ".concat(nt(e))))}function Et(e){const t=yt();return new st({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||"Expected an array, but received: ".concat(nt(e)),coercer:e=>Array.isArray(e)?e.slice():e})}function kt(e){const t=Object.keys(e);return new st({type:"type",schema:e,*entries(n){if(et(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>tt(e)||"Expected an object, but received: ".concat(nt(e)),coercer:e=>tt(e)?{...e}:e})}function St(e){const t=e.map((e=>e.type)).join(" | ");return new st({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=ot(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `".concat(t,"`, but received: ").concat(nt(n)),...i]}})}function At(){return dt("unknown",(()=>!0))}function It(e,t,n){return new st({...e,coercer:(r,i)=>ut(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var Rt=n(3861),xt=n.n(Rt);function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Tt(e){var t=function(e,t){if("object"!=Nt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nt(t)?t:t+""}function Mt(e,t,n){return(t=Tt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=n(4493);var Ct=class extends Ot{constructor(e,t,n){super(),Mt(this,"socket",void 0),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(i){r(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};function Lt(e,t){return new Ct(e,t)}var Pt=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},zt=class extends Ot{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0;super(),Mt(this,"address",void 0),Mt(this,"rpc_id",void 0),Mt(this,"queue",void 0),Mt(this,"options",void 0),Mt(this,"autoconnect",void 0),Mt(this,"ready",void 0),Mt(this,"reconnect",void 0),Mt(this,"reconnect_timer_id",void 0),Mt(this,"reconnect_interval",void 0),Mt(this,"max_reconnects",void 0),Mt(this,"rest_options",void 0),Mt(this,"current_reconnects",void 0),Mt(this,"generate_request_id",void 0),Mt(this,"socket",void 0),Mt(this,"webSocketFactory",void 0),Mt(this,"dataPack",void 0),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"===typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=c||new Pt,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,r){return r||"object"!==typeof n||(r=n,n=null),new Promise(((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:s};this.socket.send(this.dataPack.encode(a),r,(e=>{if(e)return o(e);this.queue[s]={promise:[i,o]},n&&(this.queue[s].timeout=setTimeout((()=>{delete this.queue[s],o(new Error("reply timeout"))}),n))}))}))}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise(((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),(e=>{if(e)return r(e);n()}))}))}async subscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(e=>{let{data:t}=e;t instanceof ArrayBuffer&&(t=r.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(n){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let n=0;n<t.params.length;n++)e.push(t.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,e)}))}if(!this.queue[t.id])return t.method?Promise.resolve().then((()=>{var e;this.emit(t.method,null===(e=t)||void 0===e?void 0:e.params)})):void 0;"error"in t==="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(n=>{let{code:r,reason:i}=n;this.ready&&setTimeout((()=>this.emit("close",r,i)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,t)),this.reconnect_interval)))}))}},Bt=n(9845);const Dt=[],Ut=[],jt=[],Ht=BigInt(0),Wt=BigInt(1),Ft=BigInt(2),Kt=BigInt(7),Vt=BigInt(256),qt=BigInt(113);for(let Rs=0,xs=Wt,Ns=1,Ts=0;Rs<24;Rs++){[Ns,Ts]=[Ts,(2*Ns+3*Ts)%5],Dt.push(2*(5*Ts+Ns)),Ut.push((Rs+1)*(Rs+2)/2%64);let e=Ht;for(let t=0;t<7;t++)xs=(xs<<Wt^(xs>>Kt)*qt)%Vt,xs&Ft&&(e^=Wt<<(Wt<<BigInt(t))-Wt);jt.push(e)}const[Yt,Gt]=c(jt,!0),Zt=(e,t,n)=>n>32?d(e,t,n):u(e,t,n),Qt=(e,t,n)=>n>32?h(e,t,n):l(e,t,n);class Xt extends p.Vw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,(0,Bt.Fe)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,p.DH)(this.state)}keccak(){p.qv||(0,p.Fc)(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,o=n[i],s=n[i+1],a=Zt(o,s,1)^n[t],c=Qt(o,s,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Ut[n],o=Zt(t,i,r),s=Qt(t,i,r),a=Dt[n];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Yt[r],e[1]^=Gt[r]}n.fill(0)}(this.state32,this.rounds),p.qv||(0,p.Fc)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Bt.CC)(this);const{blockLen:t,state:n}=this,r=(e=(0,p.ZJ)(e)).length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,Bt.CC)(this,!1),(0,Bt.DO)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Bt.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Bt.Ht)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new Xt(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Jt=(e,t,n)=>(0,p.ld)((()=>new Xt(t,e,n))),$t=Jt(1,136,32);class en extends p.Vw{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,Bt.sd)(e);const n=(0,p.ZJ)(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return(0,Bt.CC)(this),this.iHash.update(e),this}digestInto(e){(0,Bt.CC)(this),(0,Bt.DO)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tn=(e,t,n)=>new en(e,t).update(n).digest();function nn(e){void 0!==e.lowS&&A("lowS",e.lowS),void 0!==e.prehash&&A("prehash",e.prehash)}tn.create=(e,t)=>new en(e,t);class rn extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const on={Err:rn,_tlv:{encode:(e,t)=>{const{Err:n}=on;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=I(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?I(i.length/2|128):"";return I(e)+o+i+t},decode(e,t){const{Err:n}=on;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let o=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of s)o=o<<8|t;if(r+=e,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;const s=t.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=on;if(e<sn)throw new t("integer: negative integers are not allowed");let n=I(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=on;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return L(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=on,i=D("signature",e),{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:u,l:l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=on,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},sn=BigInt(0),an=BigInt(1),cn=(BigInt(2),BigInt(3));BigInt(4);function un(e){const t=function(e){const t=Ie(e);Y(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=le(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return U(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(k(e)&&(e=T(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let s;try{s="bigint"===typeof e?e:L(D("private key",e,r))}catch(a){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(s=ne(s,o)),W("private key",s,an,o),s}function c(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}const u=G(((e,t)=>{const{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));const a=n.mul(r,t),c=n.mul(i,t),u=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:a,y:c}})),l=G((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const o=n.sqr(i),a=s(r);if(!n.eql(o,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class d{constructor(e,t,r){if(null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");this.px=e,this.py=t,this.pz=r,Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(o(D("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(a(e))}static msm(e,t){return Ae(d,r,e,t)}_setWindowSize(e){f.setWindowSize(this,e)}assertValidity(){l(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){c(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,u=n.eql(n.mul(t,a),n.mul(o,i)),l=n.eql(n.mul(r,a),n.mul(s,i));return u&&l}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,cn),{px:o,py:s,pz:a}=this;let c=n.ZERO,u=n.ZERO,l=n.ZERO,h=n.mul(o,o),f=n.mul(s,s),p=n.mul(a,a),g=n.mul(o,s);return g=n.add(g,g),l=n.mul(o,a),l=n.add(l,l),c=n.mul(e,l),u=n.mul(i,p),u=n.add(c,u),c=n.sub(f,u),u=n.add(f,u),u=n.mul(c,u),c=n.mul(g,c),l=n.mul(i,l),p=n.mul(e,p),g=n.sub(h,p),g=n.mul(e,g),g=n.add(g,l),l=n.add(h,h),h=n.add(l,h),h=n.add(h,p),h=n.mul(h,g),u=n.add(u,h),p=n.mul(s,a),p=n.add(p,p),h=n.mul(p,g),c=n.sub(c,h),l=n.mul(p,f),l=n.add(l,l),l=n.add(l,l),new d(c,u,l)}add(e){c(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:u}=e;let l=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,g=n.mul(t.b,cn);let y=n.mul(r,s),m=n.mul(i,a),w=n.mul(o,u),v=n.add(r,i),b=n.add(s,a);v=n.mul(v,b),b=n.add(y,m),v=n.sub(v,b),b=n.add(r,o);let _=n.add(s,u);return b=n.mul(b,_),_=n.add(y,w),b=n.sub(b,_),_=n.add(i,o),l=n.add(a,u),_=n.mul(_,l),l=n.add(m,w),_=n.sub(_,l),f=n.mul(p,b),l=n.mul(g,w),f=n.add(l,f),l=n.sub(m,f),f=n.add(m,f),h=n.mul(l,f),m=n.add(y,y),m=n.add(m,y),w=n.mul(p,w),b=n.mul(g,b),m=n.add(m,w),w=n.sub(y,w),w=n.mul(p,w),b=n.add(b,w),y=n.mul(m,b),h=n.add(h,y),y=n.mul(_,b),l=n.mul(v,l),l=n.sub(l,y),y=n.mul(v,m),f=n.mul(_,f),f=n.add(f,y),new d(l,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;W("scalar",e,sn,i);const o=d.ZERO;if(e===sn)return o;if(this.is0()||e===an)return this;if(!r||f.hasPrecomputes(this))return f.wNAFCachedUnsafe(this,e,d.normalizeZ);let{k1neg:s,k1:a,k2neg:c,k2:u}=r.splitScalar(e),l=o,h=o,p=this;for(;a>sn||u>sn;)a&an&&(l=l.add(p)),u&an&&(h=h.add(p)),p=p.double(),a>>=an,u>>=an;return s&&(l=l.negate()),c&&(h=h.negate()),h=new d(n.mul(h.px,r.beta),h.py,h.pz),l.add(h)}multiply(e){const{endo:r,n:i}=t;let o,s;if(W("scalar",e,an,i),r){const{k1neg:t,k1:i,k2neg:a,k2:c}=r.splitScalar(e);let{p:u,f:l}=this.wNAF(i),{p:h,f:p}=this.wNAF(c);u=f.constTimeNegate(t,u),h=f.constTimeNegate(a,h),h=new d(n.mul(h.px,r.beta),h.py,h.pz),o=u.add(h),s=l.add(p)}else{const{p:t,f:n}=this.wNAF(e);o=t,s=n}return d.normalizeZ([o,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==sn&&t!==an&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===an)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===an?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return A("isCompressed",e),this.assertValidity(),i(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return A("isCompressed",e),T(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,f=Se(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:function(e){return H(e,an,t.n)}}}function ln(e){const t=function(e){const t=Ie(e);return Y(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return ne(e,r)}function a(e){return oe(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=un({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=U;return A("isCompressed",r),r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}{const e=L(s);if(!H(e,an,n.ORDER))throw new Error("Point is not on curve");const t=l(e);let i;try{i=n.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&r)!==((i&an)===an)&&(i=n.neg(i)),{x:e,y:i}}}}),h=e=>T(z(e,t.nByteLength));function f(e){return e>r>>an}const p=(e,t,n)=>L(e.slice(t,n));class g{constructor(e,t,n){W("r",e,an,r),W("s",t,an,r),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const n=t.nByteLength;return e=D("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=on.toSig(D("DER",e));return new g(t,n)}assertValidity(){}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,u=v(D("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const l=2===o||3===o?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=c.fromHex(d+h(l)),p=a(l),g=s(-u*p),y=s(i*p),m=c.BASE.multiplyAndAddUnsafe(f,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return C(this.toDERHex())}toDERHex(){return on.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return C(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=he(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=de(t),o=he(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const s=ne(n?P(e):L(e),t-Q)+Q;return n?B(s,i):z(s,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function m(e){const t=k(e),n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof c}const w=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const n=L(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},v=t.bits2int_modN||function(e){return s(w(e))},b=F(t.nBitLength);function _(e){return W("num < 2^"+t.nBitLength,e,sn,b),z(e,t.nByteLength)}function E(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:l}=t;let{lowS:h,prehash:p,extraEntropy:y}=i;null==h&&(h=!0),e=D("msgHash",e),nn(i),p&&(e=D("prehashed msgHash",o(e)));const m=v(e),b=u(r),E=[_(b),_(m)];if(null!=y&&!1!==y){const e=!0===y?l(n.BYTES):y;E.push(D("extraEntropy",e))}const k=U(...E),A=m;return{seed:k,k2sig:function(e){const t=w(e);if(!d(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),i=s(r.x);if(i===sn)return;const o=s(n*s(A+i*b));if(o===sn)return;let u=(r.x===i?0:2)|Number(r.y&an),l=o;return h&&f(o)&&(l=function(e){return f(e)?s(-e):e}(o),u^=1),new g(i,l,u)}}}const S={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const{seed:i,k2sig:o}=E(e,n,r),s=t,a=function(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=K(e),i=K(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(0);i=a(V([0]),e),r=a(),0!==e.length&&(i=a(V([1]),e),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return U(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(u()));)c();return s(),n}}(s.hash.outputLen,s.nByteLength,s.hmac);return a(i,o)},verify:function(e,n,r){var i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;const u=e;n=D("msgHash",n),r=D("publicKey",r);const{lowS:l,prehash:d,format:h}=o;if(nn(o),"strict"in o)throw new Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw new Error("format must be compact or der");const f="string"===typeof u||k(u),p=!f&&!h&&"object"===typeof u&&null!==u&&"bigint"===typeof u.r&&"bigint"===typeof u.s;if(!f&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let y,m;try{if(p&&(y=new g(u.r,u.s)),f){try{"compact"!==h&&(y=g.fromDER(u))}catch(x){if(!(x instanceof on.Err))throw x}y||"der"===h||(y=g.fromCompact(u))}m=c.fromHex(r)}catch(N){return!1}if(!y)return!1;if(l&&y.hasHighS())return!1;d&&(n=t.hash(n));const{r:w,s:b}=y,_=v(n),E=a(b),S=s(_*E),A=s(w*E),R=null===(i=c.BASE.multiplyAndAddUnsafe(m,S,A))||void 0===i?void 0:i.toAffine();return!!R&&s(R.x)===w},ProjectivePoint:c,Signature:g,utils:y}}function dn(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return tn(e,t,(0,p.Id)(...r))},randomBytes:p.po}}const hn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fn=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pn=BigInt(1),gn=BigInt(2),yn=(e,t)=>(e+t/gn)/t;function mn(e){const t=hn,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=ie(l,n,t)*l%t,h=ie(d,n,t)*l%t,f=ie(h,gn,t)*u%t,p=ie(f,i,t)*f%t,g=ie(p,o,t)*p%t,y=ie(g,a,t)*g%t,m=ie(y,c,t)*y%t,w=ie(m,a,t)*g%t,v=ie(w,n,t)*l%t,b=ie(v,s,t)*p%t,_=ie(b,r,t)*u%t,E=ie(_,gn,t);if(!wn.eql(wn.sqr(E),e))throw new Error("Cannot find square root");return E}const wn=le(hn,void 0,void 0,{sqrt:mn}),vn=function(e,t){const n=t=>ln({...e,...dn(t)});return{...n(t),create:n}}({a:BigInt(0),b:BigInt(7),Fp:wn,n:fn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=fn,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-pn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=yn(o*e,t),c=yn(-r*e,t);let u=ne(e-a*n-c*i,t),l=ne(-a*r-c*o,t);const d=u>s,h=l>s;if(d&&(u=t-u),h&&(l=t-l),u>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:l}}}},Ze.sc);BigInt(0);vn.ProjectivePoint;const bn=Ke.utils.randomPrivateKey,_n=()=>{const e=Ke.utils.randomPrivateKey(),t=En(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},En=Ke.getPublicKey;function kn(e){try{return Ke.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Sn=(e,t)=>Ke.sign(e,t.slice(0,32)),An=Ke.verify,In=e=>r.Buffer.isBuffer(e)?e:e instanceof Uint8Array?r.Buffer.from(e.buffer,e.byteOffset,e.byteLength):r.Buffer.from(e);class Rn{constructor(e){Object.assign(this,e)}encode(){return r.Buffer.from((0,Qe.serialize)(Nn,this))}static decode(e){return(0,Qe.deserialize)(Nn,this,e)}static decodeUnchecked(e){return(0,Qe.deserializeUnchecked)(Nn,this,e)}}class xn extends Rn{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Nn=new Map;var Tn;const Mn=32,On=32;let Cn=1;class Ln extends Rn{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=Ge().decode(e);if(t.length!=On)throw new Error("Invalid public key input");this._bn=new(qe())(t)}else this._bn=new(qe())(e);if(this._bn.byteLength()>On)throw new Error("Invalid public key input")}}static unique(){const e=new Ln(Cn);return Cn+=1,new Ln(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ge().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(r.Buffer);if(e.length===On)return e;const t=r.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return"PublicKey(".concat(this.toString(),")")}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const i=r.Buffer.concat([e.toBuffer(),r.Buffer.from(t),n.toBuffer()]),o=(0,Ze.sc)(i);return new Ln(o)}static createProgramAddressSync(e,t){let n=r.Buffer.alloc(0);e.forEach((function(e){if(e.length>Mn)throw new TypeError("Max seed length exceeded");n=r.Buffer.concat([n,In(e)])})),n=r.Buffer.concat([n,t.toBuffer(),r.Buffer.from("ProgramDerivedAddress")]);const i=(0,Ze.sc)(n);if(kn(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ln(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,i=255;for(;0!=i;){try{const o=e.concat(r.Buffer.from([i]));n=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return kn(new Ln(e).toBytes())}}Tn=Ln,Ln.default=new Tn("11111111111111111111111111111111"),Nn.set(Ln,{kind:"struct",fields:[["_bn","u256"]]});class Pn{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=In(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=In(bn()),this._publicKey=In(En(this._secretKey))}get publicKey(){return new Ln(this._publicKey)}get secretKey(){return r.Buffer.concat([this._secretKey,this._publicKey],64)}}const zn=new Ln("BPFLoader1111111111111111111111111111111111"),Bn=1232,Dn=127,Un=64;class jn extends Error{constructor(e){super("Signature ".concat(e," has expired: block height exceeded.")),this.signature=void 0,this.signature=e}}Object.defineProperty(jn.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Hn extends Error{constructor(e,t){super("Transaction was not confirmed in ".concat(t.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools.")),this.signature=void 0,this.signature=e}}Object.defineProperty(Hn.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Wn extends Error{constructor(e){super("Signature ".concat(e," has expired: the nonce is no longer valid.")),this.signature=void 0,this.signature=e}}Object.defineProperty(Wn.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Fn{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,n)=>{t.set(e.toBase58(),n)}));const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((e=>n(e.pubkey))),data:e.data})))}}const Kn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Xe.av(32,e)},Vn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature";return Xe.av(64,e)},qn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=Xe.w3([Xe.DH("length"),Xe.DH("lengthPadding"),Xe.av(Xe.cY(Xe.DH(),-8),"chars")],e),n=t.decode.bind(t),i=t.encode.bind(t),o=t;return o.decode=(e,t)=>n(e,t).chars.toString(),o.encode=(e,t,n)=>{const o={chars:r.Buffer.from(e,"utf8")};return i(o,t,n)},o.alloc=e=>Xe.DH().span+Xe.DH().span+r.Buffer.from(e,"utf8").length,o};function Yn(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return Yn({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach((e=>{r+=n(e)})),r}function Gn(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t}function Zn(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function Qn(e,t){if(!e)throw new Error(t||"Assertion failed")}class Xn{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){r(o.programId).isInvoked=!0;for(const e of o.keys){const t=r(e.pubkey);t.isSigner||(t.isSigner=e.isSigner),t.isWritable||(t.isWritable=e.isWritable)}}return new Xn(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Qn(e.length<=256,"Max static account keys length exceeded");const t=e.filter((e=>{let[,t]=e;return t.isSigner&&t.isWritable})),n=e.filter((e=>{let[,t]=e;return t.isSigner&&!t.isWritable})),r=e.filter((e=>{let[,t]=e;return!t.isSigner&&t.isWritable})),i=e.filter((e=>{let[,t]=e;return!t.isSigner&&!t.isWritable})),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Qn(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Qn(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((e=>{let[t]=e;return new Ln(t)})),...n.map((e=>{let[t]=e;return new Ln(t)})),...r.map((e=>{let[t]=e;return new Ln(t)})),...i.map((e=>{let[t]=e;return new Ln(t)}))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new Ln(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(Qn(o<256,"Max lookup table index exceeded"),n.push(o),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const Jn="Reached end of buffer unexpectedly";function $n(e){if(0===e.length)throw new Error(Jn);return e.shift()}function er(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const[o]=r;if(2===r.length?o+(null!==(t=r[1])&&void 0!==t?t:0)>e.length:o>=e.length)throw new Error(Jn);return e.splice(...r)}class tr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Ln(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ge().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Fn(this.staticAccountKeys)}static compile(e){const t=Xn.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new Fn(r).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:Ge().encode(e.data)})));return new tr({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];Zn(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,i=Array.from(Ge().decode(e.data));let o=[];Zn(o,t.length);let s=[];return Zn(s,i.length),{programIdIndex:n,keyIndicesCount:r.Buffer.from(o),keyIndices:t,dataLength:r.Buffer.from(s),data:i}}));let i=[];Zn(i,n.length);let o=r.Buffer.alloc(Bn);r.Buffer.from(i).copy(o);let s=i.length;n.forEach((e=>{const t=Xe.w3([Xe.u8("programIdIndex"),Xe.av(e.keyIndicesCount.length,"keyIndicesCount"),Xe.O6(Xe.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Xe.av(e.dataLength.length,"dataLength"),Xe.O6(Xe.u8("userdatum"),e.data.length,"data")]).encode(e,o,s);s+=t})),o=o.slice(0,s);const a=Xe.w3([Xe.av(1,"numRequiredSignatures"),Xe.av(1,"numReadonlySignedAccounts"),Xe.av(1,"numReadonlyUnsignedAccounts"),Xe.av(t.length,"keyCount"),Xe.O6(Kn("key"),e,"keys"),Kn("recentBlockhash")]),c={numRequiredSignatures:r.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:r.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:r.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:r.Buffer.from(t),keys:this.accountKeys.map((e=>In(e.toBytes()))),recentBlockhash:Ge().decode(this.recentBlockhash)};let u=r.Buffer.alloc(2048);const l=a.encode(c,u);return o.copy(u,l),u.slice(0,l+o.length)}static from(e){let t=[...e];const n=$n(t);if(n!==(n&Dn))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=$n(t),o=$n(t),s=Gn(t);let a=[];for(let h=0;h<s;h++){const e=er(t,0,On);a.push(new Ln(r.Buffer.from(e)))}const c=er(t,0,On),u=Gn(t);let l=[];for(let h=0;h<u;h++){const e=$n(t),n=er(t,0,Gn(t)),i=er(t,0,Gn(t)),o=Ge().encode(r.Buffer.from(i));l.push({programIdIndex:e,accounts:n,data:o})}const d={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:Ge().encode(r.Buffer.from(c)),accountKeys:a,instructions:l};return new tr(d)}}class nr{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Fn(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-t<n-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find((e=>e.key.equals(n.accountKey)));if(!r)throw new Error("Failed to find address lookup table account for table key ".concat(n.accountKey.toBase58()));for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error("Failed to find address for index ".concat(e," in address lookup table ").concat(n.accountKey.toBase58()));t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error("Failed to find address for index ".concat(e," in address lookup table ").concat(n.accountKey.toBase58()));t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=Xn.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const c of i){const e=t.extractTableLookup(c);if(void 0!==e){const[t,{writable:i,readonly:o}]=e;n.push(t),r.writable.push(...i),r.readonly.push(...o)}}const[o,s]=t.getMessageComponents(),a=new Fn(s,r).compileInstructions(e.instructions);return new nr({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();Zn(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Zn(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();Zn(i,this.addressTableLookups.length);const o=Xe.w3([Xe.u8("prefix"),Xe.w3([Xe.u8("numRequiredSignatures"),Xe.u8("numReadonlySignedAccounts"),Xe.u8("numReadonlyUnsignedAccounts")],"header"),Xe.av(e.length,"staticAccountKeysLength"),Xe.O6(Kn(),this.staticAccountKeys.length,"staticAccountKeys"),Kn("recentBlockhash"),Xe.av(n.length,"instructionsLength"),Xe.av(t.length,"serializedInstructions"),Xe.av(i.length,"addressTableLookupsLength"),Xe.av(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(Bn),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:Ge().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(Bn);for(const n of this.compiledInstructions){const r=Array();Zn(r,n.accountKeyIndexes.length);const i=Array();Zn(i,n.data.length);e+=Xe.w3([Xe.u8("programIdIndex"),Xe.av(r.length,"encodedAccountKeyIndexesLength"),Xe.O6(Xe.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Xe.av(i.length,"encodedDataLength"),Xe.av(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Bn);for(const n of this.addressTableLookups){const r=Array();Zn(r,n.writableIndexes.length);const i=Array();Zn(i,n.readonlyIndexes.length);e+=Xe.w3([Kn("accountKey"),Xe.av(r.length,"encodedWritableIndexesLength"),Xe.O6(Xe.u8(),n.writableIndexes.length,"writableIndexes"),Xe.av(i.length,"encodedReadonlyIndexesLength"),Xe.O6(Xe.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=$n(t),r=n&Dn;Qn(n!==r,"Expected versioned message but received legacy message");Qn(0===r,"Expected versioned message with version 0 but found version ".concat(r));const i={numRequiredSignatures:$n(t),numReadonlySignedAccounts:$n(t),numReadonlyUnsignedAccounts:$n(t)},o=[],s=Gn(t);for(let h=0;h<s;h++)o.push(new Ln(er(t,0,On)));const a=Ge().encode(er(t,0,On)),c=Gn(t),u=[];for(let h=0;h<c;h++){const e=$n(t),n=er(t,0,Gn(t)),r=Gn(t),i=new Uint8Array(er(t,0,r));u.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const l=Gn(t),d=[];for(let h=0;h<l;h++){const e=new Ln(er(t,0,On)),n=er(t,0,Gn(t)),r=er(t,0,Gn(t));d.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new nr({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:d})}}const rr={deserializeMessageVersion(e){const t=e[0],n=t&Dn;return n===t?"legacy":n},deserialize:e=>{const t=rr.deserializeMessageVersion(e);if("legacy"===t)return tr.from(e);if(0===t)return nr.deserialize(e);throw new Error("Transaction message version ".concat(t," deserialization is not supported"))}};let ir=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const or=r.Buffer.alloc(Un).fill(0);class sr{constructor(e){this.keys=void 0,this.programId=void 0,this.data=r.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;return{pubkey:t.toJSON(),isSigner:n,isWritable:r}})),programId:this.programId.toJSON(),data:[...this.data]}}}class ar{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new sr(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let p=0;p<t.length;p++)if(void 0===t[p].programId)throw new Error("Transaction instruction index ".concat(p," has undefined program id"));const r=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{i.push({pubkey:new Ln(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),n=o.findIndex((e=>e.pubkey.toString()===t));n>-1?(o[n].isWritable=o[n].isWritable||e.isWritable,o[n].isSigner=o[n].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const p of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(p.publicKey)));if(!(e>-1))throw new Error("unknown signer: ".concat(p.publicKey.toString()));o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const l=[],d=[];o.forEach((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;n?(l.push(t.toString()),a+=1,r||(c+=1)):(d.push(t.toString()),r||(u+=1))}));const h=l.concat(d),f=t.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:Ge().encode(t)}}));return f.forEach((e=>{Qn(e.programIdIndex>=0),e.accounts.forEach((e=>Qn(e>=0)))})),new tr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,n)=>t[n].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!r.has(t)&&(r.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const s of t){const e=s.publicKey.toString();r.has(e)||(r.add(e),i.push(s))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const o=this._compile();this._partialSign(o,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const s of t){const e=s.publicKey.toString();r.has(e)||(r.add(e),i.push(s))}const o=this._compile();this._partialSign(o,...i)}_partialSign(e){const t=e.serialize();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((e=>{const n=Sn(t,e.secretKey);this._addSignature(e.publicKey,In(n))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Qn(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[n].signature=r.Buffer.from(t)}verifySignatures(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||(n.missing=[])).push(i):An(r,e,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+="\nInvalid signature for public key".concat(1===e.invalid.length?"":"(s)"," [`").concat(e.invalid.map((e=>e.toBase58())).join("`, `"),"`].")),e.missing&&(t+="\nMissing signature for public key".concat(1===e.missing.length?"":"(s)"," [`").concat(e.missing.map((e=>e.toBase58())).join("`, `"),"`].")),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];Zn(n,t.length);const i=n.length+64*t.length+e.length,o=r.Buffer.alloc(i);return Qn(t.length<256),r.Buffer.from(n).copy(o,0),t.forEach(((e,t)=>{let{signature:i}=e;null!==i&&(Qn(64===i.length,"signature has invalid length"),r.Buffer.from(i).copy(o,n.length+64*t))})),e.copy(o,n.length+64*t.length),Qn(o.length<=Bn,"Transaction too large: ".concat(o.length," > ").concat(Bn)),o}get keys(){return Qn(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Qn(1===this.instructions.length),this.instructions[0].programId}get data(){return Qn(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=Gn(t);let i=[];for(let o=0;o<n;o++){const e=er(t,0,Un);i.push(Ge().encode(r.Buffer.from(e)))}return ar.populate(tr.from(t),i)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=new ar;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==Ge().encode(or)?null:Ge().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new sr({keys:r,programId:e.accountKeys[t.programIdIndex],data:Ge().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}class cr{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:r,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:a}=n,c=o-s;Qn(c>0,"Message header is invalid");const u=e.staticAccountKeys.length-o-a;Qn(u>=0,"Message header is invalid");const l=e.getAccountKeys(t),d=l.get(0);if(void 0===d)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const f of r){const e=[];for(const r of f.accountKeyIndexes){const t=l.get(r);if(void 0===t)throw new Error("Failed to find key for account key index ".concat(r));let i;i=r<o?r<c:r<l.staticAccountKeys.length?r-o<u:r-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,e.push({pubkey:t,isSigner:r<n.numRequiredSignatures,isWritable:i})}const t=l.get(f.programIdIndex);if(void 0===t)throw new Error("Failed to find program id for program id index ".concat(f.programIdIndex));h.push(new sr({programId:t,data:In(f.data),keys:e}))}return new cr({payerKey:d,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return tr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return nr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class ur{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)Qn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(Un));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Zn(t,this.signatures.length);const n=Xe.w3([Xe.av(t.length,"encodedSignaturesLength"),Xe.O6(Vn(),this.signatures.length,"signatures"),Xe.av(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=Gn(t);for(let o=0;o<r;o++)n.push(new Uint8Array(er(t,0,Un)));const i=rr.deserialize(new Uint8Array(t));return new ur(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex((e=>e.equals(r.publicKey)));Qn(e>=0,"Cannot sign with non signer key ".concat(r.publicKey.toBase58())),this.signatures[e]=Sn(t,r.secretKey)}}addSignature(e,t){Qn(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));Qn(n>=0,"Can not add signature; `".concat(e.toBase58(),"` is not required to sign this transaction")),this.signatures[n]=t}}const lr=new Ln("SysvarC1ock11111111111111111111111111111111"),dr=new Ln("SysvarEpochSchedu1e111111111111111111111111"),hr=new Ln("Sysvar1nstructions1111111111111111111111111"),fr=new Ln("SysvarRecentB1ockHashes11111111111111111111"),pr=new Ln("SysvarRent111111111111111111111111111111111"),gr=new Ln("SysvarRewards111111111111111111111111111111"),yr=new Ln("SysvarS1otHashes111111111111111111111111111"),mr=new Ln("SysvarS1otHistory11111111111111111111111111"),wr=new Ln("SysvarStakeHistory1111111111111111111111111");class vr extends Error{constructor(e){let{action:t,signature:n,transactionMessage:r,logs:i}=e;const o=i?"Logs: \n".concat(JSON.stringify(i.slice(-10),null,2),". "):"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a="Transaction ".concat(n," resulted in an error. \n")+"".concat(r,". ")+o+s;break;case"simulate":a="Simulation failed. \nMessage: ".concat(r,". \n")+o+s;break;default:a="Unknown action '".concat(t,"'")}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!==typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,n)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))})).catch(n)}))),await this.transactionLogs}}const br={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class _r extends Error{constructor(e,t){let{code:n,message:r,data:i}=e;super(null!=t?"".concat(t,": ").concat(r):r),this.code=void 0,this.data=void 0,this.code=n,this.data=i,this.name="SolanaJSONRPCError"}}async function Er(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await e.sendTransaction(t,n,i);let s;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)s=(await e.confirmTransaction({abortSignal:null===r||void 0===r?void 0:r.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:null===r||void 0===r?void 0:r.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=(null===r||void 0===r?void 0:r.abortSignal)&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(o,r&&r.commitment)).value;if(s.err){if(null!=o)throw new vr({action:"send",signature:o,transactionMessage:"Status: (".concat(JSON.stringify(s),")")});throw new Error("Transaction ".concat(o," failed (").concat(JSON.stringify(s),")"))}return o}function kr(e){return new Promise((t=>setTimeout(t,e)))}function Sr(e,t){const n=e.layout.span>=0?e.layout.span:Yn(e,t),i=r.Buffer.alloc(n),o=Object.assign({instruction:e.index},t);return e.layout.encode(o,i),i}function Ar(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==e.index)throw new Error("invalid instruction; instruction index mismatch ".concat(n.instruction," != ").concat(e.index));return n}const Ir=Xe.I0("lamportsPerSignature"),Rr=Xe.w3([Xe.DH("version"),Xe.DH("state"),Kn("authorizedPubkey"),Kn("nonce"),Xe.w3([Ir],"feeCalculator")]),xr=Rr.span;class Nr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Rr.decode(In(e),0);return new Nr({authorizedPubkey:new Ln(t.authorizedPubkey),nonce:new Ln(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Tr=(Mr=8,e=>{const t=(0,Xe.av)(Mr,e),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),o=t;return o.decode=(e,t)=>{const n=i(e,t);return(0,Je.k5)(r.Buffer.from(n))},o.encode=(e,t,r)=>{const i=(0,Je.Bq)(e,Mr);return n(i,t,r)},o});var Mr;class Or{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Xe.DH("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Cr))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=Ar(Cr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new Ln(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Ar(Cr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=Ar(Cr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new Ln(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Ar(Cr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=Ar(Cr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ln(t),seed:n,space:r,programId:new Ln(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Ar(Cr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ln(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=Ar(Cr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ln(t),seed:n,programId:new Ln(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:o}=Ar(Cr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ln(t),seed:n,lamports:r,space:i,programId:new Ln(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Ar(Cr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ln(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ar(Cr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ar(Cr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Ar(Cr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ln(t)}}static checkProgramId(e){if(!e.equals(Lr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}const Cr=Object.freeze({Create:{index:0,layout:Xe.w3([Xe.DH("instruction"),Xe.Wg("lamports"),Xe.Wg("space"),Kn("programId")])},Assign:{index:1,layout:Xe.w3([Xe.DH("instruction"),Kn("programId")])},Transfer:{index:2,layout:Xe.w3([Xe.DH("instruction"),Tr("lamports")])},CreateWithSeed:{index:3,layout:Xe.w3([Xe.DH("instruction"),Kn("base"),qn("seed"),Xe.Wg("lamports"),Xe.Wg("space"),Kn("programId")])},AdvanceNonceAccount:{index:4,layout:Xe.w3([Xe.DH("instruction")])},WithdrawNonceAccount:{index:5,layout:Xe.w3([Xe.DH("instruction"),Xe.Wg("lamports")])},InitializeNonceAccount:{index:6,layout:Xe.w3([Xe.DH("instruction"),Kn("authorized")])},AuthorizeNonceAccount:{index:7,layout:Xe.w3([Xe.DH("instruction"),Kn("authorized")])},Allocate:{index:8,layout:Xe.w3([Xe.DH("instruction"),Xe.Wg("space")])},AllocateWithSeed:{index:9,layout:Xe.w3([Xe.DH("instruction"),Kn("base"),qn("seed"),Xe.Wg("space"),Kn("programId")])},AssignWithSeed:{index:10,layout:Xe.w3([Xe.DH("instruction"),Kn("base"),qn("seed"),Kn("programId")])},TransferWithSeed:{index:11,layout:Xe.w3([Xe.DH("instruction"),Tr("lamports"),qn("seed"),Kn("programId")])},UpgradeNonceAccount:{index:12,layout:Xe.w3([Xe.DH("instruction")])}});class Lr{constructor(){}static createAccount(e){const t=Sr(Cr.Create,{lamports:e.lamports,space:e.space,programId:In(e.programId.toBuffer())});return new sr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=Sr(Cr.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:In(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Sr(Cr.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new sr({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=Sr(Cr.AssignWithSeed,{base:In(e.basePubkey.toBuffer()),seed:e.seed,programId:In(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Sr(Cr.Assign,{programId:In(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Sr(Cr.CreateWithSeed,{base:In(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:In(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new sr({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new ar;"basePubkey"in e&&"seed"in e?t.add(Lr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:xr,programId:this.programId})):t.add(Lr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:xr,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=Sr(Cr.InitializeNonceAccount,{authorized:In(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new sr(n)}static nonceAdvance(e){const t=Sr(Cr.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new sr(n)}static nonceWithdraw(e){const t=Sr(Cr.WithdrawNonceAccount,{lamports:e.lamports});return new sr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:fr,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Sr(Cr.AuthorizeNonceAccount,{authorized:In(e.newAuthorizedPubkey.toBuffer())});return new sr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=Sr(Cr.AllocateWithSeed,{base:In(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:In(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Sr(Cr.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:n,programId:this.programId,data:t})}}Lr.programId=new Ln("11111111111111111111111111111111");const Pr=Bn-300;class zr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/zr.chunkSize)+1+1)}static async load(e,t,n,i,o){{const r=await e.getMinimumBalanceForRentExemption(o.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new ar,a.add(Lr.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(i)||(a=a||new ar,a.add(Lr.assign({accountPubkey:n.publicKey,programId:i}))),s.lamports<r&&(a=a||new ar,a.add(Lr.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:r-s.lamports})))}else a=(new ar).add(Lr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:r>0?r:1,space:o.length,programId:i}));null!==a&&await Er(e,a,[t,n],{commitment:"confirmed"})}const s=Xe.w3([Xe.DH("instruction"),Xe.DH("offset"),Xe.DH("bytesLength"),Xe.DH("bytesLengthPadding"),Xe.O6(Xe.u8("byte"),Xe.cY(Xe.DH(),-8),"bytes")]),a=zr.chunkSize;let c=0,u=o,l=[];for(;u.length>0;){const o=u.slice(0,a),d=r.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},d);const h=(new ar).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:d});if(l.push(Er(e,h,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await kr(1e3/e)}c+=a,u=u.slice(a)}await Promise.all(l);{const o=Xe.w3([Xe.DH("instruction")]),s=r.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new ar).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:pr,isSigner:!1,isWritable:!1}],programId:i,data:s}),c="processed",u=await e.sendTransaction(a,[t,n],{preflightCommitment:c}),{context:l,value:d}=await e.confirmTransaction({signature:u,lastValidBlockHeight:a.lastValidBlockHeight,blockhash:a.recentBlockhash},c);if(d.err)throw new Error("Transaction ".concat(u," failed (").concat(JSON.stringify(d),")"));for(;;){try{if(await e.getSlot({commitment:c})>l.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}zr.chunkSize=Pr;const Br=new Ln("BPFLoader2111111111111111111111111111111111");class Dr{static getMinNumSignatures(e){return zr.getMinNumSignatures(e)}static load(e,t,n,r,i){return zr.load(e,t,n,i,r)}}function Ur(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jr,Hr;function Wr(){if(Hr)return jr;Hr=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function n(r,i){var o,s,a,c,u,l,d;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"===typeof r.toJSON)return n(r.toJSON(),i);if("[object Array]"===(d=e.call(r))){for(a="[",s=r.length-1,o=0;o<s;o++)a+=n(r[o],!0)+",";return s>-1&&(a+=n(r[o],!0)),a+"]"}if("[object Object]"===d){for(s=(c=t(r).sort()).length,a="",o=0;o<s;)void 0!==(l=n(r[u=c[o]],!1))&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),o++;return"{"+a+"}"}return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return jr=function(e){var t=n(e,!1);if(void 0!==t)return""+t}}var Fr=Ur(Wr());function Kr(e){let t=0;for(;e>1;)e/=2,t++;return t}class Vr{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Kr(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Kr(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Kr(32)):this.slotsPerEpoch}}var qr=globalThis.fetch;class Yr extends zt{constructor(e,t,n){super((e=>{const n=Lt(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,t,n),this.underlyingSocket=void 0}call(){var e;const t=null===(e=this.underlyingSocket)||void 0===e?void 0:e.readyState;return 1===t?super.call(...arguments):Promise.reject(new Error("Tried to call a JSON-RPC method `"+(arguments.length<=0?void 0:arguments[0])+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(){var e;const t=null===(e=this.underlyingSocket)||void 0===e?void 0:e.readyState;return 1===t?super.notify(...arguments):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+(arguments.length<=0?void 0:arguments[0])+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class Gr{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error("invalid account data; account type mismatch ".concat(n.typeIndex," != ").concat(e.index));return n}(Zr,e),n=e.length-56;Qn(n>=0,"lookup table is invalid"),Qn(n%32===0,"lookup table is invalid");const r=n/32,{addresses:i}=Xe.w3([Xe.O6(Kn(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new Ln(t.authority[0]):void 0,addresses:i.map((e=>new Ln(e)))}}}const Zr={index:1,layout:Xe.w3([Xe.DH("typeIndex"),Tr("deactivationSlot"),Xe.I0("lastExtendedSlot"),Xe.u8("lastExtendedStartIndex"),Xe.u8(),Xe.O6(Kn(),Xe.cY(Xe.u8(),-1),"authority")])},Qr=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const Xr=It(pt(Ln),_t(),(e=>new Ln(e))),Jr=Et([_t(),gt("base64")]),$r=It(pt(r.Buffer),Jr,(e=>r.Buffer.from(e[0],"base64"))),ei=3e4;function ti(e){let t,n;if("string"===typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function ni(e){return e.map((e=>{var t;return"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:null!==(t=e.memcmp.encoding)&&void 0!==t?t:"base58"}}:e}))}function ri(e){return St([kt({jsonrpc:gt("2.0"),id:_t(),result:e}),kt({jsonrpc:gt("2.0"),id:_t(),error:kt({code:At(),message:_t(),data:vt(dt("any",(()=>!0)))})})])}const ii=ri(At());function oi(e){return It(ri(e),ii,(t=>"error"in t?t:{...t,result:ct(t.result,e)}))}function si(e){return oi(kt({context:kt({slot:wt()}),value:e}))}function ai(e){return kt({context:kt({slot:wt()}),value:e})}function ci(e,t){return 0===e?new nr({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new Ln(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ge().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new tr(t)}const ui=kt({foundation:wt(),foundationTerm:wt(),initial:wt(),taper:wt(),terminal:wt()}),li=oi(ht(mt(kt({epoch:wt(),effectiveSlot:wt(),amount:wt(),postBalance:wt(),commission:vt(mt(wt()))})))),di=ht(kt({slot:wt(),prioritizationFee:wt()})),hi=kt({total:wt(),validator:wt(),foundation:wt(),epoch:wt()}),fi=kt({epoch:wt(),slotIndex:wt(),slotsInEpoch:wt(),absoluteSlot:wt(),blockHeight:vt(wt()),transactionCount:vt(wt())}),pi=kt({slotsPerEpoch:wt(),leaderScheduleSlotOffset:wt(),warmup:ft(),firstNormalEpoch:wt(),firstNormalSlot:wt()}),gi=bt(_t(),ht(wt())),yi=mt(St([kt({}),_t()])),mi=kt({err:yi}),wi=gt("receivedSignature"),vi=kt({"solana-core":_t(),"feature-set":vt(wt())}),bi=kt({program:_t(),programId:Xr,parsed:At()}),_i=kt({programId:Xr,accounts:ht(Xr),data:_t()}),Ei=si(kt({err:mt(St([kt({}),_t()])),logs:mt(ht(_t())),accounts:vt(mt(ht(mt(kt({executable:ft(),owner:_t(),lamports:wt(),data:ht(_t()),rentEpoch:vt(wt())}))))),unitsConsumed:vt(wt()),returnData:vt(mt(kt({programId:_t(),data:Et([_t(),gt("base64")])}))),innerInstructions:vt(mt(ht(kt({index:wt(),instructions:ht(St([bi,_i]))}))))})),ki=si(kt({byIdentity:bt(_t(),ht(wt())),range:kt({firstSlot:wt(),lastSlot:wt()})}));const Si=oi(ui),Ai=oi(hi),Ii=oi(di),Ri=oi(fi),xi=oi(pi),Ni=oi(gi),Ti=oi(wt()),Mi=si(kt({total:wt(),circulating:wt(),nonCirculating:wt(),nonCirculatingAccounts:ht(Xr)})),Oi=kt({amount:_t(),uiAmount:mt(wt()),decimals:wt(),uiAmountString:vt(_t())}),Ci=si(ht(kt({address:Xr,amount:_t(),uiAmount:mt(wt()),decimals:wt(),uiAmountString:vt(_t())}))),Li=si(ht(kt({pubkey:Xr,account:kt({executable:ft(),owner:Xr,lamports:wt(),data:$r,rentEpoch:wt()})}))),Pi=kt({program:_t(),parsed:At(),space:wt()}),zi=si(ht(kt({pubkey:Xr,account:kt({executable:ft(),owner:Xr,lamports:wt(),data:Pi,rentEpoch:wt()})}))),Bi=si(ht(kt({lamports:wt(),address:Xr}))),Di=kt({executable:ft(),owner:Xr,lamports:wt(),data:$r,rentEpoch:wt()}),Ui=kt({pubkey:Xr,account:Di}),ji=It(St([pt(r.Buffer),Pi]),St([Jr,Pi]),(e=>Array.isArray(e)?ct(e,$r):e)),Hi=kt({executable:ft(),owner:Xr,lamports:wt(),data:ji,rentEpoch:wt()}),Wi=kt({pubkey:Xr,account:Hi}),Fi=kt({state:St([gt("active"),gt("inactive"),gt("activating"),gt("deactivating")]),active:wt(),inactive:wt()}),Ki=oi(ht(kt({signature:_t(),slot:wt(),err:yi,memo:mt(_t()),blockTime:vt(mt(wt()))}))),Vi=oi(ht(kt({signature:_t(),slot:wt(),err:yi,memo:mt(_t()),blockTime:vt(mt(wt()))}))),qi=kt({subscription:wt(),result:ai(Di)}),Yi=kt({pubkey:Xr,account:Di}),Gi=kt({subscription:wt(),result:ai(Yi)}),Zi=kt({parent:wt(),slot:wt(),root:wt()}),Qi=kt({subscription:wt(),result:Zi}),Xi=St([kt({type:St([gt("firstShredReceived"),gt("completed"),gt("optimisticConfirmation"),gt("root")]),slot:wt(),timestamp:wt()}),kt({type:gt("createdBank"),parent:wt(),slot:wt(),timestamp:wt()}),kt({type:gt("frozen"),slot:wt(),timestamp:wt(),stats:kt({numTransactionEntries:wt(),numSuccessfulTransactions:wt(),numFailedTransactions:wt(),maxTransactionsPerEntry:wt()})}),kt({type:gt("dead"),slot:wt(),timestamp:wt(),err:_t()})]),Ji=kt({subscription:wt(),result:Xi}),$i=kt({subscription:wt(),result:ai(St([mi,wi]))}),eo=kt({subscription:wt(),result:wt()}),to=kt({pubkey:_t(),gossip:mt(_t()),tpu:mt(_t()),rpc:mt(_t()),version:mt(_t())}),no=kt({votePubkey:_t(),nodePubkey:_t(),activatedStake:wt(),epochVoteAccount:ft(),epochCredits:ht(Et([wt(),wt(),wt()])),commission:wt(),lastVote:wt(),rootSlot:mt(wt())}),ro=oi(kt({current:ht(no),delinquent:ht(no)})),io=St([gt("processed"),gt("confirmed"),gt("finalized")]),oo=kt({slot:wt(),confirmations:mt(wt()),err:yi,confirmationStatus:vt(io)}),so=si(ht(mt(oo))),ao=oi(wt()),co=kt({accountKey:Xr,writableIndexes:ht(wt()),readonlyIndexes:ht(wt())}),uo=kt({signatures:ht(_t()),message:kt({accountKeys:ht(_t()),header:kt({numRequiredSignatures:wt(),numReadonlySignedAccounts:wt(),numReadonlyUnsignedAccounts:wt()}),instructions:ht(kt({accounts:ht(wt()),data:_t(),programIdIndex:wt()})),recentBlockhash:_t(),addressTableLookups:vt(ht(co))})}),lo=kt({pubkey:Xr,signer:ft(),writable:ft(),source:vt(St([gt("transaction"),gt("lookupTable")]))}),ho=kt({accountKeys:ht(lo),signatures:ht(_t())}),fo=kt({parsed:At(),program:_t(),programId:Xr}),po=kt({accounts:ht(Xr),data:_t(),programId:Xr}),go=It(St([po,fo]),St([kt({parsed:At(),program:_t(),programId:_t()}),kt({accounts:ht(_t()),data:_t(),programId:_t()})]),(e=>ct(e,"accounts"in e?po:fo))),yo=kt({signatures:ht(_t()),message:kt({accountKeys:ht(lo),instructions:ht(go),recentBlockhash:_t(),addressTableLookups:vt(mt(ht(co)))})}),mo=kt({accountIndex:wt(),mint:_t(),owner:vt(_t()),programId:vt(_t()),uiTokenAmount:Oi}),wo=kt({writable:ht(Xr),readonly:ht(Xr)}),vo=kt({err:yi,fee:wt(),innerInstructions:vt(mt(ht(kt({index:wt(),instructions:ht(kt({accounts:ht(wt()),data:_t(),programIdIndex:wt()}))})))),preBalances:ht(wt()),postBalances:ht(wt()),logMessages:vt(mt(ht(_t()))),preTokenBalances:vt(mt(ht(mo))),postTokenBalances:vt(mt(ht(mo))),loadedAddresses:vt(wo),computeUnitsConsumed:vt(wt())}),bo=kt({err:yi,fee:wt(),innerInstructions:vt(mt(ht(kt({index:wt(),instructions:ht(go)})))),preBalances:ht(wt()),postBalances:ht(wt()),logMessages:vt(mt(ht(_t()))),preTokenBalances:vt(mt(ht(mo))),postTokenBalances:vt(mt(ht(mo))),loadedAddresses:vt(wo),computeUnitsConsumed:vt(wt())}),_o=St([gt(0),gt("legacy")]),Eo=kt({pubkey:_t(),lamports:wt(),postBalance:mt(wt()),rewardType:mt(_t()),commission:vt(mt(wt()))}),ko=oi(mt(kt({blockhash:_t(),previousBlockhash:_t(),parentSlot:wt(),transactions:ht(kt({transaction:uo,meta:mt(vo),version:vt(_o)})),rewards:vt(ht(Eo)),blockTime:mt(wt()),blockHeight:mt(wt())}))),So=oi(mt(kt({blockhash:_t(),previousBlockhash:_t(),parentSlot:wt(),rewards:vt(ht(Eo)),blockTime:mt(wt()),blockHeight:mt(wt())}))),Ao=oi(mt(kt({blockhash:_t(),previousBlockhash:_t(),parentSlot:wt(),transactions:ht(kt({transaction:ho,meta:mt(vo),version:vt(_o)})),rewards:vt(ht(Eo)),blockTime:mt(wt()),blockHeight:mt(wt())}))),Io=oi(mt(kt({blockhash:_t(),previousBlockhash:_t(),parentSlot:wt(),transactions:ht(kt({transaction:yo,meta:mt(bo),version:vt(_o)})),rewards:vt(ht(Eo)),blockTime:mt(wt()),blockHeight:mt(wt())}))),Ro=oi(mt(kt({blockhash:_t(),previousBlockhash:_t(),parentSlot:wt(),transactions:ht(kt({transaction:ho,meta:mt(bo),version:vt(_o)})),rewards:vt(ht(Eo)),blockTime:mt(wt()),blockHeight:mt(wt())}))),xo=oi(mt(kt({blockhash:_t(),previousBlockhash:_t(),parentSlot:wt(),rewards:vt(ht(Eo)),blockTime:mt(wt()),blockHeight:mt(wt())}))),No=oi(mt(kt({blockhash:_t(),previousBlockhash:_t(),parentSlot:wt(),transactions:ht(kt({transaction:uo,meta:mt(vo)})),rewards:vt(ht(Eo)),blockTime:mt(wt())}))),To=oi(mt(kt({blockhash:_t(),previousBlockhash:_t(),parentSlot:wt(),signatures:ht(_t()),blockTime:mt(wt())}))),Mo=oi(mt(kt({slot:wt(),meta:mt(vo),blockTime:vt(mt(wt())),transaction:uo,version:vt(_o)}))),Oo=oi(mt(kt({slot:wt(),transaction:yo,meta:mt(bo),blockTime:vt(mt(wt())),version:vt(_o)}))),Co=si(kt({blockhash:_t(),lastValidBlockHeight:wt()})),Lo=si(ft()),Po=oi(ht(kt({slot:wt(),numTransactions:wt(),numSlots:wt(),samplePeriodSecs:wt()}))),zo=si(mt(kt({feeCalculator:kt({lamportsPerSignature:wt()})}))),Bo=oi(_t()),Do=oi(_t()),Uo=kt({err:yi,logs:ht(_t()),signature:_t()}),jo=kt({result:ai(Uo),subscription:wt()}),Ho={"solana-client":"js/".concat("1.0.0-maintenance")};class Wo{constructor(e,t){let n,r,i,o,s,a;var c;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{var n;const{commitment:r,config:i}=ti(t),o=this._buildArgs([],r,void 0,i),s=Fr(o);return e[s]=null!==(n=e[s])&&void 0!==n?n:(async()=>{try{const e=ct(await this._rpcRequest("getBlockHeight",o),oi(wt()));if("error"in e)throw new _r(e.error,"failed to get block height information");return e.result}finally{delete e[s]}})(),await e[s]}})(),t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(Qr);if(null==t)throw TypeError("Failed to validate endpoint URL `".concat(e,"`"));const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10),c=null==a?"":":".concat(a+1);return"".concat(s,"//").concat(r).concat(c).concat(o)}(e),this._rpcClient=function(e,t,n,r,i,o){const s=n||qr;let a;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(e,t)=>{const n=await new Promise(((n,i)=>{try{r(e,t,((e,t)=>n([e,t])))}catch(o){i(o)}}));return await s(...n)}),new(xt())((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},Ho)};try{let t,n=5,c=500;for(;t=a?await a(e,o):await s(e,o),429===t.status&&!0!==i&&(n-=1,0!==n);)console.error("Server responded with ".concat(t.status," ").concat(t.statusText,".  Retrying after ").concat(c,"ms delay...")),await kr(c),c*=2;const u=await t.text();t.ok?r(null,u):r(new Error("".concat(t.status," ").concat(t.statusText,": ").concat(u)))}catch(c){c instanceof Error&&r(c)}}),{})}(e,r,i,o,s,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((n,r)=>{c.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new Yr(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgs([e.toBase58()],n,void 0,r),o=ct(await this._rpcRequest("getBalance",i),si(wt()));if("error"in o)throw new _r(o.error,"failed to get balance for ".concat(e.toBase58()));return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=ct(await this._rpcRequest("getBlockTime",[e]),oi(mt(wt())));if("error"in t)throw new _r(t.error,"failed to get block time for slot ".concat(e));return t.result}async getMinimumLedgerSlot(){const e=ct(await this._rpcRequest("minimumLedgerSlot",[]),oi(wt()));if("error"in e)throw new _r(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=ct(await this._rpcRequest("getFirstAvailableBlock",[]),Ti);if("error"in e)throw new _r(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=ct(await this._rpcRequest("getSupply",[t]),Mi);if("error"in n)throw new _r(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=ct(await this._rpcRequest("getTokenSupply",n),si(Oi));if("error"in r)throw new _r(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=ct(await this._rpcRequest("getTokenAccountBalance",n),si(Oi));if("error"in r)throw new _r(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=ti(n);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=ct(await this._rpcRequest("getTokenAccountsByOwner",s),Li);if("error"in a)throw new _r(a.error,"failed to get token accounts owned by account ".concat(e.toBase58()));return a.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=ct(await this._rpcRequest("getTokenAccountsByOwner",i),zi);if("error"in o)throw new _r(o.error,"failed to get token accounts owned by account ".concat(e.toBase58()));return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=ct(await this._rpcRequest("getLargestAccounts",n),Bi);if("error"in r)throw new _r(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=ct(await this._rpcRequest("getTokenLargestAccounts",n),Ci);if("error"in r)throw new _r(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgs([e.toBase58()],n,"base64",r),o=ct(await this._rpcRequest("getAccountInfo",i),si(mt(Di)));if("error"in o)throw new _r(o.error,"failed to get info about account ".concat(e.toBase58()));return o.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=ct(await this._rpcRequest("getAccountInfo",i),si(mt(Hi)));if("error"in o)throw new _r(o.error,"failed to get info about account ".concat(e.toBase58()));return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=ti(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=ct(await this._rpcRequest("getMultipleAccounts",o),si(ht(mt(Hi))));if("error"in s)throw new _r(s.error,"failed to get info for accounts ".concat(i));return s.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=ti(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"base64",r),s=ct(await this._rpcRequest("getMultipleAccounts",o),si(ht(mt(Di))));if("error"in s)throw new _r(s.error,"failed to get info for accounts ".concat(i));return s.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=ti(t),o=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:null===i||void 0===i?void 0:i.epoch}),s=ct(await this._rpcRequest("getStakeActivation",o),oi(Fi));if("error"in s)throw new _r(s.error,"failed to get Stake Activation ".concat(e.toBase58()));return s.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=ti(t),{encoding:i,...o}=r||{},s=this._buildArgs([e.toBase58()],n,i||"base64",{...o,...o.filters?{filters:ni(o.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",s),c=ht(Ui),u=!0===o.withContext?ct(a,si(c)):ct(a,oi(c));if("error"in u)throw new _r(u.error,"failed to get accounts owned by program ".concat(e.toBase58()));return u.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=ct(await this._rpcRequest("getProgramAccounts",i),oi(ht(Wi)));if("error"in o)throw new _r(o.error,"failed to get accounts owned by program ".concat(e.toBase58()));return o.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{var i;const t=e;if(null!==(i=t.abortSignal)&&void 0!==i&&i.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=Ge().decode(n)}catch(o){throw new Error("signature must be base58 encoded: "+n)}return Qn(64===r.length,"signature has invalid length"),"string"===typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise(e){let t,n,{commitment:r,signature:i}=e,o=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=t&&(this.removeSignatureListener(t),t=void 0)},confirmationPromise:new Promise(((e,s)=>{try{t=this.onSignature(i,((n,r)=>{t=void 0;const i={context:r,value:n};e({__type:ir.PROCESSED,response:i})}),r);const a=new Promise((e=>{null==t?e():n=this._onSubscriptionStateChange(t,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await a,o)return;const t=await this.getSignatureStatus(i);if(o)return;if(null==t)return;const{context:n,value:c}=t;if(null!=c)if(null!==c&&void 0!==c&&c.err)s(c.err);else{switch(r){case"confirmed":case"single":case"singleGossip":if("processed"===c.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===c.confirmationStatus||"confirmed"===c.confirmationStatus)return}o=!0,e({__type:ir.PROCESSED,response:{context:n,value:c}})}})()}catch(a){s(a)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy(e){let{commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}=e,o=!1;const s=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await n();if(!o){for(;t<=r;){if(await kr(1e3),o)return;if(t=await n(),o)return}e({__type:ir.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(n);let l;try{const e=await Promise.race([u,c,s]);if(e.__type!==ir.PROCESSED)throw new jn(i);l=e.response}finally{o=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy(e){let{commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}=e,a=!1;const c=new Promise((e=>{let n=o,s=null;const c=async()=>{try{const{context:e,value:n}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return s=e.slot,null===n||void 0===n?void 0:n.nonce}catch(e){return n}};(async()=>{if(n=await c(),!a)for(;;){if(o!==n)return void e({__type:ir.NONCE_INVALID,slotInWhichNonceDidAdvance:s});if(await kr(2e3),a)return;if(n=await c(),a)return}})()})),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),d=this.getCancellationPromise(n);let h;try{const e=await Promise.race([d,l,c]);if(e.__type===ir.PROCESSED)h=e.response;else{var f;let n;for(;;){var p;const t=await this.getSignatureStatus(s);if(null==t)break;if(!(t.context.slot<(null!==(p=e.slotInWhichNonceDidAdvance)&&void 0!==p?p:r))){n=t;break}await kr(400)}if(null===(f=n)||void 0===f||!f.value)throw new Wn(s);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new Wn(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new Wn(s);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new Wn(s)}h={context:n.context,value:{err:n.value.err}}}}}finally{a=!0,u()}return h}async confirmTransactionUsingLegacyTimeoutStrategy(e){let t,{commitment:n,signature:r}=e;const i=new Promise((e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(n){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}t=setTimeout((()=>e({__type:ir.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:n,signature:r});let a;try{const e=await Promise.race([s,i]);if(e.__type!==ir.PROCESSED)throw new Hn(r,e.timeoutMs/1e3);a=e.response}finally{clearTimeout(t),o()}return a}async getClusterNodes(){const e=ct(await this._rpcRequest("getClusterNodes",[]),oi(ht(to)));if("error"in e)throw new _r(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=ct(await this._rpcRequest("getVoteAccounts",t),ro);if("error"in n)throw new _r(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=ti(e),r=this._buildArgs([],t,void 0,n),i=ct(await this._rpcRequest("getSlot",r),oi(wt()));if("error"in i)throw new _r(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:n}=ti(e),r=this._buildArgs([],t,void 0,n),i=ct(await this._rpcRequest("getSlotLeader",r),oi(_t()));if("error"in i)throw new _r(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const n=[e,t],r=ct(await this._rpcRequest("getSlotLeaders",n),oi(ht(Xr)));if("error"in r)throw new _r(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);Qn(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=ct(await this._rpcRequest("getSignatureStatuses",n),so);if("error"in r)throw new _r(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=ti(e),r=this._buildArgs([],t,void 0,n),i=ct(await this._rpcRequest("getTransactionCount",r),oi(wt()));if("error"in i)throw new _r(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=ct(await this._rpcRequest("getInflationGovernor",t),Si);if("error"in n)throw new _r(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=ti(n),o=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{...i,epoch:null!=t?t:null===i||void 0===i?void 0:i.epoch}),s=ct(await this._rpcRequest("getInflationReward",o),li);if("error"in s)throw new _r(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const e=ct(await this._rpcRequest("getInflationRate",[]),Ai);if("error"in e)throw new _r(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:n}=ti(e),r=this._buildArgs([],t,void 0,n),i=ct(await this._rpcRequest("getEpochInfo",r),Ri);if("error"in i)throw new _r(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=ct(await this._rpcRequest("getEpochSchedule",[]),xi);if("error"in e)throw new _r(e.error,"failed to get epoch schedule");const t=e.result;return new Vr(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=ct(await this._rpcRequest("getLeaderSchedule",[]),Ni);if("error"in e)throw new _r(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=ct(await this._rpcRequest("getMinimumBalanceForRentExemption",n),ao);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=ct(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),Po);if("error"in t)throw new _r(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=ct(await this._rpcRequest("getFeeCalculatorForBlockhash",n),zo);if("error"in r)throw new _r(r.error,"failed to get fee calculator");const{context:i,value:o}=r.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const n=In(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=ct(await this._rpcRequest("getFeeForMessage",r),si(mt(wt())));if("error"in i)throw new _r(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){var t;const n=null===e||void 0===e||null===(t=e.lockedWritableAccounts)||void 0===t?void 0:t.map((e=>e.toBase58())),r=null!==n&&void 0!==n&&n.length?[n]:[],i=ct(await this._rpcRequest("getRecentPrioritizationFees",r),Ii);if("error"in i)throw new _r(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=ti(e),r=this._buildArgs([],t,void 0,n),i=ct(await this._rpcRequest("getLatestBlockhash",r),Co);if("error"in i)throw new _r(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgs([e],n,void 0,r),o=ct(await this._rpcRequest("isBlockhashValid",i),Lo);if("error"in o)throw new _r(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){const e=ct(await this._rpcRequest("getVersion",[]),oi(vi));if("error"in e)throw new _r(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=ct(await this._rpcRequest("getGenesisHash",[]),oi(_t()));if("error"in e)throw new _r(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(null===r||void 0===r?void 0:r.transactionDetails){case"accounts":{const e=ct(o,Ao);if("error"in e)throw e.error;return e.result}case"none":{const e=ct(o,So);if("error"in e)throw e.error;return e.result}default:{const e=ct(o,ko);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((e=>{let{transaction:t,meta:n,version:r}=e;return{meta:n,transaction:{...t,message:ci(r,t.message)},version:r}}))}:null}}}catch(s){throw new _r(s,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(null===r||void 0===r?void 0:r.transactionDetails){case"accounts":{const e=ct(o,Ro);if("error"in e)throw e.error;return e.result}case"none":{const e=ct(o,xo);if("error"in e)throw e.error;return e.result}default:{const e=ct(o,Io);if("error"in e)throw e.error;return e.result}}}catch(s){throw new _r(s,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"===typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=ct(await this._rpcRequest("getBlockProduction",r),ki);if("error"in i)throw new _r(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=ct(await this._rpcRequest("getTransaction",i),Mo);if("error"in o)throw new _r(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:ci(s.version,s.transaction.message)}}:s}async getParsedTransaction(e,t){const{commitment:n,config:r}=ti(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=ct(await this._rpcRequest("getTransaction",i),Oo);if("error"in o)throw new _r(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=ti(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=ct(e,Oo);if("error"in t)throw new _r(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:n,config:r}=ti(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=ct(e,Mo);if("error"in t)throw new _r(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:ci(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=ct(await this._rpcRequest("getBlock",n),No);if("error"in r)throw new _r(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");const o={...i,transactions:i.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new tr(t.message);return{meta:n,transaction:{...t,message:r}}}))};return{...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:n}=e;return{meta:n,transaction:ar.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=ct(await this._rpcRequest("getBlocks",r),oi(ht(wt())));if("error"in i)throw new _r(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=ct(await this._rpcRequest("getBlock",n),To);if("error"in r)throw new _r(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=ct(await this._rpcRequest("getBlock",n),To);if("error"in r)throw new _r(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=ct(await this._rpcRequest("getTransaction",n),Mo);if("error"in r)throw new _r(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const o=new tr(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:ar.populate(o,s)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=ct(await this._rpcRequest("getTransaction",n),Oo);if("error"in r)throw new _r(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=ct(e,Oo);if("error"in t)throw new _r(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in r)&&!(++n>o);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=ct(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),Ki);if("error"in i)throw new _r(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=ct(await this._rpcRequest("getSignaturesForAddress",r),Vi);if("error"in i)throw new _r(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new Gr({key:e,state:Gr.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=Nr.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=ct(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),Bo);if("error"in n)throw new _r(n.error,"airdrop to ".concat(e.toBase58()," failed"));return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await kr(100);const e=Date.now()-this._blockhashInfo.lastFetch>=ei;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let r=0;r<50;r++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await kr(200)}throw new Error("Unable to obtain a new blockhash after ".concat(Date.now()-e,"ms"))}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=ti(e),r=this._buildArgs([],t,"base64",n),i=ct(await this._rpcRequest("getStakeMinimumDelegation",r),si(wt()));if("error"in i)throw new _r(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,n){if("message"in e){const i=e.serialize(),o=r.Buffer.from(i).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment),t&&"object"===typeof t&&"innerInstructions"in t&&(s.innerInstructions=t.innerInstructions);const a=[o,s],c=ct(await this._rpcRequest("simulateTransaction",a),Ei);if("error"in c)throw new Error("failed to simulate transaction: "+c.error.message);return c.result}let i;if(e instanceof ar){let t=e;i=new ar,i.feePayer=t.feePayer,i.instructions=e.instructions,i.nonceInfo=t.nonceInfo,i.signatures=t.signatures}else i=ar.populate(e),i._message=i._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(i.nonceInfo&&o)i.sign(...o);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=t.lastValidBlockHeight,i.recentBlockhash=t.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const s=i._compile(),a=s.serialize(),c=i._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:s.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}o&&(u.sigVerify=!0),t&&"object"===typeof t&&"innerInstructions"in t&&(u.innerInstructions=t.innerInstructions);const l=[c,u],d=ct(await this._rpcRequest("simulateTransaction",l),Ei);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(d.error.message,n)}throw new vr({action:"simulate",signature:"",transactionMessage:d.error.message,logs:e})}return d.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=In(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[e,n],s=ct(await this._rpcRequest("sendTransaction",o),Do);if("error"in s){let e;throw"data"in s.error&&(e=s.error.data.logs),new vr({action:r?"send":"simulate",signature:"",transactionMessage:s.error.message,logs:e})}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,n]=e;this._setSubscription(t,{...n,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){var n;const r=null===(n=this._subscriptionsByHash[e])||void 0===n?void 0:n.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){var n;const r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};const i=(n=this._subscriptionStateChangeCallbacksByHash)[r]||(n[r]=new Set);return i.add(t),()=>{i.delete(t),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log("Error when closing socket connection: ".concat(e.message))}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(o){if(console.error("Received ".concat(o instanceof Error?"":"JSON-RPC ","error calling `").concat(i,"`"),{args:r,error:o}),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(o){if(o instanceof Error&&console.error("".concat(i," error:"),o.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(n){console.error(n)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=ct(e,qi);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=Fr([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];Qn(void 0!==t,"Could not find a `Subscription` when tearing down client subscription #".concat(n)),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:i}=ti(n),o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=ct(e,Gi);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const{commitment:i,config:o}=ti(n),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(r?{filters:ni(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=ct(e,jo);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=ct(e,Qi);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=ct(e,Ji);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn("Ignored unsubscribe request because an active subscription with id "+"`".concat(e,"` for '").concat(t,"' events ")+"could not be found.")}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=ct(e,$i);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],r,void 0,i),s=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(s)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=ct(e,eo);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Fo{constructor(e){this._keypair=void 0,this._keypair=null!==e&&void 0!==e?e:_n()}static generate(){return new Fo(_n())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=En(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new Fo({publicKey:n,secretKey:e})}static fromSeed(e){const t=En(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new Fo({publicKey:t,secretKey:n})}get publicKey(){return new Ln(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ko=Object.freeze({CreateLookupTable:{index:0,layout:Xe.w3([Xe.DH("instruction"),Tr("recentSlot"),Xe.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Xe.w3([Xe.DH("instruction")])},ExtendLookupTable:{index:2,layout:Xe.w3([Xe.DH("instruction"),Tr(),Xe.O6(Kn(),Xe.cY(Xe.DH(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Xe.w3([Xe.DH("instruction")])},CloseLookupTable:{index:4,layout:Xe.w3([Xe.DH("instruction")])}});class Vo{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Xe.DH("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Ko))if(i.index==t){n=r;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Ar(Ko.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error("invalid instruction; found ".concat(e.keys.length," keys, expected at least 2"));const{addresses:t}=Ar(Ko.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new Ln(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(qo.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}class qo{constructor(){}static createLookupTable(e){const[t,n]=Ln.findProgramAddressSync([e.authority.toBuffer(),(0,Je.Bq)(BigInt(e.recentSlot),8)],this.programId),r=Sr(Ko.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Lr.programId,isSigner:!1,isWritable:!1}];return[new sr({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=Sr(Ko.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sr({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=Sr(Ko.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Lr.programId,isSigner:!1,isWritable:!1}),new sr({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=Sr(Ko.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sr({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=Sr(Ko.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new sr({programId:this.programId,keys:n,data:t})}}qo.programId=new Ln("AddressLookupTab1e1111111111111111111111111");class Yo{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Xe.u8("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Go))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=Ar(Go.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Ar(Go.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Ar(Go.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Ar(Go.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Zo.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Go=Object.freeze({RequestUnits:{index:0,layout:Xe.w3([Xe.u8("instruction"),Xe.DH("units"),Xe.DH("additionalFee")])},RequestHeapFrame:{index:1,layout:Xe.w3([Xe.u8("instruction"),Xe.DH("bytes")])},SetComputeUnitLimit:{index:2,layout:Xe.w3([Xe.u8("instruction"),Xe.DH("units")])},SetComputeUnitPrice:{index:3,layout:Xe.w3([Xe.u8("instruction"),Tr("microLamports")])}});class Zo{constructor(){}static requestUnits(e){const t=Sr(Go.RequestUnits,e);return new sr({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Sr(Go.RequestHeapFrame,e);return new sr({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Sr(Go.SetComputeUnitLimit,e);return new sr({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Sr(Go.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new sr({keys:[],programId:this.programId,data:t})}}Zo.programId=new Ln("ComputeBudget111111111111111111111111111111");const Qo=Xe.w3([Xe.u8("numSignatures"),Xe.u8("padding"),Xe.NX("signatureOffset"),Xe.NX("signatureInstructionIndex"),Xe.NX("publicKeyOffset"),Xe.NX("publicKeyInstructionIndex"),Xe.NX("messageDataOffset"),Xe.NX("messageDataSize"),Xe.NX("messageInstructionIndex")]);class Xo{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,instructionIndex:o}=e;Qn(32===t.length,"Public Key must be ".concat(32," bytes but received ").concat(t.length," bytes")),Qn(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));const s=Qo.span,a=s+t.length,c=a+i.length,u=r.Buffer.alloc(c+n.length),l=null==o?65535:o;return Qo.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:l},u),u.fill(t,s),u.fill(i,a),u.fill(n,c),new sr({keys:[],programId:Xo.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Qn(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{const e=Fo.fromSecretKey(t),i=e.publicKey.toBytes(),o=Sn(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(i){throw new Error("Error creating instruction; ".concat(i))}}}Xo.programId=new Ln("Ed25519SigVerify111111111111111111111111111");vn.utils.isValidPrivateKey;const Jo=vn.getPublicKey,$o=Xe.w3([Xe.u8("numSignatures"),Xe.NX("signatureOffset"),Xe.u8("signatureInstructionIndex"),Xe.NX("ethAddressOffset"),Xe.u8("ethAddressInstructionIndex"),Xe.NX("messageDataOffset"),Xe.NX("messageDataSize"),Xe.u8("messageInstructionIndex"),Xe.av(20,"ethAddress"),Xe.av(64,"signature"),Xe.u8("recoveryId")]);class es{constructor(){}static publicKeyToEthAddress(e){Qn(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return r.Buffer.from($t(In(e))).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:o}=e;return es.createInstructionWithEthAddress({ethAddress:es.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?r.Buffer.from(t.substr(2),"hex"):r.Buffer.from(t,"hex"):t,Qn(20===a.length,"Address must be ".concat(20," bytes but received ").concat(a.length," bytes"));const c=12+a.length,u=c+i.length+1,l=r.Buffer.alloc($o.span+n.length);return $o.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:s,signature:In(i),ethAddress:In(a),recoveryId:o},l),l.fill(In(n),$o.span),new sr({keys:[],programId:es.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;Qn(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{const e=In(t),o=Jo(e,!1).slice(1),s=r.Buffer.from($t(In(n))),[a,c]=((e,t)=>{const n=vn.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:c,instructionIndex:i})}catch(o){throw new Error("Error creating instruction; ".concat(o))}}}var ts;es.programId=new Ln("KeccakSecp256k11111111111111111111111111111");const ns=new Ln("StakeConfig11111111111111111111111111111111");class rs{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class is{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}ts=is,is.default=new ts(0,0,Ln.default);class os{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Xe.DH("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(ss))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=Ar(ss.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new rs(new Ln(t.staker),new Ln(t.withdrawer)),lockup:new is(n.unixTimestamp,n.epoch,new Ln(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Ar(ss.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=Ar(ss.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ln(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=Ar(ss.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new Ln(i),newAuthorizedPubkey:new Ln(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ar(ss.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ar(ss.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Ar(ss.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Ar(ss.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(cs.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}const ss=Object.freeze({Initialize:{index:0,layout:Xe.w3([Xe.DH("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return Xe.w3([Kn("staker"),Kn("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return Xe.w3([Xe.Wg("unixTimestamp"),Xe.Wg("epoch"),Kn("custodian")],e)}()])},Authorize:{index:1,layout:Xe.w3([Xe.DH("instruction"),Kn("newAuthorized"),Xe.DH("stakeAuthorizationType")])},Delegate:{index:2,layout:Xe.w3([Xe.DH("instruction")])},Split:{index:3,layout:Xe.w3([Xe.DH("instruction"),Xe.Wg("lamports")])},Withdraw:{index:4,layout:Xe.w3([Xe.DH("instruction"),Xe.Wg("lamports")])},Deactivate:{index:5,layout:Xe.w3([Xe.DH("instruction")])},Merge:{index:7,layout:Xe.w3([Xe.DH("instruction")])},AuthorizeWithSeed:{index:8,layout:Xe.w3([Xe.DH("instruction"),Kn("newAuthorized"),Xe.DH("stakeAuthorizationType"),qn("authoritySeed"),Kn("authorityOwner")])}}),as=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class cs{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||is.default,o=Sr(ss.Initialize,{authorized:{staker:In(n.staker.toBuffer()),withdrawer:In(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:In(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:pr,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new sr(s)}static createAccountWithSeed(e){const t=new ar;t.add(Lr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new ar;t.add(Lr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=Sr(ss.Delegate);return(new ar).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:ns,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=e,s=Sr(ss.Authorize,{newAuthorized:In(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new ar).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,c=Sr(ss.AuthorizeWithSeed,{newAuthorized:In(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:In(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new ar).add({keys:u,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,o=Sr(ss.Split,{lamports:i});return new sr({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){const n=new ar;return n.add(Lr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,c=new ar;return c.add(Lr.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),t&&t>0&&c.add(Lr.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),c.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=Sr(ss.Merge);return(new ar).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=e,s=Sr(ss.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new ar).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=Sr(ss.Deactivate);return(new ar).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}cs.programId=new Ln("Stake11111111111111111111111111111111111111"),cs.space=200;class us{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r}}class ls{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Xe.DH("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(ds))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Ar(ds.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new us(new Ln(t.nodePubkey),new Ln(t.authorizedVoter),new Ln(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=Ar(ds.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ln(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=Ar(ds.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ln(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Ln(r),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Ar(ds.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(fs.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}const ds=Object.freeze({InitializeAccount:{index:0,layout:Xe.w3([Xe.DH("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return Xe.w3([Kn("nodePubkey"),Kn("authorizedVoter"),Kn("authorizedWithdrawer"),Xe.u8("commission")],e)}()])},Authorize:{index:1,layout:Xe.w3([Xe.DH("instruction"),Kn("newAuthorized"),Xe.DH("voteAuthorizationType")])},Withdraw:{index:3,layout:Xe.w3([Xe.DH("instruction"),Xe.Wg("lamports")])},UpdateValidatorIdentity:{index:4,layout:Xe.w3([Xe.DH("instruction")])},AuthorizeWithSeed:{index:10,layout:Xe.w3([Xe.DH("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return Xe.w3([Xe.DH("voteAuthorizationType"),Kn("currentAuthorityDerivedKeyOwnerPubkey"),qn("currentAuthorityDerivedKeySeed"),Kn("newAuthorized")],e)}()])}}),hs=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class fs{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=Sr(ds.InitializeAccount,{voteInit:{nodePubkey:In(r.nodePubkey.toBuffer()),authorizedVoter:In(r.authorizedVoter.toBuffer()),authorizedWithdrawer:In(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:pr,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new sr(o)}static createAccount(e){const t=new ar;return t.add(Lr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,o=Sr(ds.Authorize,{newAuthorized:In(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new ar).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=Sr(ds.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:In(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:In(i.toBuffer()),voteAuthorizationType:o.index}}),c=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new ar).add({keys:c,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,o=Sr(ds.Withdraw,{lamports:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new ar).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return fs.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=Sr(ds.UpdateValidatorIdentity),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new ar).add({keys:o,programId:this.programId,data:i})}}fs.programId=new Ln("Vote111111111111111111111111111111111111111"),fs.space=3762;const ps=new Ln("Va1idator1nfo111111111111111111111111111111"),gs=kt({name:_t(),website:vt(_t()),details:vt(_t()),iconUrl:vt(_t()),keybaseUsername:vt(_t())});class ys{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Gn(t))return null;const n=[];for(let r=0;r<2;r++){const e=new Ln(er(t,0,On)),r=1===$n(t);n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(ps)&&n[1].isSigner){const e=qn().decode(r.Buffer.from(t)),i=JSON.parse(e);return at(i,gs),new ys(n[1].publicKey,i)}return null}}const ms=new Ln("Vote111111111111111111111111111111111111111"),ws=Xe.w3([Kn("nodePubkey"),Kn("authorizedWithdrawer"),Xe.u8("commission"),Xe.I0(),Xe.O6(Xe.w3([Xe.I0("slot"),Xe.DH("confirmationCount")]),Xe.cY(Xe.DH(),-8),"votes"),Xe.u8("rootSlotValid"),Xe.I0("rootSlot"),Xe.I0(),Xe.O6(Xe.w3([Xe.I0("epoch"),Kn("authorizedVoter")]),Xe.cY(Xe.DH(),-8),"authorizedVoters"),Xe.w3([Xe.O6(Xe.w3([Kn("authorizedPubkey"),Xe.I0("epochOfLastAuthorizedSwitch"),Xe.I0("targetEpoch")]),32,"buf"),Xe.I0("idx"),Xe.u8("isEmpty")],"priorVoters"),Xe.I0(),Xe.O6(Xe.w3([Xe.I0("epoch"),Xe.I0("credits"),Xe.I0("prevCredits")]),Xe.cY(Xe.DH(),-8),"epochCredits"),Xe.w3([Xe.I0("slot"),Xe.I0("timestamp")],"lastTimestamp")]);class vs{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=ws.decode(In(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new vs({nodePubkey:new Ln(t.nodePubkey),authorizedWithdrawer:new Ln(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(bs),priorVoters:Es(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function bs(e){let{authorizedVoter:t,epoch:n}=e;return{epoch:n,authorizedVoter:new Ln(t)}}function _s(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:n,targetEpoch:r}=e;return{authorizedPubkey:new Ln(t),epochOfLastAuthorizedSwitch:n,targetEpoch:r}}function Es(e){let{buf:t,idx:n,isEmpty:r}=e;return r?[]:[...t.slice(n+1).map(_s),...t.slice(0,n).map(_s)]}const ks={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Ss(e,t){const n=!1===t?"http":"https";if(!e)return ks[n].devnet;const r=ks[n][e];if(!r)throw new Error("Unknown ".concat(n," cluster: ").concat(e));return r}async function As(e,t,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,s),c=o&&o.commitment,u=i?e.confirmTransaction(i,c):e.confirmTransaction(a,c),l=(await u).value;if(l.err){if(null!=a)throw new vr({action:null!==s&&void 0!==s&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:"Status: (".concat(JSON.stringify(l),")")});throw new Error("Raw transaction ".concat(a," failed (").concat(JSON.stringify(l),")"))}return a}const Is=1e9},7970:(e,t,n)=>{"use strict";var r=n(9966).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===c;)i++,n++;for(var s=(e.length-n)*u+1>>>0,l=new Uint8Array(s);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<o)&&-1!==f;f--,h++)d+=a*l[f]>>>0,l[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=h,n++}for(var p=s-o;p!==s&&0===l[p];)p++;var g=r.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var y=i;p!==s;)g[y++]=l[p++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var u=(s-o)*l+1>>>0,d=new Uint8Array(u);o!==s;){for(var h=t[o],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,o++}for(var g=u-i;g!==u&&0===d[g];)g++;for(var y=c.repeat(n);g<u;++g)y+=e.charAt(d[g]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},5913:(e,t,n)=>{var r=n(7970);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},6281:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===a;)r++,n++;for(var o=(e.length-n)*c+1>>>0,u=new Uint8Array(o);e[n];){var l=t[e.charCodeAt(n)];if(255===l)return;for(var d=0,h=o-1;(0!==l||d<i)&&-1!==h;h--,d++)l+=s*u[h]>>>0,u[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,n++}for(var f=o-i;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(r+(o-f)),g=r;f!==o;)p[g++]=u[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=t[i],h=0,f=c-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=c-r;p!==c&&0===l[p];)p++;for(var g=a.repeat(n);p<c;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],c=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),l=0,d=c>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7081:(e,t,n)=>{"use strict";var r=n(6382).Buffer;t.k5=function(e){{const t=r.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt("0x".concat(n))}},t.Bq=function(e,t){{const n=e.toString(16),i=r.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return i.reverse(),i}}},6373:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(7790).Buffer}catch(x){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function c(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function u(e,t,n,i){for(var o=0,s=0,a=Math.min(e.length,n),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=c(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=c(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,s=o%r,a=Math.min(o,o-s)+n,c=0,l=n;l<a;l+=r)c=u(e,l,l+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,l,e.length,t),l=0;l<s;l++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(x){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?h[6-c.length]+c+n:c+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],l=p[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var g=d.modrn(l).toString(e);n=(d=d.idivn(l)).isZero()?g+n:h[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function g(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var l=c>>>26,d=67108863&c,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var p=u-f|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}n.words[u]=0|d,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===o?(n<e.length&&(e[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===o?(n>=0&&(e[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(t=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<n.length;s++)o=(t=(0|n.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,n){var r,i,o,s=e.words,a=t.words,c=n.words,u=0,l=0|s[0],d=8191&l,h=l>>>13,f=0|s[1],p=8191&f,g=f>>>13,y=0|s[2],m=8191&y,w=y>>>13,v=0|s[3],b=8191&v,_=v>>>13,E=0|s[4],k=8191&E,S=E>>>13,A=0|s[5],I=8191&A,R=A>>>13,x=0|s[6],N=8191&x,T=x>>>13,M=0|s[7],O=8191&M,C=M>>>13,L=0|s[8],P=8191&L,z=L>>>13,B=0|s[9],D=8191&B,U=B>>>13,j=0|a[0],H=8191&j,W=j>>>13,F=0|a[1],K=8191&F,V=F>>>13,q=0|a[2],Y=8191&q,G=q>>>13,Z=0|a[3],Q=8191&Z,X=Z>>>13,J=0|a[4],$=8191&J,ee=J>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,le=0|a[8],de=8191&le,he=le>>>13,fe=0|a[9],pe=8191&fe,ge=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(u+(r=Math.imul(d,H))|0)+((8191&(i=(i=Math.imul(d,W))+Math.imul(h,H)|0))<<13)|0;u=((o=Math.imul(h,W))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,W))+Math.imul(g,H)|0,o=Math.imul(g,W);var me=(u+(r=r+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,V)|0)+Math.imul(h,K)|0))<<13)|0;u=((o=o+Math.imul(h,V)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(m,H),i=(i=Math.imul(m,W))+Math.imul(w,H)|0,o=Math.imul(w,W),r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(g,K)|0,o=o+Math.imul(g,V)|0;var we=(u+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,G)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(b,H),i=(i=Math.imul(b,W))+Math.imul(_,H)|0,o=Math.imul(_,W),r=r+Math.imul(m,K)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,V)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,G)|0;var ve=(u+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(k,H),i=(i=Math.imul(k,W))+Math.imul(S,H)|0,o=Math.imul(S,W),r=r+Math.imul(b,K)|0,i=(i=i+Math.imul(b,V)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,V)|0,r=r+Math.imul(m,Y)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,G)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,X)|0;var be=(u+(r=r+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(I,H),i=(i=Math.imul(I,W))+Math.imul(R,H)|0,o=Math.imul(R,W),r=r+Math.imul(k,K)|0,i=(i=i+Math.imul(k,V)|0)+Math.imul(S,K)|0,o=o+Math.imul(S,V)|0,r=r+Math.imul(b,Y)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,G)|0,r=r+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,X)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,$)|0,o=o+Math.imul(g,ee)|0;var _e=(u+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(N,H),i=(i=Math.imul(N,W))+Math.imul(T,H)|0,o=Math.imul(T,W),r=r+Math.imul(I,K)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(R,K)|0,o=o+Math.imul(R,V)|0,r=r+Math.imul(k,Y)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,G)|0,r=r+Math.imul(b,Q)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,X)|0,r=r+Math.imul(m,$)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(g,ne)|0,o=o+Math.imul(g,re)|0;var Ee=(u+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(O,H),i=(i=Math.imul(O,W))+Math.imul(C,H)|0,o=Math.imul(C,W),r=r+Math.imul(N,K)|0,i=(i=i+Math.imul(N,V)|0)+Math.imul(T,K)|0,o=o+Math.imul(T,V)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,G)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,G)|0,r=r+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,X)|0,r=r+Math.imul(b,$)|0,i=(i=i+Math.imul(b,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(m,ne)|0,i=(i=i+Math.imul(m,re)|0)+Math.imul(w,ne)|0,o=o+Math.imul(w,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var ke=(u+(r=r+Math.imul(d,ce)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(h,ce)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(P,H),i=(i=Math.imul(P,W))+Math.imul(z,H)|0,o=Math.imul(z,W),r=r+Math.imul(O,K)|0,i=(i=i+Math.imul(O,V)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,V)|0,r=r+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,G)|0,r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(k,$)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,ee)|0,r=r+Math.imul(b,ne)|0,i=(i=i+Math.imul(b,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(w,oe)|0,o=o+Math.imul(w,se)|0,r=r+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,ce)|0,o=o+Math.imul(g,ue)|0;var Se=(u+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,H),i=(i=Math.imul(D,W))+Math.imul(U,H)|0,o=Math.imul(U,W),r=r+Math.imul(P,K)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(z,K)|0,o=o+Math.imul(z,V)|0,r=r+Math.imul(O,Y)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,G)|0,r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,X)|0,r=r+Math.imul(I,$)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(R,$)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(k,ne)|0,i=(i=i+Math.imul(k,re)|0)+Math.imul(S,ne)|0,o=o+Math.imul(S,re)|0,r=r+Math.imul(b,oe)|0,i=(i=i+Math.imul(b,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,r=r+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(w,ce)|0,o=o+Math.imul(w,ue)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,de)|0,o=o+Math.imul(g,he)|0;var Ae=(u+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ge)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,K),i=(i=Math.imul(D,V))+Math.imul(U,K)|0,o=Math.imul(U,V),r=r+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(z,Y)|0,o=o+Math.imul(z,G)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,X)|0,r=r+Math.imul(N,$)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,ee)|0,r=r+Math.imul(I,ne)|0,i=(i=i+Math.imul(I,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,r=r+Math.imul(b,ce)|0,i=(i=i+Math.imul(b,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,r=r+Math.imul(m,de)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(w,de)|0,o=o+Math.imul(w,he)|0;var Ie=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,Y),i=(i=Math.imul(D,G))+Math.imul(U,Y)|0,o=Math.imul(U,G),r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(z,Q)|0,o=o+Math.imul(z,X)|0,r=r+Math.imul(O,$)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,ee)|0,r=r+Math.imul(N,ne)|0,i=(i=i+Math.imul(N,re)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,re)|0,r=r+Math.imul(I,oe)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,r=r+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(S,ce)|0,o=o+Math.imul(S,ue)|0,r=r+Math.imul(b,de)|0,i=(i=i+Math.imul(b,he)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,he)|0;var Re=(u+(r=r+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(w,pe)|0))<<13)|0;u=((o=o+Math.imul(w,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(D,Q),i=(i=Math.imul(D,X))+Math.imul(U,Q)|0,o=Math.imul(U,X),r=r+Math.imul(P,$)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(z,$)|0,o=o+Math.imul(z,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(C,ne)|0,o=o+Math.imul(C,re)|0,r=r+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,r=r+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(R,ce)|0,o=o+Math.imul(R,ue)|0,r=r+Math.imul(k,de)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(S,de)|0,o=o+Math.imul(S,he)|0;var xe=(u+(r=r+Math.imul(b,pe)|0)|0)+((8191&(i=(i=i+Math.imul(b,ge)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(D,$),i=(i=Math.imul(D,ee))+Math.imul(U,$)|0,o=Math.imul(U,ee),r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(z,ne)|0,o=o+Math.imul(z,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,r=r+Math.imul(N,ce)|0,i=(i=i+Math.imul(N,ue)|0)+Math.imul(T,ce)|0,o=o+Math.imul(T,ue)|0,r=r+Math.imul(I,de)|0,i=(i=i+Math.imul(I,he)|0)+Math.imul(R,de)|0,o=o+Math.imul(R,he)|0;var Ne=(u+(r=r+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(S,pe)|0))<<13)|0;u=((o=o+Math.imul(S,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(D,ne),i=(i=Math.imul(D,re))+Math.imul(U,ne)|0,o=Math.imul(U,re),r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(z,oe)|0,o=o+Math.imul(z,se)|0,r=r+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,r=r+Math.imul(N,de)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(T,de)|0,o=o+Math.imul(T,he)|0;var Te=(u+(r=r+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,ge)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),r=r+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(z,ce)|0,o=o+Math.imul(z,ue)|0,r=r+Math.imul(O,de)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,he)|0;var Me=(u+(r=r+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ge)|0)+Math.imul(T,pe)|0))<<13)|0;u=((o=o+Math.imul(T,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),r=r+Math.imul(P,de)|0,i=(i=i+Math.imul(P,he)|0)+Math.imul(z,de)|0,o=o+Math.imul(z,he)|0;var Oe=(u+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(D,de),i=(i=Math.imul(D,he))+Math.imul(U,de)|0,o=Math.imul(U,he);var Ce=(u+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ge)|0)+Math.imul(z,pe)|0))<<13)|0;u=((o=o+Math.imul(z,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Le=(u+(r=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,ge))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,ge))+(i>>>13)|0)+(Le>>>26)|0,Le&=67108863,c[0]=ye,c[1]=me,c[2]=we,c[3]=ve,c[4]=be,c[5]=_e,c[6]=Ee,c[7]=ke,c[8]=Se,c[9]=Ae,c[10]=Ie,c[11]=Re,c[12]=xe,c[13]=Ne,c[14]=Te,c[15]=Me,c[16]=Oe,c[17]=Ce,c[18]=Le,0!==u&&(c[19]=u,n.length++),n};function m(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var l=o-u,d=(0|e.words[l])*(0|t.words[u]),h=67108863&d;a=67108863&(h=h+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function w(e,t,n){return m(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(y=g),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):n<63?g(this,e,t):n<1024?m(this,e,t):w(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},v.prototype.permute=function(e,t,n,r,i,o){for(var s=0;s<o;s++)r[s]=t[e[s]],i[s]=n[e[s]]},v.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var d=c,h=u,f=0;f<s;f++){var p=n[l+f],g=r[l+f],y=n[l+f+s],m=r[l+f+s],w=d*y-h*m;m=d*m+h*y,y=w,n[l+f]=p+y,r[l+f]=g+m,n[l+f+s]=p-y,r[l+f+s]=g-m,f!==a&&(w=c*d-u*h,h=c*h+u*d,d=w)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},v.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,u,r),this.transform(s,o,a,c,r,i),this.transform(u,o,l,d,r,i);for(var f=0;f<r;f++){var p=a[f]*l[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*l[f],a[f]=p}return this.conjugate(a,c,r),this.transform(a,c,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),w(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<n;this.words[t]=c|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var d=0|this.words[u];this.words[u]=l<<26-o|d>>>o,l=d&a}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,s=e.length+n;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,c=r.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0===(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(l),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),s.isub(c)):(n.isub(t),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,h=1;0===(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a)):(n.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new I(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function R(e){I.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(E,_),E.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(k,_),i(S,_),i(A,_),A.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new k;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return b[e]=t,t},I.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},I.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},I.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},I.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},I.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},I.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},I.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},I.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},I.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},I.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},I.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},I.prototype.isqr=function(e){return this.imul(e,e.clone())},I.prototype.sqr=function(e){return this.mul(e,e)},I.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var d=this.pow(l,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=s;0!==f.cmp(a);){for(var g=f,y=0;0!==g.cmp(a);y++)g=g.redSqr();r(y<p);var m=this.pow(d,new o(1).iushln(p-y-1));h=h.redMul(m),d=m.redSqr(),f=f.redMul(d),p=y}return h},I.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},I.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],l=c-1;l>=0;l--){var d=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4===++a||0===r&&0===l)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}c=26}return i},I.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},I.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new R(e)},i(R,I),R.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},R.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},R.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},R.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},R.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},6060:function(e,t,n){"use strict";var r=n(6382).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const u=c(n(6373)),l=c(n(9810)),d=a(n(8068)),h=new("function"!==typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=r.from(e,"utf8")),l.default.encode(r.from(e))},t.baseDecode=function(e){return r.from(l.default.decode(e))};const f=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class g{constructor(){this.buf=r.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(r.from(new u.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(r.from(new u.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(r.from(new u.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(r.from(new u.default(e).toArray("le",64)))}writeBuffer(e){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),e,r.alloc(f)]),this.length+=e.length}writeString(e){this.maybeResize();const t=r.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(r.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function y(e,t,n){const r=n.value;n.value=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=g;class m{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new u.default(e,"le")}readU128(){const e=this.readBuffer(16);return new u.default(e,"le")}readU256(){const e=this.readBuffer(32);return new u.default(e,"le")}readU512(){const e=this.readBuffer(64);return new u.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p("Expected buffer length ".concat(e," isn't within bounds"));const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(n){throw new p("Error decoding UTF-8 string: ".concat(n))}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}function v(e,t,n,r,i){try{if("string"===typeof r)i["write".concat(w(r))](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new p("Expecting byte array of length ".concat(r[0],", but got ").concat(n.length," bytes"));i.writeFixedArray(n)}else if(2===r.length&&"number"===typeof r[1]){if(n.length!==r[1])throw new p("Expecting byte array of length ".concat(r[1],", but got ").concat(n.length," bytes"));for(let t=0;t<r[1];t++)v(e,null,n[t],r[0],i)}else i.writeArray(n,(n=>{v(e,t,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null===n||void 0===n?i.writeU8(0):(i.writeU8(1),v(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{v(e,t,o,r.key,i),v(e,t,n,r.value,i)}));break;default:throw new p("FieldType ".concat(r," unrecognized"))}else b(e,n,i)}catch(o){throw o instanceof p&&o.addToFieldPath(t),o}}function b(e,t,n){if("function"===typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new p("Class ".concat(t.constructor.name," is missing in schema"));if("struct"===r.kind)r.fields.map((r=>{let[i,o]=r;v(e,i,t[i],o,n)}));else{if("enum"!==r.kind)throw new p("Unexpected schema kind: ".concat(r.kind," for ").concat(t.constructor.name));{const i=t[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),v(e,s,t[s],a,n);break}}}}}function _(e,t,n,r){try{if("string"===typeof n)return r["read".concat(w(n))]();if(n instanceof Array){if("number"===typeof n[0])return r.readFixedArray(n[0]);if("number"===typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(_(e,null,n[0],r));return t}return r.readArray((()=>_(e,t,n[0],r)))}if("option"===n.kind){return r.readU8()?_(e,t,n.type,r):void 0}if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=_(e,t,n.key,r),s=_(e,t,n.value,r);i.set(o,s)}return i}return E(e,n,r)}catch(i){throw i instanceof p&&i.addToFieldPath(t),i}}function E(e,t,n){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new p("Class ".concat(t.name," is missing in schema"));if("struct"===r.kind){const r={};for(const[i,o]of e.get(t).fields)r[i]=_(e,i,o,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p("Enum index: ".concat(i," is out of range"));const[o,s]=r.values[i];return new t({[o]:_(e,o,s,n)})}throw new p("Unexpected schema kind: ".concat(r.kind," for ").concat(t.constructor.name))}s([y],m.prototype,"readU8",null),s([y],m.prototype,"readU16",null),s([y],m.prototype,"readU32",null),s([y],m.prototype,"readU64",null),s([y],m.prototype,"readU128",null),s([y],m.prototype,"readU256",null),s([y],m.prototype,"readU512",null),s([y],m.prototype,"readString",null),s([y],m.prototype,"readFixedArray",null),s([y],m.prototype,"readArray",null),t.BinaryReader=m,t.serialize=function(e,t){const n=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:g);return b(e,t,n),n.toArray()},t.deserialize=function(e,t,n){const r=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:m)(n),i=E(e,t,r);if(r.offset<n.length)throw new p("Unexpected ".concat(n.length-r.offset," bytes after deserialized data"));return i},t.deserializeUnchecked=function(e,t,n){return E(e,t,new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:m)(n))}},4925:(e,t,n)=>{"use strict";var r=n(9966).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===c;)i++,n++;for(var s=(e.length-n)*u+1>>>0,l=new Uint8Array(s);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<o)&&-1!==f;f--,h++)d+=a*l[f]>>>0,l[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=h,n++}for(var p=s-o;p!==s&&0===l[p];)p++;var g=r.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var y=i;p!==s;)g[y++]=l[p++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var u=(s-o)*l+1>>>0,d=new Uint8Array(u);o!==s;){for(var h=t[o],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,o++}for(var g=u-i;g!==u&&0===d[g];)g++;for(var y=c.repeat(n);g<u;++g)y+=e.charAt(d[g]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},9810:(e,t,n)=>{var r=n(4925);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},462:(e,t,n)=>{const r=n(6281);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3465:(e,t,n)=>{"use strict";var r=n(6382).Buffer;class i{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function o(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=i,t.nameWithProperty=o,t.bindConstructorLayout=function(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof i))throw new TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,n){return t.decode(e,n)},writable:!0})};class s extends i{isCount(){throw new Error("ExternalLayout is abstract")}}class a extends s{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class c extends s{constructor(e,t,n){if(!(e instanceof i))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof u||this.layout instanceof l}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class u extends i{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class l extends i{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}class d extends i{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class h extends i{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const f=Math.pow(2,32);function p(e){const t=Math.floor(e/f);return{hi32:t,lo32:e-t*f}}function g(e,t){return e*f+t}class y extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return g(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=p(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class m extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return g(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=p(e);return t.writeUInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class w extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return g(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=p(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class v extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return g(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=p(e);return t.writeInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class b extends i{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatLE(e,n),4}}class _ extends i{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatBE(e,n),4}}class E extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleLE(e,n),8}}class k extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleBE(e,n),8}}class S extends i{constructor(e,t,n){if(!(e instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof s)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0,r=this.count;if(r instanceof s&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t){void 0===t&&(t=0);const n=[];let r=0,i=this.count;for(i instanceof s&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n){void 0===n&&(n=0);const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof s&&this.count.encode(e.length,t,n),i}}class A extends i{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof i),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===n&&(n=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(o){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class I{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class R extends I{constructor(e,t){if(!(e instanceof s&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class x extends i{constructor(e,t,n){const r=e instanceof u||e instanceof l;if(r)e=new R(new c(e));else if(e instanceof s&&e.isCount())e=new R(e);else if(!(e instanceof I))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&r&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return a(e)},this.configGetSourceVariant=function(e){a=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new N(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return r.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class N extends i{constructor(e,t,n,r){if(!(e instanceof x))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof i))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function T(e){return 0>e&&(e+=4294967296),e}class M extends i{constructor(e,t,n){if(!(e instanceof u||e instanceof l))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===n&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=T(e),this},this._packedGetValue=function(){return r}}decode(e,t){const n=this.makeDestinationObject();void 0===t&&(t=0);const r=this.word.decode(e,t);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(r));return n}encode(e,t,n){void 0===n&&(n=0);const r=this.word.decode(t,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new O(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new C(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class O{constructor(e,t,n){if(!(e instanceof M))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=T(this.valueMask<<this.start),this.property=n}decode(){return T(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==T(e&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=T(e<<this.start);this.container._packedSetValue(T(t&~this.wordMask)|n)}}class C extends O{constructor(e,t){super(e,1,t)}decode(e,t){return!!O.prototype.decode.call(this,e,t)}encode(e){return"boolean"===typeof e&&(e=+e),O.prototype.encode.call(this,e)}}class L extends i{constructor(e,t){if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof s||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof s&&(i=e.length),!r.isBuffer(e)||i!==e.length)throw new TypeError(o("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,i,"hex"),this.length instanceof s&&this.length.encode(i,t,n),i}}class P extends i{constructor(e){super(-1,e)}getSpan(e,t){if(!r.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);return e.slice(t,t+r-1).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!==typeof e&&(e=e.toString());const i=new r(e,"utf8"),o=i.length;if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,n),t[n+o]=0,o+1}}class z extends i{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!r.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+r).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!==typeof e&&(e=e.toString());const i=new r(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,n),o}}class B extends i{constructor(e,t){super(0,t),this.value=e}decode(e,t,n){return this.value}encode(e,t,n){return 0}}t.ExternalLayout=s,t.GreedyCount=a,t.OffsetLayout=c,t.UInt=u,t.UIntBE=l,t.Int=d,t.IntBE=h,t.Float=b,t.FloatBE=_,t.Double=E,t.DoubleBE=k,t.Sequence=S,t.Structure=A,t.UnionDiscriminator=I,t.UnionLayoutDiscriminator=R,t.Union=x,t.VariantLayout=N,t.BitStructure=M,t.BitField=O,t.Boolean=C,t.Blob=L,t.CString=P,t.UTF8=z,t.Constant=B,t.greedy=(e,t)=>new a(e,t),t.offset=(e,t,n)=>new c(e,t,n),t.u8=e=>new u(1,e),t.u16=e=>new u(2,e),t.u24=e=>new u(3,e),t.u32=e=>new u(4,e),t.u40=e=>new u(5,e),t.u48=e=>new u(6,e),t.nu64=e=>new y(e),t.u16be=e=>new l(2,e),t.u24be=e=>new l(3,e),t.u32be=e=>new l(4,e),t.u40be=e=>new l(5,e),t.u48be=e=>new l(6,e),t.nu64be=e=>new m(e),t.s8=e=>new d(1,e),t.s16=e=>new d(2,e),t.s24=e=>new d(3,e),t.s32=e=>new d(4,e),t.s40=e=>new d(5,e),t.s48=e=>new d(6,e),t.ns64=e=>new w(e),t.s16be=e=>new h(2,e),t.s24be=e=>new h(3,e),t.s32be=e=>new h(4,e),t.s40be=e=>new h(5,e),t.s48be=e=>new h(6,e),t.ns64be=e=>new v(e),t.f32=e=>new b(e),t.f32be=e=>new _(e),t.f64=e=>new E(e),t.f64be=e=>new k(e),t.struct=(e,t,n)=>new A(e,t,n),t.bits=(e,t,n)=>new M(e,t,n),t.seq=(e,t,n)=>new S(e,t,n),t.union=(e,t,n)=>new x(e,t,n),t.unionLayoutDiscriminator=(e,t)=>new R(e,t),t.blob=(e,t)=>new L(e,t),t.cstr=e=>new P(e),t.utf8=(e,t)=>new z(e,t),t.const=(e,t)=>new B(e,t)},6382:(e,t,n)=>{"use strict";const r=n(4445),i=n(6900),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Q(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return r?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Q(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){let o,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function b(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Q(r))return s;e[n+s]=r}return s}function _(e,t,n,r){return G(q(t,e.length-n),e,n,r)}function E(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return G(Y(t),e,n,r)}function S(e,t,n,r){return G(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(c=(31&t)<<6|63&n,c>127&&(o=c));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(Z(t,Uint8Array))i+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,i){if(Z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(r,i),l=e.slice(t,n);for(let c=0;c<a;++c)if(u[c]!==l[c]){o=u[c],s=l[c];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function x(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=X[e[o]];return i}function M(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,i){W(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function P(e,t,n,r,i){W(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function z(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return t=+t,n>>>=0,o||z(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||z(e,0,n,8),i.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||K(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){C(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){C(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e){return P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);C(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e){return L(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e){return P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=c.isBuffer(e)?e:c.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const U={};function j(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function H(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function W(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?">= 0".concat(r," and < 2").concat(r," ** ").concat(8*(o+1)).concat(r):">= -(2".concat(r," ** ").concat(8*(o+1)-1).concat(r,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(r):">= ".concat(t).concat(r," and <= ").concat(n).concat(r),new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){F(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||K(t,e.length-(n+1))}(r,i,o)}function F(e,t){if("number"!==typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function K(e,t,n){if(Math.floor(e)!==e)throw F(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,n){let r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=H(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i),r}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Y(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},9894:e=>{"use strict";const t=/[\p{Lu}]/u,n=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,i=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,s=new RegExp("^"+o.source),a=new RegExp(o.source+i.source,"gu"),c=new RegExp("\\d+"+i.source,"gu"),u=(e,i)=>{if("string"!==typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const o=!1===i.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(i.locale),u=!1===i.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(i.locale);if(1===e.length)return i.pascalCase?u(e):o(e);return e!==o(e)&&(e=((e,r,i)=>{let o=!1,s=!1,a=!1;for(let c=0;c<e.length;c++){const u=e[c];o&&t.test(u)?(e=e.slice(0,c)+"-"+e.slice(c),o=!1,a=s,s=!0,c++):s&&a&&n.test(u)?(e=e.slice(0,c-1)+"-"+e.slice(c-1),a=s,s=!1,o=!0):(o=r(u)===u&&i(u)!==u,a=s,s=i(u)===u&&r(u)!==u)}return e})(e,o,u)),e=e.replace(s,""),e=i.preserveConsecutiveUppercase?((e,t)=>(r.lastIndex=0,e.replace(r,(e=>t(e)))))(e,o):o(e),i.pascalCase&&(e=u(e.charAt(0))+e.slice(1)),((e,t)=>(a.lastIndex=0,c.lastIndex=0,e.replace(a,((e,n)=>t(n))).replace(c,(e=>t(e)))))(e,u)};e.exports=u,e.exports.default=u},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},6900:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+d],d+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*g}},3861:(e,t,n)=>{"use strict";const r=n(5092).v4,i=n(8656),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:"undefined"!==typeof t.reviver?t.reviver:null,replacer:"undefined"!==typeof t.replacer?t.replacer:null,generator:"undefined"!==typeof t.generator?t.generator:function(){return r()},version:"undefined"!==typeof t.version?t.version:2,notificationIdNull:"boolean"===typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=o,o.prototype.request=function(e,t,n,r){const o=this;let s=null;const a=Array.isArray(e)&&"function"===typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"===typeof e&&"function"===typeof t)r=t,s=e;else{"function"===typeof n&&(r=n,n=void 0);const o="function"===typeof r;try{s=i(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(o)return r(u);throw u}if(!o)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,(function(e,t){o._parseResponse(e,t,r)})),s},o.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(e){return n(e)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return"undefined"!==typeof e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)}},8656:(e,t,n)=>{"use strict";const r=n(5092).v4;e.exports=function(e,t,n,i){if("string"!==typeof e)throw new TypeError(e+" must be a string");const o="number"===typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:e};if(2===o&&(s.jsonrpc="2.0"),t){if("object"!==typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if("undefined"===typeof n){const e="function"===typeof i.generator?i.generator:function(){return r()};s.id=e(s,i)}else 2===o&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),R=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var C=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var z,B=Object.assign;function D(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function H(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case E:return"Portal";case A:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function F(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var me=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,ke=null,Se=null;function Ae(e){if(e=vi(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function Ie(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Re(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Te=!1;function Me(e,t,n){if(Te)return e(t,n);Te=!0;try{return xe(e,t,n)}finally{Te=!1,(null!==ke||null!==Se)&&(Ne(),Re())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ce=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ce=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(le){Ce=!1}function Pe(e,t,n,r,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var ze=!1,Be=null,De=!1,Ue=null,je={onError:function(e){ze=!0,Be=e}};function He(e,t,n,r,i,o,s,a,c){ze=!1,Be=null,Pe.apply(je,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Fe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(We(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ke(i),e;if(s===r)return Ke(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,kt,St,At,It=!1,Rt=[],xt=null,Nt=null,Tt=null,Mt=new Map,Ot=new Map,Ct=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function zt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=wi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Fe(n)))return e.blockedOn=t,void At(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Dt(e)&&n.delete(t)}function jt(){It=!1,null!==xt&&Dt(xt)&&(xt=null),null!==Nt&&Dt(Nt)&&(Nt=null),null!==Tt&&Dt(Tt)&&(Tt=null),Mt.forEach(Ut),Ot.forEach(Ut)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Wt(e){function t(t){return Ht(t,e)}if(0<Rt.length){Ht(Rt[0],e);for(var n=1;n<Rt.length;n++){var r=Rt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Ht(xt,e),null!==Nt&&Ht(Nt,e),null!==Tt&&Ht(Tt,e),Mt.forEach(t),Ot.forEach(t),n=0;n<Ct.length;n++)(r=Ct[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)Bt(n),null===n.blockedOn&&Ct.shift()}var Ft=b.ReactCurrentBatchConfig,Kt=!0;function Vt(e,t,n,r){var i=vt,o=Ft.transition;Ft.transition=null;try{vt=1,Yt(e,t,n,r)}finally{vt=i,Ft.transition=o}}function qt(e,t,n,r){var i=vt,o=Ft.transition;Ft.transition=null;try{vt=4,Yt(e,t,n,r)}finally{vt=i,Ft.transition=o}}function Yt(e,t,n,r){if(Kt){var i=Zt(e,t,n,r);if(null===i)Kr(e,t,r,Gt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=zt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=zt(Nt,e,t,n,r,i),!0;case"mouseover":return Tt=zt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,zt(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,zt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=vi(i);if(null!==o&&_t(o),null===(o=Zt(e,t,n,r))&&Kr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function Zt(e,t,n,r){if(Gt=null,null!==(e=wi(e=_e(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Fe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(un),dn=B({},un,{view:0,detail:0}),hn=on(dn),fn=B({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),gn=on(B({},fn,{dataTransfer:0})),yn=on(B({},dn,{relatedTarget:0})),mn=on(B({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=B({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(wn),bn=on(B({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function An(){return Sn}var In=B({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=on(In),xn=on(B({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(B({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Tn=on(B({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=B({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Mn),Cn=[9,13,27,32],Ln=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var zn=l&&"TextEvent"in window&&!Pn,Bn=l&&(!Ln||Pn&&8<Pn&&11>=Pn),Dn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ie(r),0<(t=qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Gn(e){Dr(e,0)}function Zn(e){if(Y(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Yn=qn=null)}function nr(e){if("value"===e.propertyName&&Zn(Yn)){var t=[];Vn(t,Yn,e,_e(e)),Me(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Yn)}function or(e,t){if("click"===e)return Zn(t)}function sr(e,t){if("input"===e||"change"===e)return Zn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var s=lr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,wr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==yr||yr!==G(r)||("selectionStart"in(r=yr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&cr(wr,r)||(wr=r,0<(r=qr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Sr={};function Ar(e){if(kr[e])return kr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ir=Ar("animationend"),Rr=Ar("animationiteration"),xr=Ar("animationstart"),Nr=Ar("transitionend"),Tr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Tr.set(e,t),c(t,[e])}for(var Cr=0;Cr<Mr.length;Cr++){var Lr=Mr[Cr];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(Rr,"onAnimationIteration"),Or(xr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Br(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,c,u){if(He.apply(this,arguments),ze){if(!ze)throw Error(o(198));var l=Be;ze=!1,Be=null,De||(De=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Br(i,a,u),o=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,u=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Br(i,a,u),o=c}}}if(De)throw e=Ue,De=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Fr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Fr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Hr]){e[Hr]=!0,s.forEach((function(t){"selectionchange"!==t&&(zr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,jr("selectionchange",!1,t))}}function Fr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=qt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ce||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=wi(a)))return;if(5===(c=s.tag)||6===c){r=o=s;continue e}a=a.parentNode}}r=r.return}Me((function(){var r=o,i=_e(n),s=[];e:{var a=Tr.get(e);if(void 0!==a){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Rn;break;case"focusin":u="focus",c=yn;break;case"focusout":u="blur",c=yn;break;case"beforeblur":case"afterblur":c=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case Ir:case Rr:case xr:c=mn;break;case Nr:c=Tn;break;case"scroll":c=hn;break;case"wheel":c=On;break;case"copy":case"cut":case"paste":c=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn}var l=0!==(4&t),d=!l&&"scroll"===e,h=l?null!==a?a+"Capture":null:a;l=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Oe(p,h))&&l.push(Vr(p,g,f)))),d)break;p=p.return}0<l.length&&(a=new c(a,u,null,n,i),s.push({event:a,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!wi(u)&&!u[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?wi(u):null)&&(u!==(d=We(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=xn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:bi(c),f=null==u?a:bi(u),(a=new l(g,p+"leave",c,n,i)).target=d,a.relatedTarget=f,g=null,wi(i)===r&&((l=new l(h,p+"enter",u,n,i)).target=f,l.relatedTarget=d,g=l),d=g,c&&u)e:{for(h=u,p=0,f=l=c;f;f=Yr(f))p++;for(f=0,g=h;g;g=Yr(g))f++;for(;0<p-f;)l=Yr(l),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Yr(l),h=Yr(h)}l=null}else l=null;null!==c&&Gr(s,a,c,l,!1),null!==u&&null!==d&&Gr(s,d,u,l,!0)}if("select"===(c=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=Qn;else if(Kn(a))if(Xn)y=sr;else{y=ir;var m=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=or);switch(y&&(y=y(e,r))?Vn(s,y,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?bi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,wr=null);break;case"focusout":wr=mr=yr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(s,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(s,n,i)}var w;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Wn?jn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Bn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Wn&&(w=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Wn=!0)),0<(m=qr(r,v)).length&&(v=new bn(v,e,null,n,i),s.push({event:v,listeners:m}),w?v.data=w:null!==(w=Hn(n))&&(v.data=w))),(w=zn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Un=!0,Dn);case"textInput":return(e=t.data)===Dn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Ln&&jn(e,t)?(e=en(),$t=Jt=Xt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=w))}Dr(s,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Oe(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(c=Oe(n,o))&&s.unshift(Vr(n,c,a)):i||null!=(c=Oe(n,o))&&s.push(Vr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Zr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Wt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,yi="__reactListeners$"+di,mi="__reactHandles$"+di;function wi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var Ei=[],ki=-1;function Si(e){return{current:e}}function Ai(e){0>ki||(e.current=Ei[ki],Ei[ki]=null,ki--)}function Ii(e,t){ki++,Ei[ki]=e.current,e.current=t}var Ri={},xi=Si(Ri),Ni=Si(!1),Ti=Ri;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ri;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ci(){Ai(Ni),Ai(xi)}function Li(e,t,n){if(xi.current!==Ri)throw Error(o(168));Ii(xi,t),Ii(Ni,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,F(e)||"Unknown",i));return B({},n,r)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,Ti=xi.current,Ii(xi,e),Ii(Ni,Ni.current),!0}function Bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Ai(Ni),Ai(xi),Ii(xi,e)):Ai(Ni),Ii(Ni,n)}var Di=null,Ui=!1,ji=!1;function Hi(e){null===Di?Di=[e]:Di.push(e)}function Wi(){if(!ji&&null!==Di){ji=!0;var e=0,t=vt;try{var n=Di;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Ui=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ye($e,Wi),i}finally{vt=t,ji=!1}}return null}var Fi=[],Ki=0,Vi=null,qi=0,Yi=[],Gi=0,Zi=null,Qi=1,Xi="";function Ji(e,t){Fi[Ki++]=qi,Fi[Ki++]=Vi,Vi=e,qi=t}function $i(e,t,n){Yi[Gi++]=Qi,Yi[Gi++]=Xi,Yi[Gi++]=Zi,Zi=e;var r=Qi;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qi=1<<32-st(t)+i|n<<i|r,Xi=o+e}else Qi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function to(e){for(;e===Vi;)Vi=Fi[--Ki],Fi[Ki]=null,qi=Fi[--Ki],Fi[Ki]=null;for(;e===Zi;)Zi=Yi[--Gi],Yi[Gi]=null,Xi=Yi[--Gi],Yi[Gi]=null,Qi=Yi[--Gi],Yi[Gi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw fo(),Error(o(418));for(;t;)so(e,t),t=ui(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var yo=b.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=B({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var wo=Si(null),vo=null,bo=null,_o=null;function Eo(){_o=bo=vo=null}function ko(e){var t=wo.current;Ai(wo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){vo=e,_o=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===vo)throw Error(o(308));bo=e,vo.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Ro=null;function xo(e){null===Ro?Ro=[e]:Ro.push(e)}function No(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xo(t)):(n.next=i.next,i.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Po(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,To(e,n)}return null===(i=r.interleaved)?(t.next=t,xo(r)):(t.next=i.next,i.next=t),r.interleaved=t,To(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function Bo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Do(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,u=c.next;c.next=null,null===s?o=u:s.next=u,s=c;var l=e.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===a?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(null!==o){var d=i.baseState;for(s=0,l=u=c=null,a=o;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=B({},d,h);break e;case 2:Mo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(u=l=f,c=d):l=l.next=f,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Bc|=s,e.lanes=s,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var jo=(new r.Component).refs;function Ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:B({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wo={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(ru(t,e,i,r),zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Po(e,o,i))&&(ru(t,e,i,r),zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Po(e,i,r))&&(ru(t,e,r,n),zo(t,e,r))}};function Fo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,o))}function Ko(e,t,n){var r=!1,i=Ri,o=t.contextType;return"object"===typeof o&&null!==o?o=Io(o):(i=Oi(t)?Ti:xi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ri),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wo.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=jo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Io(o):(o=Oi(t)?Ti:xi.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Ho(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wo.enqueueReplaceState(i,i.state,null),Do(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===jo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Du(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Zo(o)===t.type)?((r=i(t,n.props)).ref=Yo(e,t,n),r.return=e,r):((r=Pu(n.type,n.key,n.props,null,e.mode,r)).ref=Yo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=zu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Pu(t.type,t.key,t.props,null,e.mode,n)).ref=Yo(e,null,t),n.return=e,n;case E:return(t=Uu(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=zu(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case O:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:d(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function g(i,o,a,c){for(var u=null,l=null,d=o,g=o=0,y=null;null!==d&&g<a.length;g++){d.index>g?(y=d,d=null):y=d.sibling;var m=f(i,d,a[g],c);if(null===m){null===d&&(d=y);break}e&&d&&null===m.alternate&&t(i,d),o=s(m,o,g),null===l?u=m:l.sibling=m,l=m,d=y}if(g===a.length)return n(i,d),io&&Ji(i,g),u;if(null===d){for(;g<a.length;g++)null!==(d=h(i,a[g],c))&&(o=s(d,o,g),null===l?u=d:l.sibling=d,l=d);return io&&Ji(i,g),u}for(d=r(i,d);g<a.length;g++)null!==(y=p(d,i,g,a[g],c))&&(e&&null!==y.alternate&&d.delete(null===y.key?g:y.key),o=s(y,o,g),null===l?u=y:l.sibling=y,l=y);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}function y(i,a,c,u){var l=P(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,g=a,y=a=0,m=null,w=c.next();null!==g&&!w.done;y++,w=c.next()){g.index>y?(m=g,g=null):m=g.sibling;var v=f(i,g,w.value,u);if(null===v){null===g&&(g=m);break}e&&g&&null===v.alternate&&t(i,g),a=s(v,a,y),null===d?l=v:d.sibling=v,d=v,g=m}if(w.done)return n(i,g),io&&Ji(i,y),l;if(null===g){for(;!w.done;y++,w=c.next())null!==(w=h(i,w.value,u))&&(a=s(w,a,y),null===d?l=w:d.sibling=w,d=w);return io&&Ji(i,y),l}for(g=r(i,g);!w.done;y++,w=c.next())null!==(w=p(g,i,y,w.value,u))&&(e&&null!==w.alternate&&g.delete(null===w.key?y:w.key),a=s(w,a,y),null===d?l=w:d.sibling=w,d=w);return e&&g.forEach((function(e){return t(i,e)})),io&&Ji(i,y),l}return function e(r,o,s,c){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var u=s.key,l=o;null!==l;){if(l.key===u){if((u=s.type)===k){if(7===l.tag){n(r,l.sibling),(o=i(l,s.props.children)).return=r,r=o;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&Zo(u)===l.type){n(r,l.sibling),(o=i(l,s.props)).ref=Yo(r,l,s),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===k?((o=zu(s.props.children,r.mode,c,s.key)).return=r,r=o):((c=Pu(s.type,s.key,s.props,null,r.mode,c)).ref=Yo(r,o,s),c.return=r,r=c)}return a(r);case E:e:{for(l=s.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uu(s,r.mode,c)).return=r,r=o}return a(r);case O:return e(r,o,(l=s._init)(s._payload),c)}if(te(s))return g(r,o,s,c);if(P(s))return y(r,o,s,c);Go(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Du(s,r.mode,c)).return=r,r=o),a(r)):n(r,o)}}var Xo=Qo(!0),Jo=Qo(!1),$o={},es=Si($o),ts=Si($o),ns=Si($o);function rs(e){if(e===$o)throw Error(o(174));return e}function is(e,t){switch(Ii(ns,t),Ii(ts,e),Ii(es,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(es),Ii(es,t)}function os(){Ai(es),Ai(ts),Ai(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ce(t,e.type);t!==n&&(Ii(ts,e),Ii(es,n))}function as(e){ts.current===e&&(Ai(es),Ai(ts))}var cs=Si(0);function us(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ls=[];function ds(){for(var e=0;e<ls.length;e++)ls[e]._workInProgressVersionPrimary=null;ls.length=0}var hs=b.ReactCurrentDispatcher,fs=b.ReactCurrentBatchConfig,ps=0,gs=null,ys=null,ms=null,ws=!1,vs=!1,bs=0,_s=0;function Es(){throw Error(o(321))}function ks(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Ss(e,t,n,r,i,s){if(ps=s,gs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),vs){s=0;do{if(vs=!1,bs=0,25<=s)throw Error(o(301));s+=1,ms=ys=null,t.updateQueue=null,hs.current=ua,e=n(r,i)}while(vs)}if(hs.current=sa,t=null!==ys&&null!==ys.next,ps=0,ms=ys=gs=null,ws=!1,t)throw Error(o(300));return e}function As(){var e=0!==bs;return bs=0,e}function Is(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ms?gs.memoizedState=ms=e:ms=ms.next=e,ms}function Rs(){if(null===ys){var e=gs.alternate;e=null!==e?e.memoizedState:null}else e=ys.next;var t=null===ms?gs.memoizedState:ms.next;if(null!==t)ms=t,ys=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ys=e).memoizedState,baseState:ys.baseState,baseQueue:ys.baseQueue,queue:ys.queue,next:null},null===ms?gs.memoizedState=ms=e:ms=ms.next=e}return ms}function xs(e,t){return"function"===typeof t?t(e):t}function Ns(e){var t=Rs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ys,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var c=a=null,u=null,l=s;do{var d=l.lane;if((ps&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=h,a=r):u=u.next=h,gs.lanes|=d,Bc|=d}l=l.next}while(null!==l&&l!==s);null===u?a=r:u.next=c,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,gs.lanes|=s,Bc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ts(e){var t=Rs(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ms(){}function Os(e,t){var n=gs,r=Rs(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ba=!0),r=r.queue,Ks(Ps.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ms&&1&ms.memoizedState.tag){if(n.flags|=2048,Us(9,Ls.bind(null,n,r,i,t),void 0,null),null===Tc)throw Error(o(349));0!==(30&ps)||Cs(n,t,i)}return i}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,r){t.value=n,t.getSnapshot=r,zs(t)&&Bs(e)}function Ps(e,t,n){return n((function(){zs(t)&&Bs(e)}))}function zs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Bs(e){var t=To(e,1);null!==t&&ru(t,e,1,-1)}function Ds(e){var t=Is();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,gs,e),[t.memoizedState,e]}function Us(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gs.updateQueue)?(t={lastEffect:null,stores:null},gs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function js(){return Rs().memoizedState}function Hs(e,t,n,r){var i=Is();gs.flags|=e,i.memoizedState=Us(1|t,n,void 0,void 0===r?null:r)}function Ws(e,t,n,r){var i=Rs();r=void 0===r?null:r;var o=void 0;if(null!==ys){var s=ys.memoizedState;if(o=s.destroy,null!==r&&ks(r,s.deps))return void(i.memoizedState=Us(t,n,o,r))}gs.flags|=e,i.memoizedState=Us(1|t,n,o,r)}function Fs(e,t){return Hs(8390656,8,e,t)}function Ks(e,t){return Ws(2048,8,e,t)}function Vs(e,t){return Ws(4,2,e,t)}function qs(e,t){return Ws(4,4,e,t)}function Ys(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Gs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ws(4,4,Ys.bind(null,t,e),n)}function Zs(){}function Qs(e,t){var n=Rs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Rs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&ps)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),gs.lanes|=n,Bc|=n,e.baseState=!0),t)}function $s(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{vt=n,fs.transition=r}}function ea(){return Rs().memoizedState}function ta(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=No(e,t,n,r))){ru(n,e,r,tu()),oa(n,t,r)}}function na(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var c=t.interleaved;return null===c?(i.next=i,xo(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=No(e,t,i,r))&&(ru(n,e,r,i=tu()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===gs||null!==t&&t===gs}function ia(e,t){vs=ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var sa={readContext:Io,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useInsertionEffect:Es,useLayoutEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useMutableSource:Es,useSyncExternalStore:Es,useId:Es,unstable_isNewReconciler:!1},aa={readContext:Io,useCallback:function(e,t){return Is().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Fs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Hs(4194308,4,Ys.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hs(4,2,e,t)},useMemo:function(e,t){var n=Is();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Is();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,gs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Is().memoizedState=e},useState:Ds,useDebugValue:Zs,useDeferredValue:function(e){return Is().memoizedState=e},useTransition:function(){var e=Ds(!1),t=e[0];return e=$s.bind(null,e[1]),Is().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gs,i=Is();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tc)throw Error(o(349));0!==(30&ps)||Cs(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Fs(Ps.bind(null,r,s,e),[e]),r.flags|=2048,Us(9,Ls.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Is(),t=Tc.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-st(Qi)-1)).toString(32)+n),0<(n=bs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Io,useCallback:Qs,useContext:Io,useEffect:Ks,useImperativeHandle:Gs,useInsertionEffect:Vs,useLayoutEffect:qs,useMemo:Xs,useReducer:Ns,useRef:js,useState:function(){return Ns(xs)},useDebugValue:Zs,useDeferredValue:function(e){return Js(Rs(),ys.memoizedState,e)},useTransition:function(){return[Ns(xs)[0],Rs().memoizedState]},useMutableSource:Ms,useSyncExternalStore:Os,useId:ea,unstable_isNewReconciler:!1},ua={readContext:Io,useCallback:Qs,useContext:Io,useEffect:Ks,useImperativeHandle:Gs,useInsertionEffect:Vs,useLayoutEffect:qs,useMemo:Xs,useReducer:Ts,useRef:js,useState:function(){return Ts(xs)},useDebugValue:Zs,useDeferredValue:function(e){var t=Rs();return null===ys?t.memoizedState=e:Js(t,ys.memoizedState,e)},useTransition:function(){return[Ts(xs)[0],Rs().memoizedState]},useMutableSource:Ms,useSyncExternalStore:Os,useId:ea,unstable_isNewReconciler:!1};function la(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vc||(Vc=!0,qc=r),ha(0,t)},n}function ga(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Yc?Yc=new Set([this]):Yc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ya(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function wa(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Po(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=Ss(e,t,n,r,o,i),n=As(),null===e||ba?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Cu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Sa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Lu(o,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(cr(o,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ra(e,t,n,r,i)}function Aa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Lc,Cc),Cc|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Lc,Cc),Cc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ii(Lc,Cc),Cc|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ii(Lc,Cc),Cc|=r;return _a(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ra(e,t,n,r,i){var o=Oi(n)?Ti:xi.current;return o=Mi(t,o),Ao(t,i),n=Ss(e,t,n,r,o,i),r=As(),null===e||ba?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function xa(e,t,n,r,i){if(Oi(n)){var o=!0;zi(t)}else o=!1;if(Ao(t,i),null===t.stateNode)Ka(e,t),Ko(t,n,r),qo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Io(u):u=Mi(t,u=Oi(n)?Ti:xi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==u)&&Vo(t,s,r,u),Mo=!1;var h=t.memoizedState;s.state=h,Do(t,r,s,i),c=t.memoizedState,a!==r||h!==c||Ni.current||Mo?("function"===typeof l&&(Ho(t,n,l,r),c=t.memoizedState),(a=Mo||Fo(t,n,a,r,h,c,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Co(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:mo(t.type,a),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Io(c):c=Mi(t,c=Oi(n)?Ti:xi.current);var f=n.getDerivedStateFromProps;(l="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==c)&&Vo(t,s,r,c),Mo=!1,h=t.memoizedState,s.state=h,Do(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||Ni.current||Mo?("function"===typeof f&&(Ho(t,n,f,r),p=t.memoizedState),(u=Mo||Fo(t,n,u,r,h,p,c)||!1)?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,o,i)}function Na(e,t,n,r,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Bi(t,n,!1),Va(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Bi(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),is(e,t.containerInfo)}function Ma(e,t,n,r,i){return po(),go(i),t.flags|=256,_a(e,t,n,r),t.child}var Oa,Ca,La,Pa,za={dehydrated:null,treeContext:null,retryLane:0};function Ba(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,i=t.pendingProps,s=cs.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ii(cs,1&s),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Bu(c,i,0,null),e=zu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ba(n),t.memoizedState=za,e):Ua(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,ja(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Bu({mode:"visible",children:r.children},i,0,null),(s=zu(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Ba(a),t.memoizedState=za,s);if(0===(1&t.mode))return ja(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,ja(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(r=Tc)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,To(e,i),ru(r,e,i,-1))}return yu(),ja(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Yi[Gi++]=Qi,Yi[Gi++]=Xi,Yi[Gi++]=Zi,Qi=e.id,Xi=e.overflow,Zi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,s,n);if(a){a=i.fallback,c=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Lu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Lu(r,a):(a=zu(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Ba(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=za,i}return e=(a=e.child).sibling,i=Lu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Bu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ja(e,t,n,r){return null!==r&&go(r),Xo(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ha(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Wa(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Fa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,n,t);else if(19===e.tag)Ha(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(cs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===us(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===us(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,o);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ya(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(t),null;case 1:case 17:return Oi(t.type)&&Ci(),Ya(t),null;case 3:return r=t.stateNode,os(),Ai(Ni),Ai(xi),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ca(e,t),Ya(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ya(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":ie(r,s),Ur("invalid",r)}for(var c in we(n,s),i=null,s)if(s.hasOwnProperty(c)){var u=s[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":q(r),$(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[hi]=t,e[fi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(c=ve(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=Z(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=B({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(s in we(n,i),u=i)if(u.hasOwnProperty(s)){var l=u[s];"style"===s?ye(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===s?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Ur("scroll",e):null!=l&&v(e,s,l,c))}switch(n){case"input":q(e),$(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ya(t),null;case 6:if(e&&null!=t.stateNode)Pa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ya(t),null;case 13:if(Ai(cs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ya(t),s=!1}else null!==oo&&(au(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&cs.current)?0===Pc&&(Pc=3):yu())),null!==t.updateQueue&&(t.flags|=4),Ya(t),null);case 4:return os(),Ca(e,t),null===e&&Wr(t.stateNode.containerInfo),Ya(t),null;case 10:return ko(t.type._context),Ya(t),null;case 19:if(Ai(cs),null===(s=t.memoizedState))return Ya(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)qa(s,!1);else{if(0!==Pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=us(e))){for(t.flags|=128,qa(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(cs,1&cs.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Fc&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=us(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!io)return Ya(t),null}else 2*Xe()-s.renderingStartTime>Fc&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=cs.current,Ii(cs,r?1&n|2:1&n),t):(Ya(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Cc)&&(Ya(t),6&t.subtreeFlags&&(t.flags|=8192)):Ya(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Za(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Ci(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ai(Ni),Ai(xi),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Ai(cs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(cs),null;case 4:return os(),null;case 10:return ko(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ca=function(){},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),s=[];break;case"select":i=B({},i,{value:void 0}),r=B({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in we(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var c=i[l];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Ur("scroll",e),s||c===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Pa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qa=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,$a=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Au(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Au(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tc(t,n,o)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sc(e){var t=e.alternate;null!==t&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[gi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var dc=null,hc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||ec(n,t);case 6:var r=dc,i=hc;dc=null,fc(e,t,n),hc=i,null!==(dc=r)&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dc.removeChild(n.stateNode));break;case 18:null!==dc&&(hc?(e=dc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Wt(e)):ci(dc,n.stateNode));break;case 4:r=dc,i=hc,dc=n.stateNode.containerInfo,hc=!0,fc(e,t,n),dc=r,hc=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tc(n,t,s),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Xa&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Au(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fc(e,t,n),Xa=r):fc(e,t,n);break;default:fc(e,t,n)}}function gc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:dc=c.stateNode,hc=!1;break e;case 3:case 4:dc=c.stateNode.containerInfo,hc=!0;break e}c=c.return}if(null===dc)throw Error(o(160));pc(s,a,i),dc=null,hc=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(l){Au(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mc(t,e),t=t.sibling}function mc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yc(t,e),wc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(y){Au(e,e.return,y)}try{rc(5,e,e.return)}catch(y){Au(e,e.return,y)}}break;case 1:yc(t,e),wc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(yc(t,e),wc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Au(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===s.type&&null!=s.name&&X(i,s),ve(c,a);var l=ve(c,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];"style"===d?ye(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):v(i,d,h,l)}switch(c){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(y){Au(e,e.return,y)}}break;case 6:if(yc(t,e),wc(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Au(e,e.return,y)}}break;case 3:if(yc(t,e),wc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(y){Au(e,e.return,y)}break;case 4:default:yc(t,e),wc(e);break;case 13:yc(t,e),wc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Wc=Xe())),4&r&&gc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(l=Xa)||d,yc(t,e),Xa=l):yc(t,e),wc(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for($a=e,d=e.child;null!==d;){for(h=$a=d;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Au(r,n,y)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Ec(h);continue}}null!==p?(p.return=f,$a=p):Ec(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,l?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=h.stateNode,a=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=ge("display",a))}catch(y){Au(e,e.return,y)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Au(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yc(t,e),wc(e),4&r&&gc(e);case 21:}}function wc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lc(e,cc(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;uc(e,cc(e),s);break;default:throw Error(o(161))}}catch(a){Au(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){$a=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Qa;if(!s){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Xa;a=Qa;var u=Xa;if(Qa=s,(Xa=c)&&!u)for($a=i;null!==$a;)c=(s=$a).child,22===s.tag&&null!==s.memoizedState?kc(i):null!==c?(c.return=s,$a=c):kc(i);for(;null!==o;)$a=o,bc(o,t,n),o=o.sibling;$a=i,Qa=a,Xa=u}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$a=o):_c(e)}}function _c(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Uo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&oc(t)}catch(f){Au(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function Ec(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function kc(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Au(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Au(t,i,c)}}var o=t.return;try{oc(t)}catch(c){Au(t,o,c)}break;case 5:var s=t.return;try{oc(t)}catch(c){Au(t,s,c)}}}catch(c){Au(t,t.return,c)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Sc,Ac=Math.ceil,Ic=b.ReactCurrentDispatcher,Rc=b.ReactCurrentOwner,xc=b.ReactCurrentBatchConfig,Nc=0,Tc=null,Mc=null,Oc=0,Cc=0,Lc=Si(0),Pc=0,zc=null,Bc=0,Dc=0,Uc=0,jc=null,Hc=null,Wc=0,Fc=1/0,Kc=null,Vc=!1,qc=null,Yc=null,Gc=!1,Zc=null,Qc=0,Xc=0,Jc=null,$c=-1,eu=0;function tu(){return 0!==(6&Nc)?Xe():-1!==$c?$c:$c=Xe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Nc)&&0!==Oc?Oc&-Oc:null!==yo.transition?(0===eu&&(eu=gt()),eu):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ru(e,t,n,r){if(50<Xc)throw Xc=0,Jc=null,Error(o(185));mt(e,n,r),0!==(2&Nc)&&e===Tc||(e===Tc&&(0===(2&Nc)&&(Dc|=n),4===Pc&&cu(e,Oc)),iu(e,r),1===n&&0===Nc&&0===(1&t.mode)&&(Fc=Xe()+500,Ui&&Wi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=i[s];-1===c?0!==(a&n)&&0===(a&r)||(i[s]=ft(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Tc?Oc:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Hi(e)}(uu.bind(null,e)):Hi(uu.bind(null,e)),si((function(){0===(6&Nc)&&Wi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if($c=-1,eu=0,0!==(6&Nc))throw Error(o(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=ht(e,e===Tc?Oc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mu(e,r);else{t=r;var i=Nc;Nc|=2;var s=gu();for(Tc===e&&Oc===t||(Kc=null,Fc=Xe()+500,fu(e,t));;)try{vu();break}catch(c){pu(e,c)}Eo(),Ic.current=s,Nc=i,null!==Mc?t=0:(Tc=null,Oc=0,t=Pc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=zc,fu(e,0),cu(e,r),iu(e,Xe()),n;if(6===t)cu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mu(e,r))&&(0!==(s=pt(e))&&(r=s,t=su(e,s))),1===t))throw n=zc,fu(e,0),cu(e,r),iu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Eu(e,Hc,Kc);break;case 3:if(cu(e,r),(130023424&r)===r&&10<(t=Wc+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Eu.bind(null,e,Hc,Kc),t);break}Eu(e,Hc,Kc);break;case 4:if(cu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ac(r/1960))-r)){e.timeoutHandle=ri(Eu.bind(null,e,Hc,Kc),r);break}Eu(e,Hc,Kc);break;default:throw Error(o(329))}}}return iu(e,Xe()),e.callbackNode===n?ou.bind(null,e):null}function su(e,t){var n=jc;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=mu(e,t))&&(t=Hc,Hc=n,null!==t&&au(t)),e}function au(e){null===Hc?Hc=e:Hc.push.apply(Hc,e)}function cu(e,t){for(t&=~Uc,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Nc))throw Error(o(327));ku();var t=ht(e,0);if(0===(1&t))return iu(e,Xe()),null;var n=mu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=zc,fu(e,0),cu(e,t),iu(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Eu(e,Hc,Kc),iu(e,Xe()),null}function lu(e,t){var n=Nc;Nc|=1;try{return e(t)}finally{0===(Nc=n)&&(Fc=Xe()+500,Ui&&Wi())}}function du(e){null!==Zc&&0===Zc.tag&&0===(6&Nc)&&ku();var t=Nc;Nc|=1;var n=xc.transition,r=vt;try{if(xc.transition=null,vt=1,e)return e()}finally{vt=r,xc.transition=n,0===(6&(Nc=t))&&Wi()}}function hu(){Cc=Lc.current,Ai(Lc)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Mc)for(n=Mc.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ci();break;case 3:os(),Ai(Ni),Ai(xi),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Ai(cs);break;case 10:ko(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Tc=e,Mc=e=Lu(e.current,null),Oc=Cc=t,Pc=0,zc=null,Uc=Dc=Bc=0,Hc=jc=null,null!==Ro){for(t=0;t<Ro.length;t++)if(null!==(r=(n=Ro[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Ro=null}return e}function pu(e,t){for(;;){var n=Mc;try{if(Eo(),hs.current=sa,ws){for(var r=gs.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ws=!1}if(ps=0,ms=ys=gs=null,vs=!1,bs=0,Rc.current=null,null===n||null===n.return){Pc=1,zc=t,Mc=null;break}e:{var s=e,a=n.return,c=n,u=t;if(t=Oc,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,wa(p,a,c,0,t),1&p.mode&&ya(s,l,t),u=l;var g=(t=p).updateQueue;if(null===g){var y=new Set;y.add(u),t.updateQueue=y}else g.add(u);break e}if(0===(1&t)){ya(s,l,t),yu();break e}u=Error(o(426))}else if(io&&1&c.mode){var m=ma(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),wa(m,a,c,0,t),go(la(u,c));break e}}s=u=la(u,c),4!==Pc&&(Pc=2),null===jc?jc=[s]:jc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,pa(0,u,t));break e;case 1:c=u;var w=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof w.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Yc||!Yc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Bo(s,ga(s,c,t));break e}}s=s.return}while(null!==s)}_u(n)}catch(b){t=b,Mc===n&&null!==n&&(Mc=n=n.return);continue}break}}function gu(){var e=Ic.current;return Ic.current=sa,null===e?sa:e}function yu(){0!==Pc&&3!==Pc&&2!==Pc||(Pc=4),null===Tc||0===(268435455&Bc)&&0===(268435455&Dc)||cu(Tc,Oc)}function mu(e,t){var n=Nc;Nc|=2;var r=gu();for(Tc===e&&Oc===t||(Kc=null,fu(e,t));;)try{wu();break}catch(i){pu(e,i)}if(Eo(),Nc=n,Ic.current=r,null!==Mc)throw Error(o(261));return Tc=null,Oc=0,Pc}function wu(){for(;null!==Mc;)bu(Mc)}function vu(){for(;null!==Mc&&!Ze();)bu(Mc)}function bu(e){var t=Sc(e.alternate,e,Cc);e.memoizedProps=e.pendingProps,null===t?_u(e):Mc=t,Rc.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Cc)))return void(Mc=n)}else{if(null!==(n=Za(n,t)))return n.flags&=32767,void(Mc=n);if(null===e)return Pc=6,void(Mc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Mc=t);Mc=t=e}while(null!==t);0===Pc&&(Pc=5)}function Eu(e,t,n){var r=vt,i=xc.transition;try{xc.transition=null,vt=1,function(e,t,n,r){do{ku()}while(null!==Zc);if(0!==(6&Nc))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Tc&&(Mc=Tc=null,Oc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gc||(Gc=!0,Tu(tt,(function(){return ku(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=xc.transition,xc.transition=null;var a=vt;vt=1;var c=Nc;Nc|=4,Rc.current=null,function(e,t){if(ei=Kt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,c=-1,u=-1,l=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(c=a+i),h!==s||0!==r&&3!==h.nodeType||(u=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++l===i&&(c=a),f===s&&++d===r&&(u=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var y=g.memoizedProps,m=g.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:mo(t.type,y),m);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(_){Au(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}g=nc,nc=!1}(e,n),mc(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vc(n,e,i),Qe(),Nc=c,vt=a,xc.transition=s}else e.current=n;if(Gc&&(Gc=!1,Zc=e,Qc=i),s=e.pendingLanes,0===s&&(Yc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vc)throw Vc=!1,e=qc,qc=null,e;0!==(1&Qc)&&0!==e.tag&&ku(),s=e.pendingLanes,0!==(1&s)?e===Jc?Xc++:(Xc=0,Jc=e):Xc=0,Wi()}(e,t,n,r)}finally{xc.transition=i,vt=r}return null}function ku(){if(null!==Zc){var e=bt(Qc),t=xc.transition,n=vt;try{if(xc.transition=null,vt=16>e?16:e,null===Zc)var r=!1;else{if(e=Zc,Zc=null,Qc=0,0!==(6&Nc))throw Error(o(331));var i=Nc;for(Nc|=4,$a=e.current;null!==$a;){var s=$a,a=s.child;if(0!==(16&$a.flags)){var c=s.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for($a=l;null!==$a;){var d=$a;switch(d.tag){case 0:case 11:case 15:rc(8,d,s)}var h=d.child;if(null!==h)h.return=d,$a=h;else for(;null!==$a;){var f=(d=$a).sibling,p=d.return;if(sc(d),d===l){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var g=s.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}$a=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,$a=a;else e:for(;null!==$a;){if(0!==(2048&(s=$a).flags))switch(s.tag){case 0:case 11:case 15:rc(9,s,s.return)}var w=s.sibling;if(null!==w){w.return=s.return,$a=w;break e}$a=s.return}}var v=e.current;for($a=v;null!==$a;){var b=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,$a=b;else e:for(a=v;null!==$a;){if(0!==(2048&(c=$a).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(E){Au(c,c.return,E)}if(c===a){$a=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,$a=_;break e}$a=c.return}}if(Nc=i,Wi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{vt=n,xc.transition=t}}return!1}function Su(e,t,n){e=Po(e,t=pa(0,t=la(n,t),1),1),t=tu(),null!==e&&(mt(e,1,t),iu(e,t))}function Au(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yc||!Yc.has(r))){t=Po(t,e=ga(t,e=la(n,e),1),1),e=tu(),null!==t&&(mt(t,1,e),iu(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Tc===e&&(Oc&n)===n&&(4===Pc||3===Pc&&(130023424&Oc)===Oc&&500>Xe()-Wc?fu(e,0):Uc|=n),iu(e,t)}function Ru(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tu();null!==(e=To(e,t))&&(mt(e,t,n),iu(e,n))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ru(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ru(e,n)}function Tu(e,t){return Ye(e,t)}function Mu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Mu(e,t,n,r)}function Cu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pu(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Cu(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return zu(n.children,i,s,t);case S:a=8,i|=8;break;case A:return(e=Ou(12,n,t,2|i)).elementType=A,e.lanes=s,e;case N:return(e=Ou(13,n,t,i)).elementType=N,e.lanes=s,e;case T:return(e=Ou(19,n,t,i)).elementType=T,e.lanes=s,e;case C:return Bu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case R:a=9;break e;case x:a=11;break e;case M:a=14;break e;case O:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ou(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function zu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Bu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=C,e.lanes=n,e.stateNode={isHidden:!1},e}function Du(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ju(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hu(e,t,n,r,i,o,s,a,c){return e=new ju(e,t,n,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ou(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Wu(e){if(!e)return Ri;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Pi(e,n,t)}return t}function Fu(e,t,n,r,i,o,s,a,c){return(e=Hu(n,r,!0,e,0,o,0,a,c)).context=Wu(null),n=e.current,(o=Lo(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Po(n,o,i),e.current.lanes=i,mt(e,i,r),iu(e,r),e}function Ku(e,t,n,r){var i=t.current,o=tu(),s=nu(i);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Po(i,t,s))&&(ru(e,i,s,o),zo(e,i,s)),s}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),po();break;case 5:ss(t);break;case 1:Oi(t.type)&&zi(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(wo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(cs,1&cs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Ii(cs,1&cs.current),null!==(e=Va(e,t,n))?e.sibling:null);Ii(cs,1&cs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,Aa(e,t,n)}return Va(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,io&&0!==(1048576&t.flags)&&$i(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Mi(t,xi.current);Ao(t,n),i=Ss(null,t,r,e,i,n);var s=As();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(s=!0,zi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Wo,t.stateNode=i,i._reactInternals=t,qo(t,r,e,n),t=Na(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Cu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===M)return 14}return 2}(r),e=mo(r,e),i){case 0:t=Ra(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=ka(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ra(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Ta(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Co(e,t),Do(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ma(e,t,r,n,i=la(Error(o(423)),t));break e}if(r!==i){t=Ma(e,t,r,n,i=la(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Va(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&uo(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ia(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Da(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ii(wo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ni.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Lo(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),So(s.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),So(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=Io(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),ka(e,t,r,i=mo(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),Ka(e,t),t.tag=1,Oi(r)?(e=!0,zi(t)):e=!1,Ao(t,n),Ko(t,r,i),qo(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return Fa(e,t,n);case 22:return Aa(e,t,n)}throw Error(o(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}function Qu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Vu(s);a.call(e)}}Ku(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Vu(s);o.call(e)}}var s=Fu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=s,e[pi]=s.current,Wr(8===e.nodeType?e.parentNode:e),du(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Vu(c);a.call(e)}}var c=Hu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=c,e[pi]=c.current,Wr(8===e.nodeType?e.parentNode:e),du((function(){Ku(t,c,n,r)})),c}(n,t,e,i,r);return Vu(s)}Qu.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Ku(e,t,null,null)},Qu.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Ku(null,e,null,null)})),t[pi]=null}},Qu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&0!==t&&t<Ct[n].priority;n++);Ct.splice(n,0,e),0===n&&Bt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(wt(t,1|n),iu(t,Xe()),0===(6&Nc)&&(Fc=Xe()+500,Wi()))}break;case 13:du((function(){var t=To(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Yu(e,1)}},Et=function(e){if(13===e.tag){var t=To(e,134217728);if(null!==t)ru(t,e,134217728,tu());Yu(e,134217728)}},kt=function(e){if(13===e.tag){var t=nu(e),n=To(e,t);if(null!==n)ru(n,e,t,tu());Yu(e,t)}},St=function(){return vt},At=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));Y(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=lu,Ne=du;var tl={usingClientEntryPoint:!1,Events:[vi,bi,_i,Ie,Re,lu]},nl={findFiberByHostInstance:wi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(o(299));var n=!1,r="",i=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Zu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Fu(t,null,e,1,null!=n?n:null,i,0,s,a),e[pi]=t.current,Wr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(du((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:a.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function w(){}function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var b=v.prototype=new w;b.constructor=v,g(b,m.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===o?"."+x(c,0):o,_(s)?(i="",null!=e&&(i=e.replace(R,"$&/")+"/"),N(s,t,i,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(R,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",_(e))for(var u=0;u<e.length;u++){var l=o+x(a=e[u],u);c+=N(a,t,i,l,s)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,l=o+x(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function T(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},C={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:C,ReactCurrentOwner:k};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=v,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.transition;C.transition={};try{e()}finally{C.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},4493:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,i);break;default:if(!c)for(h=1,c=new Array(d-1);h<d;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},9966:(e,t,n)=>{var r=n(6382),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,c=e[a],u=a+1,l=e[u];if(0>o(c,n))u<i&&0>o(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[a]=n,r=a);else{if(!(u<i&&0>o(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],l=[],d=1,h=null,f=3,p=!1,g=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function _(e){if(y=!1,b(e),!g)if(null!==r(u))g=!0,C(E);else{var t=r(l);null!==t&&L(_,t.startTime-e)}}function E(e,n){g=!1,y&&(y=!1,w(I),I=-1),p=!0;var o=f;try{for(b(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!N());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(u)&&i(u),b(n)}else i(u);h=r(u)}if(null!==h)var c=!0;else{var d=r(l);null!==d&&L(_,d.startTime-n),c=!1}return c}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,A=null,I=-1,R=5,x=-1;function N(){return!(t.unstable_now()-x<R)}function T(){if(null!==A){var e=t.unstable_now();x=e;var n=!0;try{n=A(!0,e)}finally{n?k():(S=!1,A=null)}}else S=!1}if("function"===typeof v)k=function(){v(T)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,O=M.port2;M.port1.onmessage=T,k=function(){O.postMessage(null)}}else k=function(){m(T,0)};function C(e){A=e,S||(S=!0,k())}function L(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,C(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(l,e),null===r(u)&&e===r(l)&&(y?(w(I),I=-1):y=!0,L(_,o-s))):(e.sortIndex=a,n(u,e),g||p||(g=!0,C(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},5092:(e,t,n)=>{"use strict";var r;n.d(t,{v4:()=>d});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"===typeof e&&s.test(e)};for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};const d=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return l(r)}},5149:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={}},7790:()=>{},9845:(e,t,n)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function i(e){if(!((t=e)instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function o(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}n.d(t,{CC:()=>s,DO:()=>i,Fe:()=>r,Ht:()=>a,sd:()=>o})},4546:(e,t,n)=>{"use strict";n.d(t,{TQ:()=>s,ol:()=>a,r9:()=>o});var r=n(9845),i=n(1195);function o(e,t,n){return e&t^~e&n}function s(e,t,n){return e&t^e&n^t&n}class a extends i.Vw{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=(0,i.O8)(this.buffer)}update(e){(0,r.CC)(this);const{view:t,buffer:n,blockLen:o}=this,s=(e=(0,i.ZJ)(e)).length;for(let r=0;r<s;){const a=Math.min(o-this.pos,s-r);if(a!==o)n.set(e.subarray(r,r+a),this.pos),this.pos+=a,r+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.O8)(e);for(;o<=s-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.CC)(this),(0,r.Ht)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let r=a;r<o;r++)t[r]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+u,a,r)}(n,o-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,i.O8)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let r=0;r<l;r++)c.setUint32(4*r,d[r],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}},223:(e,t,n)=>{"use strict";n.d(t,{sc:()=>u});var r=n(4546),i=n(1195);const o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class c extends r.ol{constructor(){super(64,arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)a[r]=e.getUint32(t,!1);for(let r=16;r<64;r++){const e=a[r-15],t=a[r-2],n=(0,i.Ow)(e,7)^(0,i.Ow)(e,18)^e>>>3,o=(0,i.Ow)(t,17)^(0,i.Ow)(t,19)^t>>>10;a[r]=o+a[r-7]+n+a[r-16]|0}let{A:n,B:s,C:c,D:u,E:l,F:d,G:h,H:f}=this;for(let p=0;p<64;p++){const e=f+((0,i.Ow)(l,6)^(0,i.Ow)(l,11)^(0,i.Ow)(l,25))+(0,r.r9)(l,d,h)+o[p]+a[p]|0,t=((0,i.Ow)(n,2)^(0,i.Ow)(n,13)^(0,i.Ow)(n,22))+(0,r.TQ)(n,s,c)|0;f=h,h=d,d=l,l=u+e|0,u=c,c=s,s=n,n=e+t|0}n=n+this.A|0,s=s+this.B|0,c=c+this.C|0,u=u+this.D|0,l=l+this.E|0,d=d+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(n,s,c,u,l,d,h,f)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const u=(0,i.ld)((()=>new c))},1195:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>f,Fc:()=>l,Id:()=>h,O8:()=>s,qv:()=>c,po:()=>g,Ow:()=>a,ZJ:()=>d,DH:()=>o,ld:()=>p});const r="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=n(9845);function o(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function s(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function a(e,t){return e<<32-t|e>>>t}const c=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function u(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function l(e){for(let t=0;t<e.length;t++)e[t]=u(e[t])}"function"===typeof Uint8Array.from([]).toHex&&Uint8Array.fromHex;function d(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),(0,i.DO)(e),e}function h(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];(0,i.DO)(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class f{clone(){return this._cloneInto()}}function p(e){const t=t=>e().update(d(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(r&&"function"===typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));if(r&&"function"===typeof r.randomBytes)return Uint8Array.from(r.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}},5007:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});const r="solana:signAndSendTransaction"},991:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});const r="solana:signMessage"},8780:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r="solana:signTransaction"},8068:(e,t,n)=>{"use strict";function r(e,t,n){return t<=e&&e<=n}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}n.r(t),n.d(t,{TextDecoder:()=>u,TextEncoder:()=>l});function o(e){this.tokens=[].slice.call(e)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}var c="utf-8";function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():c)!==c)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():c)!==c)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function d(e){var t=e.fatal,n=0,i=0,o=0,c=128,u=191;this.handler=function(e,l){if(-1===l&&0!==o)return o=0,a(t);if(-1===l)return s;if(0===o){if(r(l,0,127))return l;if(r(l,194,223))o=1,n=l-192;else if(r(l,224,239))224===l&&(c=160),237===l&&(u=159),o=2,n=l-224;else{if(!r(l,240,244))return a(t);240===l&&(c=144),244===l&&(u=143),o=3,n=l-240}return n<<=6*o,null}if(!r(l,c,u))return n=o=i=0,c=128,u=191,e.prepend(l),a(t);if(c=128,u=191,n+=l-128<<6*(o-(i+=1)),i!==o)return null;var d=n;return n=o=i=0,d}}function h(e){e.fatal;this.handler=function(e,t){if(-1===t)return s;if(r(t,0,127))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var o=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);o.push(128|63&a),n-=1}return o}}u.prototype={decode:function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new d({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,a=new o(n),c=[];!a.endOfStream()&&(r=this._decoder.handler(a,a.read()))!==s;)null!==r&&(Array.isArray(r)?c.push.apply(c,r):c.push(r));if(!this._streaming){do{if((r=this._decoder.handler(a,a.read()))===s)break;null!==r&&(Array.isArray(r)?c.push.apply(c,r):c.push(r))}while(!a.endOfStream());this._decoder=null}return c.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===c[0]?(this._BOMseen=!0,c.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(c)}},l.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],a=new o(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,c=1023&s;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}(e));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{227:"253fd020",648:"869bb7c0"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="counter-ui-game:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],c=r[2],u=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(c)c(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcounter_ui_game=self.webpackChunkcounter_ui_game||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n(4391),r=n(579);const i=e=>{let{title:t,onClick:n,disabled:i=!1,children:o}=e;return(0,r.jsx)("button",{onClick:()=>!i&&n(),disabled:i,style:{opacity:i?.5:1,cursor:i?"not-allowed":"pointer",color:i?"#666":"#fff",transition:"all 0.3s ease",padding:"8px 16px",borderRadius:"4px",background:"#4e44ce",border:"none",fontWeight:"bold",fontSize:"0.9rem"},children:o||t})},o=(0,e.createContext)({});function s(){return(0,e.useContext)(o)}const a=[],c={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){u("call","select")},connect:()=>Promise.reject(u("call","connect")),disconnect:()=>Promise.reject(u("call","disconnect")),sendTransaction:()=>Promise.reject(u("call","sendTransaction")),signTransaction:()=>Promise.reject(u("call","signTransaction")),signAllTransactions:()=>Promise.reject(u("call","signAllTransactions")),signMessage:()=>Promise.reject(u("call","signMessage")),signIn:()=>Promise.reject(u("call","signIn"))};function u(e,t){const n=new Error("You have tried to ".concat(e,' "').concat(t,'" on a WalletContext without providing one. ')+"Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.");return console.error(n),n}Object.defineProperty(c,"wallets",{get:()=>(u("read","wallets"),a)}),Object.defineProperty(c,"wallet",{get:()=>(u("read","wallet"),null)}),Object.defineProperty(c,"publicKey",{get:()=>(u("read","publicKey"),null)});const l=(0,e.createContext)(c);function d(){return(0,e.useContext)(l)}const h=t=>e.createElement("button",{className:"wallet-adapter-button ".concat(t.className||""),disabled:t.disabled,style:t.style,onClick:t.onClick,tabIndex:t.tabIndex||0,type:"button"},t.startIcon&&e.createElement("i",{className:"wallet-adapter-button-start-icon"},t.startIcon),t.children,t.endIcon&&e.createElement("i",{className:"wallet-adapter-button-end-icon"},t.endIcon)),f=t=>{let{wallet:n,...r}=t;return n&&e.createElement("img",{src:n.adapter.icon,alt:"".concat(n.adapter.name," icon"),...r})};function p(t){let{walletIcon:n,walletName:r,...i}=t;return e.createElement(h,{...i,className:"wallet-adapter-button-trigger",startIcon:n&&r?e.createElement(f,{wallet:{adapter:{icon:n,name:r}}}):void 0})}const g={setVisible(e){console.error(y("call","setVisible"))},visible:!1};function y(e,t){return"You have tried to "+" ".concat(e,' "').concat(t,'"')+" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext"}Object.defineProperty(g,"visible",{get:()=>(console.error(y("read","visible")),!1)});const m=(0,e.createContext)(g);function w(){return(0,e.useContext)(m)}function v(t){let{children:n,labels:r,...i}=t;const{setVisible:o}=w(),{buttonState:s,onConnect:a,onDisconnect:c,publicKey:u,walletIcon:l,walletName:h}=function(t){let{onSelectWallet:n}=t;const{connect:r,connected:i,connecting:o,disconnect:s,disconnecting:a,publicKey:c,select:u,wallet:l,wallets:h}=d();let f;f=o?"connecting":i?"connected":a?"disconnecting":l?"has-wallet":"no-wallet";const p=(0,e.useCallback)((()=>{r().catch((()=>{}))}),[r]),g=(0,e.useCallback)((()=>{s().catch((()=>{}))}),[s]);return{buttonState:f,onConnect:"has-wallet"===f?p:void 0,onDisconnect:"disconnecting"!==f&&"no-wallet"!==f?g:void 0,onSelectWallet:(0,e.useCallback)((()=>{n({onSelectWallet:u,wallets:h})}),[n,u,h]),publicKey:null!==c&&void 0!==c?c:void 0,walletIcon:null===l||void 0===l?void 0:l.adapter.icon,walletName:null===l||void 0===l?void 0:l.adapter.name}}({onSelectWallet(){o(!0)}}),[f,g]=(0,e.useState)(!1),[y,m]=(0,e.useState)(!1),v=(0,e.useRef)(null);(0,e.useEffect)((()=>{const e=e=>{const t=v.current;t&&!t.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[]);const b=(0,e.useMemo)((()=>{if(n)return n;if(u){const e=u.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===s||"has-wallet"===s?r[s]:r["no-wallet"]}),[s,n,r,u]);return e.createElement("div",{className:"wallet-adapter-dropdown"},e.createElement(p,{...i,"aria-expanded":y,style:{pointerEvents:y?"none":"auto",...i.style},onClick:()=>{switch(s){case"no-wallet":o(!0);break;case"has-wallet":a&&a();break;case"connected":m(!0)}},walletIcon:l,walletName:h},b),e.createElement("ul",{"aria-label":"dropdown-list",className:"wallet-adapter-dropdown-list ".concat(y&&"wallet-adapter-dropdown-list-active"),ref:v,role:"menu"},u?e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),g(!0),setTimeout((()=>g(!1)),400)},role:"menuitem"},f?r.copied:r["copy-address"]):null,e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(!0),m(!1)},role:"menuitem"},r["change-wallet"]),c?e.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{c(),m(!1)},role:"menuitem"},r.disconnect):null))}const b={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function _(t){return e.createElement(v,{...t,labels:b})}const E=t=>{let{type:n,message:i,onClose:o}=t;const[s,a]=(0,e.useState)(0);return(0,e.useEffect)((()=>{a(1);const e=setTimeout((()=>{a(0)}),3e3),t=setTimeout((()=>{o&&o()}),3500);return()=>{clearTimeout(e),clearTimeout(t)}}),[o]),(0,r.jsx)("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"success"===n?"lightgreen":"pink",padding:"20px",marginBottom:"10px",borderRadius:"10px",color:"success"===n?"green":"red",transition:"opacity 1s ease-in-out",opacity:s,zIndex:1e3,display:"flex",justifyContent:"center",alignItems:"center",maxWidth:"90%",wordWrap:"break-word",wordBreak:"break-word",minHeight:"50px",boxSizing:"border-box"},children:i})};var k=n(6382),S=n(7809),A=n(6373),I=n.n(A),R=n(8083),x=n.n(R),N=n(9894),T=n.n(N),M=n(9677);n(223);function O(e){let t=e.length;for(;--t>=0;)e[t]=0}const C=256,L=286,P=30,z=15,B=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),D=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),U=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H=new Array(576);O(H);const W=new Array(60);O(W);const F=new Array(512);O(F);const K=new Array(256);O(K);const V=new Array(29);O(V);const q=new Array(P);function Y(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let G,Z,Q;function X(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}O(q);const J=e=>e<256?F[e]:F[256+(e>>>7)],$=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},ee=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,$(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},te=(e,t,n)=>{ee(e,n[2*t],n[2*t+1])},ne=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},re=(e,t,n)=>{const r=new Array(16);let i,o,s=0;for(i=1;i<=z;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=ne(r[t]++,t))}},ie=e=>{let t;for(t=0;t<L;t++)e.dyn_ltree[2*t]=0;for(t=0;t<P;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},oe=e=>{e.bi_valid>8?$(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},se=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},ae=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&se(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!se(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},ce=(e,t,n)=>{let r,i,o,s,a=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+a++],r+=(255&e.pending_buf[e.sym_buf+a++])<<8,i=e.pending_buf[e.sym_buf+a++],0===r?te(e,i,t):(o=K[i],te(e,o+C+1,t),s=B[o],0!==s&&(i-=V[o],ee(e,i,s)),r--,o=J(r),te(e,o,n),s=D[o],0!==s&&(r-=q[o],ee(e,r,s)))}while(a<e.sym_next);te(e,256,t)},ue=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,c,u=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,n[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[2*c+1]);for(t.max_code=u,s=e.heap_len>>1;s>=1;s--)ae(e,n,s);c=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ae(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[2*c]=n[2*s]+n[2*a],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[2*s+1]=n[2*a+1]=c,e.heap[1]=c++,ae(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,l,d,h,f,p,g=0;for(h=0;h<=z;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)l=e.heap[u],h=n[2*n[2*l+1]+1]+1,h>c&&(h=c,g++),n[2*l+1]=h,l>r||(e.bl_count[h]++,f=0,l>=a&&(f=s[l-a]),p=n[2*l],e.opt_len+=p*(h+f),o&&(e.static_len+=p*(i[2*l+1]+f)));if(0!==g){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(h=c;0!==h;h--)for(l=e.bl_count[h];0!==l;)d=e.heap[--u],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),l--)}})(e,t),re(n,u,e.bl_count)},le=(e,t,n)=>{let r,i,o=-1,s=t[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<c&&i===s||(a<u?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},de=(e,t,n)=>{let r,i,o=-1,s=t[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<c&&i===s)){if(a<u)do{te(e,i,e.bl_tree)}while(0!==--a);else 0!==i?(i!==o&&(te(e,i,e.bl_tree),a--),te(e,16,e.bl_tree),ee(e,a-3,2)):a<=10?(te(e,17,e.bl_tree),ee(e,a-3,3)):(te(e,18,e.bl_tree),ee(e,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}};let he=!1;const fe=(e,t,n,r)=>{ee(e,0+(r?1:0),3),oe(e),$(e,n),$(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var pe=e=>{he||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(V[r]=n,e=0;e<1<<B[r];e++)K[n++]=r;for(K[n-1]=r,i=0,r=0;r<16;r++)for(q[r]=i,e=0;e<1<<D[r];e++)F[i++]=r;for(i>>=7;r<P;r++)for(q[r]=i<<7,e=0;e<1<<D[r]-7;e++)F[256+i++]=r;for(t=0;t<=z;t++)o[t]=0;for(e=0;e<=143;)H[2*e+1]=8,e++,o[8]++;for(;e<=255;)H[2*e+1]=9,e++,o[9]++;for(;e<=279;)H[2*e+1]=7,e++,o[7]++;for(;e<=287;)H[2*e+1]=8,e++,o[8]++;for(re(H,287,o),e=0;e<P;e++)W[2*e+1]=5,W[2*e]=ne(e,5);G=new Y(H,B,257,L,z),Z=new Y(W,D,0,P,z),Q=new Y(new Array(0),U,0,19,7)})(),he=!0),e.l_desc=new X(e.dyn_ltree,G),e.d_desc=new X(e.dyn_dtree,Z),e.bl_desc=new X(e.bl_tree,Q),e.bi_buf=0,e.bi_valid=0,ie(e)},ge=(e,t,n,r)=>{let i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<C;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),ue(e,e.l_desc),ue(e,e.d_desc),s=(e=>{let t;for(le(e,e.dyn_ltree,e.l_desc.max_code),le(e,e.dyn_dtree,e.d_desc.max_code),ue(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*j[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?fe(e,t,n,r):4===e.strategy||o===i?(ee(e,2+(r?1:0),3),ce(e,H,W)):(ee(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(ee(e,t-257,5),ee(e,n-1,5),ee(e,r-4,4),i=0;i<r;i++)ee(e,e.bl_tree[2*j[i]+1],3);de(e,e.dyn_ltree,t-1),de(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),ce(e,e.dyn_ltree,e.dyn_dtree)),ie(e),r&&oe(e)},ye=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(K[n]+C+1)]++,e.dyn_dtree[2*J(t)]++),e.sym_next===e.sym_end),me={_tr_init:pe,_tr_stored_block:fe,_tr_flush_block:ge,_tr_tally:ye,_tr_align:e=>{ee(e,2,3),te(e,256,H),(e=>{16===e.bi_valid?($(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var we=(e,t,n,r)=>{let i=65535&e,o=e>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+t[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16};const ve=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var be=(e,t,n,r)=>{const i=ve,o=r+n;e^=-1;for(let s=r;s<o;s++)e=e>>>8^i[255&(e^t[s])];return~e},_e={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ee={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ke,_tr_stored_block:Se,_tr_flush_block:Ae,_tr_tally:Ie,_tr_align:Re}=me,{Z_NO_FLUSH:xe,Z_PARTIAL_FLUSH:Ne,Z_FULL_FLUSH:Te,Z_FINISH:Me,Z_BLOCK:Oe,Z_OK:Ce,Z_STREAM_END:Le,Z_STREAM_ERROR:Pe,Z_DATA_ERROR:ze,Z_BUF_ERROR:Be,Z_DEFAULT_COMPRESSION:De,Z_FILTERED:Ue,Z_HUFFMAN_ONLY:je,Z_RLE:He,Z_FIXED:We,Z_DEFAULT_STRATEGY:Fe,Z_UNKNOWN:Ke,Z_DEFLATED:Ve}=Ee,qe=258,Ye=262,Ge=42,Ze=113,Qe=666,Xe=(e,t)=>(e.msg=_e[t],t),Je=e=>2*e-(e>4?9:0),$e=e=>{let t=e.length;for(;--t>=0;)e[t]=0},et=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let tt=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const nt=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},rt=(e,t)=>{Ae(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,nt(e.strm)},it=(e,t)=>{e.pending_buf[e.pending++]=t},ot=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},st=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=we(e.adler,t,i,n):2===e.state.wrap&&(e.adler=be(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},at=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-Ye?e.strstart-(e.w_size-Ye):0,u=e.window,l=e.w_mask,d=e.prev,h=e.strstart+qe;let f=u[o+s-1],p=u[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(n=t,u[n+s]===p&&u[n+s-1]===f&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(r=qe-(h-o),o=h-qe,r>s){if(e.match_start=t,s=r,r>=a)break;f=u[o+s-1],p=u[o+s]}}}while((t=d[t&l])>c&&0!==--i);return s<=e.lookahead?s:e.lookahead},ct=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ye)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),et(e),r+=t),0===e.strm.avail_in)break;if(n=st(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=tt(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=tt(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ye&&0!==e.strm.avail_in)},ut=(e,t)=>{let n,r,i,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,a=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&t!==Me||t===xe||n!==r+e.strm.avail_in))break;s=t===Me&&n===r+e.strm.avail_in?1:0,Se(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,nt(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(st(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==xe&&t!==Me&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(st(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,o=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=o||(r||t===Me)&&t!==xe&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,s=t===Me&&0===e.strm.avail_in&&n===r?1:0,Se(e,e.block_start,n,s),e.block_start+=n,nt(e.strm)),s?3:1)},lt=(e,t)=>{let n,r;for(;;){if(e.lookahead<Ye){if(ct(e),e.lookahead<Ye&&t===xe)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=tt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ye&&(e.match_length=at(e,n)),e.match_length>=3)if(r=Ie(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=tt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=tt(e,e.ins_h,e.window[e.strstart+1]);else r=Ie(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(rt(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Me?(rt(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rt(e,!1),0===e.strm.avail_out)?1:2},dt=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Ye){if(ct(e),e.lookahead<Ye&&t===xe)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=tt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ye&&(e.match_length=at(e,n),e.match_length<=5&&(e.strategy===Ue||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=Ie(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=tt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(rt(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Ie(e,0,e.window[e.strstart-1]),r&&rt(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Ie(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Me?(rt(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rt(e,!1),0===e.strm.avail_out)?1:2};function ht(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const ft=[new ht(0,0,0,0,ut),new ht(4,4,8,4,lt),new ht(4,5,16,8,lt),new ht(4,6,32,32,lt),new ht(4,4,16,16,dt),new ht(8,16,32,32,dt),new ht(8,16,128,128,dt),new ht(8,32,128,256,dt),new ht(32,128,258,1024,dt),new ht(32,258,258,4096,dt)];function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ve,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),$e(this.dyn_ltree),$e(this.dyn_dtree),$e(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),$e(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),$e(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const gt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ge&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Ze&&t.status!==Qe?1:0},yt=e=>{if(gt(e))return Xe(e,Pe);e.total_in=e.total_out=0,e.data_type=Ke;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Ge:Ze,e.adler=2===t.wrap?0:1,t.last_flush=-2,ke(t),Ce},mt=e=>{const t=yt(e);var n;return t===Ce&&((n=e.state).window_size=2*n.w_size,$e(n.head),n.max_lazy_match=ft[n.level].max_lazy,n.good_match=ft[n.level].good_length,n.nice_match=ft[n.level].nice_length,n.max_chain_length=ft[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},wt=(e,t,n,r,i,o)=>{if(!e)return Pe;let s=1;if(t===De&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==Ve||r<8||r>15||t<0||t>9||o<0||o>We||8===r&&1!==s)return Xe(e,Pe);8===r&&(r=9);const a=new pt;return e.state=a,a.strm=e,a.status=Ge,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=o,a.method=n,mt(e)};var vt={deflateInit:(e,t)=>wt(e,t,Ve,15,8,Fe),deflateInit2:wt,deflateReset:mt,deflateResetKeep:yt,deflateSetHeader:(e,t)=>gt(e)||2!==e.state.wrap?Pe:(e.state.gzhead=t,Ce),deflate:(e,t)=>{if(gt(e)||t>Oe||t<0)return e?Xe(e,Pe):Pe;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Qe&&t!==Me)return Xe(e,0===e.avail_out?Be:Pe);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(nt(e),0===e.avail_out)return n.last_flush=-1,Ce}else if(0===e.avail_in&&Je(t)<=Je(r)&&t!==Me)return Xe(e,Be);if(n.status===Qe&&0!==e.avail_in)return Xe(e,Be);if(n.status===Ge&&0===n.wrap&&(n.status=Ze),n.status===Ge){let t=Ve+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=je||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,ot(n,t),0!==n.strstart&&(ot(n,e.adler>>>16),ot(n,65535&e.adler)),e.adler=1,n.status=Ze,nt(e),0!==n.pending)return n.last_flush=-1,Ce}if(57===n.status)if(e.adler=0,it(n,31),it(n,139),it(n,8),n.gzhead)it(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),it(n,255&n.gzhead.time),it(n,n.gzhead.time>>8&255),it(n,n.gzhead.time>>16&255),it(n,n.gzhead.time>>24&255),it(n,9===n.level?2:n.strategy>=je||n.level<2?4:0),it(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(it(n,255&n.gzhead.extra.length),it(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=be(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(it(n,0),it(n,0),it(n,0),it(n,0),it(n,0),it(n,9===n.level?2:n.strategy>=je||n.level<2?4:0),it(n,3),n.status=Ze,nt(e),0!==n.pending)return n.last_flush=-1,Ce;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=be(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,nt(e),0!==n.pending)return n.last_flush=-1,Ce;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=be(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=be(e.adler,n.pending_buf,n.pending-r,r)),nt(e),0!==n.pending)return n.last_flush=-1,Ce;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,it(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=be(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=be(e.adler,n.pending_buf,n.pending-r,r)),nt(e),0!==n.pending)return n.last_flush=-1,Ce;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,it(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=be(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(nt(e),0!==n.pending))return n.last_flush=-1,Ce;it(n,255&e.adler),it(n,e.adler>>8&255),e.adler=0}if(n.status=Ze,nt(e),0!==n.pending)return n.last_flush=-1,Ce}if(0!==e.avail_in||0!==n.lookahead||t!==xe&&n.status!==Qe){let r=0===n.level?ut(n,t):n.strategy===je?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(ct(e),0===e.lookahead)){if(t===xe)return 1;break}if(e.match_length=0,n=Ie(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(rt(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Me?(rt(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rt(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===He?((e,t)=>{let n,r,i,o;const s=e.window;for(;;){if(e.lookahead<=qe){if(ct(e),e.lookahead<=qe&&t===xe)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+qe;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=qe-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Ie(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ie(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(rt(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Me?(rt(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(rt(e,!1),0===e.strm.avail_out)?1:2})(n,t):ft[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Qe),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),Ce;if(2===r&&(t===Ne?Re(n):t!==Oe&&(Se(n,0,0,!1),t===Te&&($e(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),nt(e),0===e.avail_out))return n.last_flush=-1,Ce}return t!==Me?Ce:n.wrap<=0?Le:(2===n.wrap?(it(n,255&e.adler),it(n,e.adler>>8&255),it(n,e.adler>>16&255),it(n,e.adler>>24&255),it(n,255&e.total_in),it(n,e.total_in>>8&255),it(n,e.total_in>>16&255),it(n,e.total_in>>24&255)):(ot(n,e.adler>>>16),ot(n,65535&e.adler)),nt(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ce:Le)},deflateEnd:e=>{if(gt(e))return Pe;const t=e.state.status;return e.state=null,t===Ze?Xe(e,ze):Ce},deflateSetDictionary:(e,t)=>{let n=t.length;if(gt(e))return Pe;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==Ge||r.lookahead)return Pe;if(1===i&&(e.adler=we(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&($e(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,ct(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=tt(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,ct(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,r.wrap=i,Ce},deflateInfo:"pako deflate (from Nodeca project)"};const bt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var _t={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)bt(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let t=e[r];n.set(t,i),i+=t.length}return n}};let Et=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Vu){Et=!1}const kt=new Uint8Array(256);for(let n=0;n<256;n++)kt[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;kt[254]=kt[254]=1;var St={string2buf:e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let s=kt[t];if(s>4)o[i++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Et)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+kt[e[n]]>t?n:t}};var At=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const It=Object.prototype.toString,{Z_NO_FLUSH:Rt,Z_SYNC_FLUSH:xt,Z_FULL_FLUSH:Nt,Z_FINISH:Tt,Z_OK:Mt,Z_STREAM_END:Ot,Z_DEFAULT_COMPRESSION:Ct,Z_DEFAULT_STRATEGY:Lt,Z_DEFLATED:Pt}=Ee;function zt(e){this.options=_t.assign({level:Ct,method:Pt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Lt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new At,this.strm.avail_out=0;let n=vt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Mt)throw new Error(_e[n]);if(t.header&&vt.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?St.string2buf(t.dictionary):"[object ArrayBuffer]"===It.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=vt.deflateSetDictionary(this.strm,e),n!==Mt)throw new Error(_e[n]);this._dict_set=!0}}function Bt(e,t){const n=new zt(t);if(n.push(e,!0),n.err)throw n.msg||_e[n.err];return n.result}zt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Tt:Rt,"string"===typeof e?n.input=St.string2buf(e):"[object ArrayBuffer]"===It.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===xt||o===Nt)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=vt.deflate(n,o),i===Ot)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=vt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Mt;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},zt.prototype.onData=function(e){this.chunks.push(e)},zt.prototype.onEnd=function(e){e===Mt&&(this.result=_t.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Dt={Deflate:zt,deflate:Bt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Bt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Bt(e,t)},constants:Ee};const Ut=16209;var jt=function(e,t){let n,r,i,o,s,a,c,u,l,d,h,f,p,g,y,m,w,v,b,_,E,k,S,A;const I=e.state;n=e.next_in,S=e.input,r=n+(e.avail_in-5),i=e.next_out,A=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),a=I.dmax,c=I.wsize,u=I.whave,l=I.wnext,d=I.window,h=I.hold,f=I.bits,p=I.lencode,g=I.distcode,y=(1<<I.lenbits)-1,m=(1<<I.distbits)-1;e:do{f<15&&(h+=S[n++]<<f,f+=8,h+=S[n++]<<f,f+=8),w=p[h&y];t:for(;;){if(v=w>>>24,h>>>=v,f-=v,v=w>>>16&255,0===v)A[i++]=65535&w;else{if(!(16&v)){if(0===(64&v)){w=p[(65535&w)+(h&(1<<v)-1)];continue t}if(32&v){I.mode=16191;break e}e.msg="invalid literal/length code",I.mode=Ut;break e}b=65535&w,v&=15,v&&(f<v&&(h+=S[n++]<<f,f+=8),b+=h&(1<<v)-1,h>>>=v,f-=v),f<15&&(h+=S[n++]<<f,f+=8,h+=S[n++]<<f,f+=8),w=g[h&m];n:for(;;){if(v=w>>>24,h>>>=v,f-=v,v=w>>>16&255,!(16&v)){if(0===(64&v)){w=g[(65535&w)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",I.mode=Ut;break e}if(_=65535&w,v&=15,f<v&&(h+=S[n++]<<f,f+=8,f<v&&(h+=S[n++]<<f,f+=8)),_+=h&(1<<v)-1,_>a){e.msg="invalid distance too far back",I.mode=Ut;break e}if(h>>>=v,f-=v,v=i-o,_>v){if(v=_-v,v>u&&I.sane){e.msg="invalid distance too far back",I.mode=Ut;break e}if(E=0,k=d,0===l){if(E+=c-v,v<b){b-=v;do{A[i++]=d[E++]}while(--v);E=i-_,k=A}}else if(l<v){if(E+=c+l-v,v-=l,v<b){b-=v;do{A[i++]=d[E++]}while(--v);if(E=0,l<b){v=l,b-=v;do{A[i++]=d[E++]}while(--v);E=i-_,k=A}}}else if(E+=l-v,v<b){b-=v;do{A[i++]=d[E++]}while(--v);E=i-_,k=A}for(;b>2;)A[i++]=k[E++],A[i++]=k[E++],A[i++]=k[E++],b-=3;b&&(A[i++]=k[E++],b>1&&(A[i++]=k[E++]))}else{E=i-_;do{A[i++]=A[E++],A[i++]=A[E++],A[i++]=A[E++],b-=3}while(b>2);b&&(A[i++]=A[E++],b>1&&(A[i++]=A[E++]))}break}}break}}while(n<r&&i<s);b=f>>3,n-=b,f-=b<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<s?s-i+257:257-(i-s),I.hold=h,I.bits=f};const Ht=15,Wt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ft=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Kt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var qt=(e,t,n,r,i,o,s,a)=>{const c=a.bits;let u,l,d,h,f,p,g=0,y=0,m=0,w=0,v=0,b=0,_=0,E=0,k=0,S=0,A=null;const I=new Uint16Array(16),R=new Uint16Array(16);let x,N,T,M=null;for(g=0;g<=Ht;g++)I[g]=0;for(y=0;y<r;y++)I[t[n+y]]++;for(v=c,w=Ht;w>=1&&0===I[w];w--);if(v>w&&(v=w),0===w)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(m=1;m<w&&0===I[m];m++);for(v<m&&(v=m),E=1,g=1;g<=Ht;g++)if(E<<=1,E-=I[g],E<0)return-1;if(E>0&&(0===e||1!==w))return-1;for(R[1]=0,g=1;g<Ht;g++)R[g+1]=R[g]+I[g];for(y=0;y<r;y++)0!==t[n+y]&&(s[R[t[n+y]]++]=y);if(0===e?(A=M=s,p=20):1===e?(A=Wt,M=Ft,p=257):(A=Kt,M=Vt,p=0),S=0,y=0,g=m,f=o,b=v,_=0,d=-1,k=1<<v,h=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){x=g-_,s[y]+1<p?(N=0,T=s[y]):s[y]>=p?(N=M[s[y]-p],T=A[s[y]-p]):(N=96,T=0),u=1<<g-_,l=1<<b,m=l;do{l-=u,i[f+(S>>_)+l]=x<<24|N<<16|T}while(0!==l);for(u=1<<g-1;S&u;)u>>=1;if(0!==u?(S&=u-1,S+=u):S=0,y++,0===--I[g]){if(g===w)break;g=t[n+s[y]]}if(g>v&&(S&h)!==d){for(0===_&&(_=v),f+=m,b=g-_,E=1<<b;b+_<w&&(E-=I[b+_],!(E<=0));)b++,E<<=1;if(k+=1<<b,1===e&&k>852||2===e&&k>592)return 1;d=S&h,i[d]=v<<24|b<<16|f-o}}return 0!==S&&(i[f+S]=g-_<<24|64<<16),a.bits=v,0};const{Z_FINISH:Yt,Z_BLOCK:Gt,Z_TREES:Zt,Z_OK:Qt,Z_STREAM_END:Xt,Z_NEED_DICT:Jt,Z_STREAM_ERROR:$t,Z_DATA_ERROR:en,Z_MEM_ERROR:tn,Z_BUF_ERROR:nn,Z_DEFLATED:rn}=Ee,on=16180,sn=16190,an=16191,cn=16192,un=16194,ln=16199,dn=16200,hn=16206,fn=16209,pn=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function gn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const yn=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<on||t.mode>16211?1:0},mn=e=>{if(yn(e))return $t;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=on,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Qt},wn=e=>{if(yn(e))return $t;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,mn(e)},vn=(e,t)=>{let n;if(yn(e))return $t;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?$t:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,wn(e))},bn=(e,t)=>{if(!e)return $t;const n=new gn;e.state=n,n.strm=e,n.window=null,n.mode=on;const r=vn(e,t);return r!==Qt&&(e.state=null),r};let _n,En,kn=!0;const Sn=e=>{if(kn){_n=new Int32Array(512),En=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(qt(1,e.lens,0,288,_n,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;qt(2,e.lens,0,32,En,0,e.work,{bits:5}),kn=!1}e.lencode=_n,e.lenbits=9,e.distcode=En,e.distbits=5},An=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var In={inflateReset:wn,inflateReset2:vn,inflateResetKeep:mn,inflateInit:e=>bn(e,15),inflateInit2:bn,inflate:(e,t)=>{let n,r,i,o,s,a,c,u,l,d,h,f,p,g,y,m,w,v,b,_,E,k,S=0;const A=new Uint8Array(4);let I,R;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(yn(e)||!e.output||!e.input&&0!==e.avail_in)return $t;n=e.state,n.mode===an&&(n.mode=cn),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,u=n.hold,l=n.bits,d=a,h=c,k=Qt;e:for(;;)switch(n.mode){case on:if(0===n.wrap){n.mode=cn;break}for(;l<16;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===u){0===n.wbits&&(n.wbits=15),n.check=0,A[0]=255&u,A[1]=u>>>8&255,n.check=be(n.check,A,2,0),u=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=fn;break}if((15&u)!==rn){e.msg="unknown compression method",n.mode=fn;break}if(u>>>=4,l-=4,E=8+(15&u),0===n.wbits&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=fn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&u?16189:an,u=0,l=0;break;case 16181:for(;l<16;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==rn){e.msg="unknown compression method",n.mode=fn;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=fn;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&4&n.wrap&&(A[0]=255&u,A[1]=u>>>8&255,n.check=be(n.check,A,2,0)),u=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&4&n.wrap&&(A[0]=255&u,A[1]=u>>>8&255,A[2]=u>>>16&255,A[3]=u>>>24&255,n.check=be(n.check,A,4,0)),u=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&4&n.wrap&&(A[0]=255&u,A[1]=u>>>8&255,n.check=be(n.check,A,2,0)),u=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&4&n.wrap&&(A[0]=255&u,A[1]=u>>>8&255,n.check=be(n.check,A,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),E)),512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break e;f=0;do{E=r[o+f++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,f,o)),a-=f,o+=f,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break e;f=0;do{E=r[o+f++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=be(n.check,r,f,o)),a-=f,o+=f,E)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(4&n.wrap&&u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=fn;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=an;break;case 16189:for(;l<32;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}e.adler=n.check=pn(u),u=0,l=0,n.mode=sn;case sn:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=u,n.bits=l,Jt;e.adler=n.check=1,n.mode=an;case an:if(t===Gt||t===Zt)break e;case cn:if(n.last){u>>>=7&l,l-=7&l,n.mode=hn;break}for(;l<3;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}switch(n.last=1&u,u>>>=1,l-=1,3&u){case 0:n.mode=16193;break;case 1:if(Sn(n),n.mode=ln,t===Zt){u>>>=2,l-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=fn}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if((65535&u)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=fn;break}if(n.length=65535&u,u=0,l=0,n.mode=un,t===Zt)break e;case un:n.mode=16195;case 16195:if(f=n.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break e;i.set(r.subarray(o,o+f),s),a-=f,o+=f,c-=f,s+=f,n.length-=f;break}n.mode=an;break;case 16196:for(;l<14;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=fn;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}n.lens[x[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[x[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},k=qt(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,k){e.msg="invalid code lengths set",n.mode=fn;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[u&(1<<n.lenbits)-1],y=S>>>24,m=S>>>16&255,w=65535&S,!(y<=l);){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(w<16)u>>>=y,l-=y,n.lens[n.have++]=w;else{if(16===w){for(R=y+2;l<R;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(u>>>=y,l-=y,0===n.have){e.msg="invalid bit length repeat",n.mode=fn;break}E=n.lens[n.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===w){for(R=y+3;l<R;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}u>>>=y,l-=y,E=0,f=3+(7&u),u>>>=3,l-=3}else{for(R=y+7;l<R;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}u>>>=y,l-=y,E=0,f=11+(127&u),u>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=fn;break}for(;f--;)n.lens[n.have++]=E}}if(n.mode===fn)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=fn;break}if(n.lenbits=9,I={bits:n.lenbits},k=qt(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,k){e.msg="invalid literal/lengths set",n.mode=fn;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},k=qt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,k){e.msg="invalid distances set",n.mode=fn;break}if(n.mode=ln,t===Zt)break e;case ln:n.mode=dn;case dn:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=u,n.bits=l,jt(e,h),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,u=n.hold,l=n.bits,n.mode===an&&(n.back=-1);break}for(n.back=0;S=n.lencode[u&(1<<n.lenbits)-1],y=S>>>24,m=S>>>16&255,w=65535&S,!(y<=l);){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(m&&0===(240&m)){for(v=y,b=m,_=w;S=n.lencode[_+((u&(1<<v+b)-1)>>v)],y=S>>>24,m=S>>>16&255,w=65535&S,!(v+y<=l);){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}u>>>=v,l-=v,n.back+=v}if(u>>>=y,l-=y,n.back+=y,n.length=w,0===m){n.mode=16205;break}if(32&m){n.back=-1,n.mode=an;break}if(64&m){e.msg="invalid literal/length code",n.mode=fn;break}n.extra=15&m,n.mode=16201;case 16201:if(n.extra){for(R=n.extra;l<R;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;S=n.distcode[u&(1<<n.distbits)-1],y=S>>>24,m=S>>>16&255,w=65535&S,!(y<=l);){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(0===(240&m)){for(v=y,b=m,_=w;S=n.distcode[_+((u&(1<<v+b)-1)>>v)],y=S>>>24,m=S>>>16&255,w=65535&S,!(v+y<=l);){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}u>>>=v,l-=v,n.back+=v}if(u>>>=y,l-=y,n.back+=y,64&m){e.msg="invalid distance code",n.mode=fn;break}n.offset=w,n.extra=15&m,n.mode=16203;case 16203:if(n.extra){for(R=n.extra;l<R;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=fn;break}n.mode=16204;case 16204:if(0===c)break e;if(f=h-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=fn;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,p=s-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do{i[s++]=g[p++]}while(--f);0===n.length&&(n.mode=dn);break;case 16205:if(0===c)break e;i[s++]=n.length,c--,n.mode=dn;break;case hn:if(n.wrap){for(;l<32;){if(0===a)break e;a--,u|=r[o++]<<l,l+=8}if(h-=c,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?be(n.check,i,h,s-h):we(n.check,i,h,s-h)),h=c,4&n.wrap&&(n.flags?u:pn(u))!==n.check){e.msg="incorrect data check",n.mode=fn;break}u=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break e;a--,u+=r[o++]<<l,l+=8}if(4&n.wrap&&u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=fn;break}u=0,l=0}n.mode=16208;case 16208:k=Xt;break e;case fn:k=en;break e;case 16210:return tn;default:return $t}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=u,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<fn&&(n.mode<hn||t!==Yt))&&An(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?be(n.check,i,h,e.next_out-h):we(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===an?128:0)+(n.mode===ln||n.mode===un?256:0),(0===d&&0===h||t===Yt)&&k===Qt&&(k=nn),k},inflateEnd:e=>{if(yn(e))return $t;let t=e.state;return t.window&&(t.window=null),e.state=null,Qt},inflateGetHeader:(e,t)=>{if(yn(e))return $t;const n=e.state;return 0===(2&n.wrap)?$t:(n.head=t,t.done=!1,Qt)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return yn(e)?$t:(r=e.state,0!==r.wrap&&r.mode!==sn?$t:r.mode===sn&&(i=1,i=we(i,t,n,0),i!==r.check)?en:(o=An(e,t,n,n),o?(r.mode=16210,tn):(r.havedict=1,Qt)))},inflateInfo:"pako inflate (from Nodeca project)"};var Rn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const xn=Object.prototype.toString,{Z_NO_FLUSH:Nn,Z_FINISH:Tn,Z_OK:Mn,Z_STREAM_END:On,Z_NEED_DICT:Cn,Z_STREAM_ERROR:Ln,Z_DATA_ERROR:Pn,Z_MEM_ERROR:zn}=Ee;function Bn(e){this.options=_t.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new At,this.strm.avail_out=0;let n=In.inflateInit2(this.strm,t.windowBits);if(n!==Mn)throw new Error(_e[n]);if(this.header=new Rn,In.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=St.string2buf(t.dictionary):"[object ArrayBuffer]"===xn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=In.inflateSetDictionary(this.strm,t.dictionary),n!==Mn)))throw new Error(_e[n])}function Dn(e,t){const n=new Bn(t);if(n.push(e),n.err)throw n.msg||_e[n.err];return n.result}Bn.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Tn:Nn,"[object ArrayBuffer]"===xn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=In.inflate(n,s),o===Cn&&i&&(o=In.inflateSetDictionary(n,i),o===Mn?o=In.inflate(n,s):o===Pn&&(o=Cn));n.avail_in>0&&o===On&&n.state.wrap>0&&0!==e[n.next_in];)In.inflateReset(n),o=In.inflate(n,s);switch(o){case Ln:case Pn:case Cn:case zn:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===On))if("string"===this.options.to){let e=St.utf8border(n.output,n.next_out),t=n.next_out-e,i=St.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Mn||0!==a){if(o===On)return o=In.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Bn.prototype.onData=function(e){this.chunks.push(e)},Bn.prototype.onEnd=function(e){e===Mn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=_t.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Un={Inflate:Bn,inflate:Dn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Dn(e,t)},ungzip:Dn,constants:Ee};const{Deflate:jn,deflate:Hn,deflateRaw:Wn,gzip:Fn}=Dt,{Inflate:Kn,inflate:Vn,inflateRaw:qn,ungzip:Yn}=Un;var Gn=Vn,Zn=n(7283),Qn=n.n(Zn),Xn=n(6382).Buffer;const Jn=e=>"version"in e;function $n(e){return new TextDecoder("utf-8").decode(e)}function er(e){return x().encode(e)}function tr(e){return e.toString("base64")}function nr(e){return k.Buffer.from(e,"base64")}function rr(e){return"accounts"in e}const ir=M.struct([M.publicKey("authority"),M.vecU8("data")]);function or(e,t,n,r){return(null===e||void 0===e?void 0:e.length)?e[0].name?n(e):r(e):t()}function sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e.args.length!=n.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=n[o],o+=1})),i}function ar(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if(rr(e))ar(e.accounts,t[e.name]);else if(!t[e.name])throw new Error("Account `".concat(e.name,"` not provided."))}))}function cr(e){return e instanceof S.PublicKey?e:new S.PublicKey(e)}class ur extends TypeError{constructor(e,t){let n;const{message:r,...i}=e,{path:o}=e;super(0===o.length?r:"At path: "+o.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]}}}function lr(e){return"object"===typeof e&&null!=e}function dr(e){return"string"===typeof e?JSON.stringify(e):""+e}function hr(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"===typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+dr(r)+"`"}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*fr(e,t,n,r){var i;lr(i=e)&&"function"===typeof i[Symbol.iterator]||(e=[e]);for(const o of e){const e=hr(o,t,n,r);e&&(yield e)}}function*pr(e,t,n){void 0===n&&(n={});const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&lr(t.schema)&&lr(e)&&!Array.isArray(e)))for(const u in e)void 0===t.schema[u]&&delete e[u];let c=!0;for(const u of t.validator(e,a))c=!1,yield[u,void 0];for(let[u,l,d]of t.entries(e,a)){const t=pr(l,d,{path:void 0===u?r:[...r,u],branch:void 0===u?i:[...i,l],coerce:o,mask:s});for(const n of t)n[0]?(c=!1,yield[n[0],void 0]):o&&(l=n[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):lr(e)&&(e[u]=l))}if(c)for(const u of t.refiner(e,a))c=!1,yield[u,void 0];c&&(yield[void 0,e])}class gr{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>fr(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>fr(i(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const n=wr(e,t);if(n[0])throw n[0]}(e,this)}create(e){return yr(e,this)}is(e){return mr(e,this)}mask(e){return function(e,t){const n=wr(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),wr(e,this,t)}}function yr(e,t){const n=wr(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function mr(e,t){return!wr(e,t)[0]}function wr(e,t,n){void 0===n&&(n={});const r=pr(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return[new ur(i[0],(function*(){for(const e of r)e[0]&&(yield e[0])})),void 0]}return[void 0,i[1]]}function vr(e,t){return new gr({type:e,schema:null,validator:t})}function br(e){return new gr({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+dr(e)})}function _r(e){const t=dr(e),n=typeof e;return new gr({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `"+t+"`, but received: "+dr(n)})}function Er(e){return new gr({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function kr(){return vr("number",(e=>"number"===typeof e&&!isNaN(e)||"Expected a number, but received: "+dr(e)))}function Sr(e){return new gr({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function Ar(){return vr("string",(e=>"string"===typeof e||"Expected a string, but received: "+dr(e)))}function Ir(e){const t=Object.keys(e);return new gr({type:"type",schema:e,*entries(n){if(lr(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>lr(e)||"Expected an object, but received: "+dr(e)})}function Rr(e){const t=e.map((e=>e.type)).join(" | ");return new gr({type:"union",schema:null,coercer:(t,n)=>(e.find((e=>{const[n]=e.validate(t,{coerce:!0});return!n}))||xr()).coercer(t,n),validator(n,r){const i=[];for(const t of e){const[...e]=pr(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+dr(n),...i]}})}function xr(){return vr("unknown",(()=>!0))}const Nr=99;async function Tr(e,t,n){if(t.length<=Nr)return await Mr(e,t,n);{const r=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/t))).map(((n,r)=>e.slice(r*t,(r+1)*t)))}(t,Nr);return(await Promise.all(r.map((t=>Mr(e,t,n))))).flat()}}async function Mr(e,t,n){const r=null!==n&&void 0!==n?n:e.commitment,{value:i,context:o}=await e.getMultipleAccountsInfoAndContext(t,r);return i.map(((e,n)=>null===e?null:{publicKey:t[n],account:e,context:o}))}async function Or(e,t,n,r,i){var o;n&&n.length>0&&t.sign(...n);const s=t._compile(),a=s.serialize(),c=t._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!==r&&void 0!==r?r:e.commitment};if(i){const e=(Array.isArray(i)?i:s.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}n&&n.length>0&&(u.sigVerify=!0);const l=[c,u],d=yr(await e._rpcRequest("simulateTransaction",l),zr);if("error"in d){let e;if("data"in d.error&&(e=null===(o=d.error.data)||void 0===o?void 0:o.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(d.error.message,n)}throw new S.SendTransactionError("failed to simulate transaction: "+d.error.message,e)}return d.result}function Cr(e){return function(e,t,n){return new gr({...e,coercer:(r,i)=>mr(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}(Pr(e),Lr,(t=>"error"in t?t:{...t,result:yr(t.result,e)}))}const Lr=Pr(xr());function Pr(e){return Rr([Ir({jsonrpc:_r("2.0"),id:Ar(),result:e}),Ir({jsonrpc:_r("2.0"),id:Ar(),error:Ir({code:xr(),message:Ar(),data:Sr(vr("any",(()=>!0)))})})])}const zr=(Br=Ir({err:Er(Rr([Ir({}),Ar()])),logs:Er(br(Ar())),accounts:Sr(Er(br(Er(Ir({executable:vr("boolean",(e=>"boolean"===typeof e)),owner:Ar(),lamports:kr(),data:br(Ar()),rentEpoch:Sr(kr())}))))),unitsConsumed:Sr(kr())}),Cr(Ir({context:Ir({slot:kr()}),value:Br})));var Br;class Dr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dr.defaultOptions();this.connection=e,this.wallet=t,this.opts=n,this.publicKey=null===t||void 0===t?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e){arguments.length>1&&void 0!==arguments[1]||Dr.defaultOptions();throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var r,i,o,s;if(void 0===n&&(n=this.opts),Jn(e))t&&e.sign(t);else if(e.feePayer=null!==(r=e.feePayer)&&void 0!==r?r:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,t)for(const c of t)e.partialSign(c);const a=(e=await this.wallet.signTransaction(e)).serialize();try{return await jr(this.connection,a,n)}catch(Xe){if(Xe instanceof Hr){const n=er(Jn(e)?(null===(i=e.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(o=e.signature)&&void 0!==o?o:new Uint8Array),r=Jn(e)?0:void 0,a=await this.connection.getTransaction(n,{commitment:"confirmed",maxSupportedTransactionVersion:r});if(a){const e=null===(s=a.meta)||void 0===s?void 0:s.logMessages;throw e?new S.SendTransactionError(Xe.message,e):Xe}throw Xe}throw Xe}}async sendAll(e,t){var n,r,i;void 0===t&&(t=this.opts);const o=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let s=e.map((e=>{var t,n;if(Jn(e.tx)){let t=e.tx;return e.signers&&t.sign(e.signers),t}{let r=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=o,i.forEach((e=>{r.partialSign(e)})),r}}));const a=await this.wallet.signAllTransactions(s),c=[];for(let u=0;u<s.length;u+=1){const e=a[u],o=e.serialize();try{c.push(await jr(this.connection,o,t))}catch(Xe){if(Xe instanceof Hr){const o=er(Jn(e)?(null===(n=e.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=e.signature)&&void 0!==r?r:new Uint8Array),s=Jn(e)?0:void 0,a=await this.connection.getTransaction(o,{commitment:"confirmed",maxSupportedTransactionVersion:s});if(a){const e=null===(i=a.meta)||void 0===i?void 0:i.logMessages;throw e?new S.SendTransactionError(Xe.message,e):Xe}throw Xe}throw Xe}}return c}async simulate(e,t,n,r){let i,o=(await this.connection.getLatestBlockhash(null!==n&&void 0!==n?n:this.connection.commitment)).blockhash;if(Jn(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),i=await Or(this.connection,e,t,n,r)),i.value.err)throw new Ur(i.value);return i.value}}class Ur extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function jr(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},i=await e.sendRawTransaction(t,r),o=(await e.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new Hr("Raw transaction ".concat(i," failed (").concat(JSON.stringify(o),")"));return i}class Hr extends Error{constructor(e){super(e)}}function Wr(){return null===Fr?Dr.local():Fr}let Fr=null;var Kr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});var qr=Vr.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=Vr.ANCHOR_ERROR__REQUIRE_VIOLATED=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Vr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Vr.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Vr.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Vr.ANCHOR_ERROR__CONSTRAINT_SPACE=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Vr.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Vr.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Vr.ANCHOR_ERROR__CONSTRAINT_ZERO=Vr.ANCHOR_ERROR__CONSTRAINT_ADDRESS=Vr.ANCHOR_ERROR__CONSTRAINT_CLOSE=Vr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Vr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Vr.ANCHOR_ERROR__CONSTRAINT_STATE=Vr.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Vr.ANCHOR_ERROR__CONSTRAINT_SEEDS=Vr.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=Vr.ANCHOR_ERROR__CONSTRAINT_OWNER=Vr.ANCHOR_ERROR__CONSTRAINT_RAW=Vr.ANCHOR_ERROR__CONSTRAINT_SIGNER=Vr.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=Vr.ANCHOR_ERROR__CONSTRAINT_MUT=Vr.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=Vr.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=Vr.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=Vr.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=Vr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=Vr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=Vr.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=Vr.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Yr=Vr.ANCHOR_ERROR__DEPRECATED=Vr.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=Vr.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=Vr.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=Vr.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=Vr.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=Vr.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=Vr.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=Vr.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=Vr.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=Vr.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=Vr.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=Vr.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=Vr.ANCHOR_ERROR__INVALID_PROGRAM_ID=Vr.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=Vr.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=Vr.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=Vr.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=Vr.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=Vr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=Vr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=Vr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=Vr.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=Vr.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=Vr.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=Vr.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=Vr.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,Gr=Vr.ANCHOR_ERROR__INSTRUCTION_MISSING=100,Zr=Vr.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,Qr=Vr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,Xr=Vr.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,Jr=Vr.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,$r=Vr.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,ei=Vr.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,ti=Vr.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,ni=Vr.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,ri=Vr.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,ii=Vr.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,oi=Vr.ANCHOR_ERROR__CONSTRAINT_RAW=2003,si=Vr.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,ai=Vr.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,ci=Vr.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,ui=Vr.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,li=Vr.ANCHOR_ERROR__CONSTRAINT_STATE=2008,di=Vr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,hi=Vr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,fi=Vr.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,pi=Vr.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,gi=Vr.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,yi=Vr.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,mi=Vr.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,wi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,vi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,bi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,_i=Vr.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Ei=Vr.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,ki=Vr.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,Si=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,Ai=Vr.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Ii=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Ri=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,xi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Ni=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Ti=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Mi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,Oi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Ci=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Li=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Pi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,zi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Bi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Di=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Ui=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,ji=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,Hi=Vr.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,Wi=Vr.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;qr=Vr.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var Fi=Vr.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,Ki=Vr.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,Vi=Vr.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,qi=Vr.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,Yi=Vr.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,Gi=Vr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,Zi=Vr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,Qi=Vr.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,Xi=Vr.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,Ji=Vr.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,$i=Vr.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,eo=Vr.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,to=Vr.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,no=Vr.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,ro=Vr.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,io=Vr.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,oo=Vr.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,so=Vr.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,ao=Vr.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,co=Vr.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,uo=Vr.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,lo=Vr.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,ho=Vr.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,fo=Vr.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,po=Vr.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,go=Vr.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Yr=Vr.ANCHOR_ERROR__DEPRECATED=5e3;new Set(["debug-logs"]);const yo=new Map;function mo(e){return void 0!==yo.get(e)}class wo extends Error{constructor(e){super(e),this.name="IdlError"}}class vo{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(r.exec(e[o])){i.pop();continue}const s=null===(t=n.exec(e[o]))||void 0===t?void 0:t[1];s&&i.push(new S.PublicKey(s))}return new vo(i)}}class bo extends Error{constructor(e,t,n,r,i,o){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=vo.parse(r)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const n=e[t],r=[n];let i;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,o=n.exec(e[t+2])[1],s=n.exec(e[t+4])[1];i=[new S.PublicKey(o),new S.PublicKey(s)],r.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,o=n.exec(e[t+1])[2],s=n.exec(e[t+2])[2];r.push(...e.slice(t+1,t+3)),i=[o,s]}const o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),s=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(o){const[t,n,s]=o.slice(1,4),a={code:t,number:parseInt(n)};return new bo(a,s,r,e,void 0,i)}if(s){const[t,n,o,a,c]=s.slice(1,6),u={code:o,number:parseInt(a)},l={file:t,line:parseInt(n)};return new bo(u,c,r,e,l,i)}if(a){const[t,n,o,s]=a.slice(1,5),c=t,u={code:n,number:parseInt(o)};return new bo(u,s,r,e,c,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class _o extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=vo.parse(n))}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(s){return null}let o=t.get(i);return void 0!==o?new _o(i,o,e.logs):(o=So.get(i),void 0!==o?new _o(i,o,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function Eo(e,t){mo("debug-logs")&&console.log("Translating error:",e);const n=bo.parse(e.logs);if(n)return n;const r=_o.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return"programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=vo.parse(e.logs),new Proxy(e,t)}return e}const ko={InstructionMissing:Gr,InstructionFallbackNotFound:Zr,InstructionDidNotDeserialize:Qr,InstructionDidNotSerialize:Xr,IdlInstructionStub:Jr,IdlInstructionInvalidProgram:$r,IdlAccountNotEmpty:ei,EventInstructionStub:ti,ConstraintMut:ni,ConstraintHasOne:ri,ConstraintSigner:ii,ConstraintRaw:oi,ConstraintOwner:si,ConstraintRentExempt:ai,ConstraintSeeds:ci,ConstraintExecutable:ui,ConstraintState:li,ConstraintAssociated:di,ConstraintAssociatedInit:hi,ConstraintClose:fi,ConstraintAddress:pi,ConstraintZero:gi,ConstraintTokenMint:yi,ConstraintTokenOwner:mi,ConstraintMintMintAuthority:wi,ConstraintMintFreezeAuthority:vi,ConstraintMintDecimals:bi,ConstraintSpace:_i,ConstraintAccountIsNone:Ei,ConstraintTokenTokenProgram:ki,ConstraintMintTokenProgram:Si,ConstraintAssociatedTokenTokenProgram:Ai,ConstraintMintGroupPointerExtension:Ii,ConstraintMintGroupPointerExtensionAuthority:Ri,ConstraintMintGroupPointerExtensionGroupAddress:xi,ConstraintMintGroupMemberPointerExtension:Ni,ConstraintMintGroupMemberPointerExtensionAuthority:Ti,ConstraintMintGroupMemberPointerExtensionMemberAddress:Mi,ConstraintMintMetadataPointerExtension:Oi,ConstraintMintMetadataPointerExtensionAuthority:Ci,ConstraintMintMetadataPointerExtensionMetadataAddress:Li,ConstraintMintCloseAuthorityExtension:Pi,ConstraintMintCloseAuthorityExtensionAuthority:zi,ConstraintMintPermanentDelegateExtension:Bi,ConstraintMintPermanentDelegateExtensionDelegate:Di,ConstraintMintTransferHookExtension:Ui,ConstraintMintTransferHookExtensionAuthority:ji,ConstraintMintTransferHookExtensionProgramId:Hi,RequireViolated:Wi,RequireEqViolated:qr,RequireKeysEqViolated:Fi,RequireNeqViolated:Ki,RequireKeysNeqViolated:Vi,RequireGtViolated:qi,RequireGteViolated:Yi,AccountDiscriminatorAlreadySet:Gi,AccountDiscriminatorNotFound:Zi,AccountDiscriminatorMismatch:Qi,AccountDidNotDeserialize:Xi,AccountDidNotSerialize:Ji,AccountNotEnoughKeys:$i,AccountNotMutable:eo,AccountOwnedByWrongProgram:to,InvalidProgramId:no,InvalidProgramExecutable:ro,AccountNotSigner:io,AccountNotSystemOwned:oo,AccountNotInitialized:so,AccountNotProgramData:ao,AccountNotAssociatedTokenAccount:co,AccountSysvarMismatch:uo,AccountReallocExceedsLimit:lo,AccountDuplicateReallocs:ho,DeclaredProgramIdMismatch:fo,TryingToInitPayerAsProgramAccount:po,InvalidNumericConversion:go,Deprecated:Yr},So=new Map([[ko.InstructionMissing,"8 byte instruction identifier not provided"],[ko.InstructionFallbackNotFound,"Fallback functions are not supported"],[ko.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[ko.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[ko.IdlInstructionStub,"The program was compiled without idl instructions"],[ko.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[ko.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[ko.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[ko.ConstraintMut,"A mut constraint was violated"],[ko.ConstraintHasOne,"A has one constraint was violated"],[ko.ConstraintSigner,"A signer constraint was violated"],[ko.ConstraintRaw,"A raw constraint was violated"],[ko.ConstraintOwner,"An owner constraint was violated"],[ko.ConstraintRentExempt,"A rent exemption constraint was violated"],[ko.ConstraintSeeds,"A seeds constraint was violated"],[ko.ConstraintExecutable,"An executable constraint was violated"],[ko.ConstraintState,"Deprecated Error, feel free to replace with something else"],[ko.ConstraintAssociated,"An associated constraint was violated"],[ko.ConstraintAssociatedInit,"An associated init constraint was violated"],[ko.ConstraintClose,"A close constraint was violated"],[ko.ConstraintAddress,"An address constraint was violated"],[ko.ConstraintZero,"Expected zero account discriminant"],[ko.ConstraintTokenMint,"A token mint constraint was violated"],[ko.ConstraintTokenOwner,"A token owner constraint was violated"],[ko.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[ko.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[ko.ConstraintMintDecimals,"A mint decimals constraint was violated"],[ko.ConstraintSpace,"A space constraint was violated"],[ko.ConstraintAccountIsNone,"A required account for the constraint is None"],[ko.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[ko.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[ko.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[ko.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[ko.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[ko.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[ko.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[ko.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[ko.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[ko.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[ko.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[ko.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[ko.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[ko.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[ko.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[ko.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[ko.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[ko.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[ko.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[ko.RequireViolated,"A require expression was violated"],[ko.RequireEqViolated,"A require_eq expression was violated"],[ko.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[ko.RequireNeqViolated,"A require_neq expression was violated"],[ko.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[ko.RequireGtViolated,"A require_gt expression was violated"],[ko.RequireGteViolated,"A require_gte expression was violated"],[ko.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[ko.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[ko.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[ko.AccountDidNotDeserialize,"Failed to deserialize the account"],[ko.AccountDidNotSerialize,"Failed to serialize the account"],[ko.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[ko.AccountNotMutable,"The given account is not mutable"],[ko.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[ko.InvalidProgramId,"Program ID was not as expected"],[ko.InvalidProgramExecutable,"Program account is not executable"],[ko.AccountNotSigner,"The given account did not sign"],[ko.AccountNotSystemOwned,"The given account is not owned by the system program"],[ko.AccountNotInitialized,"The program expected this account to be already initialized"],[ko.AccountNotProgramData,"The given account is not a program data account"],[ko.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[ko.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[ko.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[ko.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[ko.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[ko.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[ko.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[ko.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Ao{static fieldLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const r=e.name;switch(e.type){case"bool":return M.bool(r);case"u8":return M.u8(r);case"i8":return M.i8(r);case"u16":return M.u16(r);case"i16":return M.i16(r);case"u32":return M.u32(r);case"i32":return M.i32(r);case"f32":return M.f32(r);case"u64":return M.u64(r);case"i64":return M.i64(r);case"f64":return M.f64(r);case"u128":return M.u128(r);case"i128":return M.i128(r);case"u256":return M.u256(r);case"i256":return M.i256(r);case"bytes":return M.vecU8(r);case"string":return M.str(r);case"pubkey":return M.publicKey(r);default:if("option"in e.type)return M.option(Ao.fieldLayout({type:e.type.option},t,n),r);if("vec"in e.type)return M.vec(Ao.fieldLayout({type:e.type.vec},t,n),r);if("array"in e.type){let[i,o]=e.type.array;return o=Ao.resolveArrayLen(o,n),M.array(Ao.fieldLayout({type:i},t,n),o,r)}if("defined"in e.type){if(!t)throw new wo("User defined types not provided");const i=e.type.defined.name,o=t.find((e=>e.name===i));if(!o)throw new wo("Type not found: ".concat(e.name));return Ao.typeDefLayout({typeDef:o,types:t,genericArgs:null!==n&&void 0!==n?n:e.type.defined.generics,name:r})}if("generic"in e.type){const r=null===n||void 0===n?void 0:n.at(0);if("type"!==(null===r||void 0===r?void 0:r.kind))throw new wo("Invalid generic field: ".concat(e.name));return Ao.fieldLayout({...e,type:r.type},t)}throw new wo("Not yet implemented: ".concat(JSON.stringify(e.type)))}}static typeDefLayout(e){let{typeDef:t,types:n,name:r,genericArgs:i}=e;switch(t.type.kind){case"struct":{const e=or(t.type.fields,(()=>[]),(e=>e.map((e=>{const r=i?Ao.resolveGenericArgs({type:e.type,typeDef:t,genericArgs:i}):i;return Ao.fieldLayout(e,n,r)}))),(e=>e.map(((e,r)=>{const o=i?Ao.resolveGenericArgs({type:e,typeDef:t,genericArgs:i}):i;return Ao.fieldLayout({name:r.toString(),type:e},n,o)}))));return M.struct(e,r)}case"enum":{const e=t.type.variants.map((e=>{const r=or(e.fields,(()=>[]),(e=>e.map((e=>{const r=i?Ao.resolveGenericArgs({type:e.type,typeDef:t,genericArgs:i}):i;return Ao.fieldLayout(e,n,r)}))),(e=>e.map(((e,r)=>{const o=i?Ao.resolveGenericArgs({type:e,typeDef:t,genericArgs:i}):i;return Ao.fieldLayout({name:r.toString(),type:e},n,o)}))));return M.struct(r,e.name)}));return void 0!==r?M.rustEnum(e).replicate(r):M.rustEnum(e,r)}case"type":return Ao.fieldLayout({type:t.type.alias,name:r},n)}}static typeSize(e,t,n){var r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in e)return 1+Ao.typeSize(e.option,t,n);if("coption"in e)return 4+Ao.typeSize(e.coption,t,n);if("vec"in e)return 1;if("array"in e){let[r,i]=e.array;return i=Ao.resolveArrayLen(i,n),Ao.typeSize(r,t,n)*i}if("defined"in e){const i=null===(r=t.types)||void 0===r?void 0:r.find((t=>t.name===e.defined.name));if(!i)throw new wo("Type not found: ".concat(JSON.stringify(e)));const o=r=>{const o=null!==n&&void 0!==n?n:e.defined.generics,s=o?Ao.resolveGenericArgs({type:r,typeDef:i,genericArgs:o}):o;return Ao.typeSize(r,t,s)};switch(i.type.kind){case"struct":return or(i.type.fields,(()=>[0]),(e=>e.map((e=>o(e.type)))),(e=>e.map((e=>o(e))))).reduce(((e,t)=>e+t),0);case"enum":{const e=i.type.variants.map((e=>or(e.fields,(()=>[0]),(e=>e.map((e=>o(e.type)))),(e=>e.map((e=>o(e))))).reduce(((e,t)=>e+t),0)));return Math.max(...e)+1}case"type":return Ao.typeSize(i.type.alias,t,n)}}if("generic"in e){const r=null===n||void 0===n?void 0:n.at(0);if("type"!==(null===r||void 0===r?void 0:r.kind))throw new wo("Invalid generic: ".concat(e.generic));return Ao.typeSize(r.type,t,n)}throw new Error("Invalid type ".concat(JSON.stringify(e)))}}static resolveArrayLen(e,t){if("number"===typeof e)return e;if(t){const n=t.find((e=>"const"===e.kind));"const"===(null===n||void 0===n?void 0:n.kind)&&(e=+n.value)}if("number"!==typeof e)throw new wo("Generic array length did not resolve");return e}static resolveGenericArgs(e){let{type:t,typeDef:n,genericArgs:r,isDefined:i}=e;if("object"!==typeof t)return null;for(const o in n.generics){const e=n.generics[o];if("generic"in t&&e.name===t.generic)return[r[o]];if("option"in t){const e=Ao.resolveGenericArgs({type:t.option,typeDef:n,genericArgs:r,isDefined:i});if(!e||!i)return e;if("type"===e[0].kind)return[{kind:"type",type:{option:e[0].type}}]}if("vec"in t){const e=Ao.resolveGenericArgs({type:t.vec,typeDef:n,genericArgs:r,isDefined:i});if(!e||!i)return e;if("type"===e[0].kind)return[{kind:"type",type:{vec:e[0].type}}]}if("array"in t){const[s,a]=t.array,c="object"===typeof a,u=Ao.resolveGenericArgs({type:s,typeDef:n,genericArgs:r,isDefined:i});if(u){for(const e in n.generics.slice(+o)){const t=+o+ +e;c&&n.generics[t].name===a.generic&&u.push(r[t])}if(!i)return u;if("type"===u[0].kind&&"const"===u[1].kind)return[{kind:"type",type:{array:[u[0].type,+u[1].value]}}]}if(c&&e.name===a.generic){const e=r[o];return i?[{kind:"type",type:{array:[s,+e.value]}}]:[e]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap((e=>{switch(e.kind){case"type":return Ao.resolveGenericArgs({type:e.type,typeDef:n,genericArgs:r,isDefined:!0});case"const":return[e]}})).filter((e=>null!==e)):null}return null}}class Io{constructor(e){this.idl=e;const t=e.instructions.map((t=>{const n=t.name,r=t.args.map((t=>Ao.fieldLayout(t,e.types))),i=M.struct(r,n);return[n,{discriminator:t.discriminator,layout:i}]}));this.ixLayouts=new Map(t);const n=t.map((e=>{let[t,{discriminator:n,layout:r}]=e;return[x().encode(n),{name:t,layout:r}]}));this.sighashLayouts=new Map(n)}encode(e,t){const n=k.Buffer.alloc(1e3),r=this.ixLayouts.get(e);if(!r)throw new Error("Unknown method: ".concat(e));const i=r.layout.encode(t,n),o=n.slice(0,i);return k.Buffer.concat([k.Buffer.from(r.discriminator),o])}decode(e){"string"===typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?k.Buffer.from(e,"hex"):x().decode(e));const t=e.slice(0,xo),n=e.slice(xo),r=this.sighashLayouts.get(x().encode(t));return r?{name:r.name,data:r.layout.decode(n)}:null}format(e,t){return Ro.format(e,t,this.idl)}}class Ro{static format(e,t,n){const r=n.instructions.find((t=>e.name===t.name));if(!r)return console.error("Invalid instruction given"),null;const i=r.args.map((t=>({name:t.name,type:Ro.formatIdlType(t.type),data:Ro.formatIdlData(t,e.data[t.name],n.types)}))),o=Ro.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"===typeof e)return e;if("option"in e)return"Option<".concat(this.formatIdlType(e.option),">");if("coption"in e)return"COption<".concat(this.formatIdlType(e.coption),">");if("vec"in e)return"Vec<".concat(this.formatIdlType(e.vec),">");if("array"in e)return"Array<".concat(e.array[0],"; ").concat(e.array[1],">");if("defined"in e){const t=e.defined.name;if(e.defined.generics){const n=e.defined.generics.map((e=>{switch(e.kind){case"type":return Ro.formatIdlType(e.type);case"const":return e.value}})).join(", ");return"".concat(t,"<").concat(n,">")}return t}throw new Error("Unknown IDL type: ".concat(e))}static formatIdlData(e,t,n){if("string"===typeof e.type)return t.toString();if("vec"in e.type)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t,n))).join(", ")+"]";if("option"in e.type)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if("defined"in e.type){if(!n)throw new Error("User defined types not provided");const r=e.type.defined.name,i=n.find((e=>e.name===r));if(!i)throw new Error("Type not found: ".concat(r));return Ro.formatIdlDataDefined(i,t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){switch(e.type.kind){case"struct":return"{ "+or(e.type.fields,(()=>""),(e=>Object.entries(t).map((t=>{let[r,i]=t;const o=e.find((e=>e.name===r));if(!o)throw new Error("Field not found: ".concat(r));return r+": "+Ro.formatIdlData(o,i,n)})).join(", ")),(e=>Object.entries(t).map((t=>{let[r,i]=t;return r+": "+Ro.formatIdlData({name:"",type:e[r]},i,n)})).join(", ")))+" }";case"enum":{const r=Object.keys(t)[0],i=e.type.variants.find((e=>e.name===r));if(!i)throw new Error("Unable to find variant: ".concat(r));const o=t[r];return or(i.fields,(()=>r),(e=>{const t=Object.keys(o).map((t=>{const r=o[t],i=e.find((e=>e.name===t));if(!i)throw new Error("Field not found: ".concat(t));return t+": "+Ro.formatIdlData(i,r,n)})).join(", ");return"".concat(r," { ").concat(t," }")}),(e=>{const t=Object.entries(o).map((t=>{let[r,i]=t;return r+": "+Ro.formatIdlData({name:"",type:e[r]},i,n)})).join(", ");return"".concat(r," { ").concat(t," }")}))}case"type":return Ro.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map((e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?"".concat(t," > ").concat(n):n;return Ro.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?"".concat(t," > ").concat(n):n}})).flat()}}const xo=8;class No{constructor(e){if(this.idl=e,!e.accounts)return void(this.accountLayouts=new Map);const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const n=e.accounts.map((e=>{const n=t.find((t=>t.name===e.name));if(!n)throw new Error("Account not found: ".concat(e.name));return[e.name,Ao.typeDefLayout({typeDef:n,types:t})]}));this.accountLayouts=new Map(n)}async encode(e,t){const n=k.Buffer.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error("Unknown account: ".concat(e));const i=r.encode(t,n),o=n.slice(0,i),s=this.accountDiscriminator(e);return k.Buffer.concat([s,o])}decode(e,t){if(this.accountDiscriminator(e).compare(t.slice(0,xo)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){const t=e.slice(0,xo),n=Array.from(this.accountLayouts.keys()).find((e=>this.accountDiscriminator(e).equals(t)));if(!n)throw new Error("Account not found");return this.decodeUnchecked(n,e)}decodeUnchecked(e,t){const n=t.subarray(xo),r=this.accountLayouts.get(e);if(!r)throw new Error("Unknown account: ".concat(e));return r.decode(n)}memcmp(e,t){const n=this.accountDiscriminator(e);return{offset:0,bytes:x().encode(t?k.Buffer.concat([n,t]):n)}}size(e){return xo+Ao.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const n=null===(t=this.idl.accounts)||void 0===t?void 0:t.find((t=>t.name===e));if(!n)throw new Error("Account not found: ".concat(e));return k.Buffer.from(n.discriminator)}}class To{constructor(e){var t;if(!e.events)return void(this.layouts=new Map);const n=e.types;if(!n)throw new Error("Events require `idl.types`");const r=e.events.map((e=>{const t=n.find((t=>t.name===e.name));if(!t)throw new Error("Event not found: ".concat(e.name));return[e.name,Ao.typeDefLayout({typeDef:t,types:n})]}));this.layouts=new Map(r),this.discriminators=new Map((null!==(t=e.events)&&void 0!==t?t:[]).map((e=>[tr(k.Buffer.from(e.discriminator)),e.name])))}decode(e){let t;try{t=nr(e)}catch(o){return null}const n=tr(t.slice(0,8)),r=this.discriminators.get(n);if(!r)return null;const i=this.layouts.get(r);if(!i)throw new Error("Unknown event: ".concat(r));return{data:i.decode(t.slice(8)),name:r}}}class Mo{constructor(e){const t=e.types;if(!t)return void(this.typeLayouts=new Map);const n=t.filter((e=>!e.generics)).map((e=>[e.name,Ao.typeDefLayout({typeDef:e,types:t})]));this.typeLayouts=new Map(n)}encode(e,t){const n=k.Buffer.alloc(1e3),r=this.typeLayouts.get(e);if(!r)throw new Error("Unknown type: ".concat(e));const i=r.encode(t,n);return n.slice(0,i)}decode(e,t){const n=this.typeLayouts.get(e);if(!n)throw new Error("Unknown type: ".concat(e));return n.decode(t)}}class Oo{constructor(e){this.instruction=new Io(e),this.accounts=new No(e),this.events=new To(e),this.types=new Mo(e)}}class Co{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Lo=Co;class Po extends Co{isCount(){throw new Error("ExternalLayout is abstract")}}class zo extends Po{constructor(e,t,n){if(!(e instanceof Co))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Bo||this.layout instanceof Do}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class Bo extends Co{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class Do extends Co{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const Uo=Math.pow(2,32);function jo(e){const t=Math.floor(e/Uo);return{hi32:t,lo32:e-t*Uo}}function Ho(e,t){return e*Uo+t}class Wo extends Co{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return Ho(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=jo(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class Fo extends Co{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return Ho(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=jo(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class Ko extends Co{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof Co),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===n&&(n=t,t=void 0);for(const o of e)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class Vo{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class qo extends Vo{constructor(e,t){if(!(e instanceof Po&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class Yo extends Co{constructor(e,t,n){const r=e instanceof Bo||e instanceof Do;if(r)e=new qo(new zo(e));else if(e instanceof Po&&e.isCount())e=new qo(e);else if(!(e instanceof Vo))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof Co))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[o.property]=this.defaultLayout.decode(e,t+s)}else n=o.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Go(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Xn.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class Go extends Co{constructor(e,t,n,r){if(!(e instanceof Yo))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Co))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Zo extends Co{constructor(e,t){if(!(e instanceof Po&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Po||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof Po&&(r=e.length),!Xn.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",((o=this).property?i+"["+o.property+"]":i)+" requires (length "+r+") Buffer as src"));var i,o;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof Po&&this.length.encode(r,t,n),r}}var Qo=(e,t,n)=>new zo(e,t,n),Xo=e=>new Bo(4,e),Jo=e=>new Fo(e),$o=(e,t,n)=>new Ko(e,t,n),es=(e,t,n)=>new Yo(e,t,n),ts=(e,t)=>new Zo(e,t);class ns extends Lo{constructor(e){super(-1,e),this.property=e,this.layout=$o([Xo("length"),Xo("lengthPadding"),ts(Qo(Xo(),-8),"chars")],this.property)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null===e||void 0===e)return this.layout.span;const r={chars:Xn.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t).chars.toString()}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Xo().span+Xo().span+new(I())(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function rs(e){return new ns(e)}function is(e){return ts(32,e)}const os=es(Xo("instruction"));os.addVariant(0,$o([Jo("lamports"),Jo("space"),is("owner")]),"createAccount"),os.addVariant(1,$o([is("owner")]),"assign"),os.addVariant(2,$o([Jo("lamports")]),"transfer"),os.addVariant(3,$o([is("base"),rs("seed"),Jo("lamports"),Jo("space"),is("owner")]),"createAccountWithSeed"),os.addVariant(4,$o([is("authorized")]),"advanceNonceAccount"),os.addVariant(5,$o([Jo("lamports")]),"withdrawNonceAccount"),os.addVariant(6,$o([is("authorized")]),"initializeNonceAccount"),os.addVariant(7,$o([is("authorized")]),"authorizeNonceAccount"),os.addVariant(8,$o([Jo("space")]),"allocate"),os.addVariant(9,$o([is("base"),rs("seed"),Jo("space"),is("owner")]),"allocateWithSeed"),os.addVariant(10,$o([is("base"),rs("seed"),is("owner")]),"assignWithSeed"),os.addVariant(11,$o([Jo("lamports"),rs("seed"),is("owner")]),"transferWithSeed");Math.max(...Object.values(os.registry).map((e=>e.span)));class ss extends Lo{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function as(e){return new ss(ts(32),(e=>new S.PublicKey(e)),(e=>e.toBuffer()),e)}$o([Xo("version"),Xo("state"),as("authorizedPubkey"),as("nonce"),$o([(cs="lamportsPerSignature",new Wo(cs))],"feeCalculator")]);var cs;new S.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new S.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var us={exports:{}};!function(e,t){var n="undefined"!==typeof self?self:Kr,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=u(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,t){this.map[u(e)]=l(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];E.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(Xe){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,o){var s=new v(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:_(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new E(t,e))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=h,e.Request=v,e.Response=E),t.Headers=h,t.Request=v,t.Response=E,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(us,us.exports);M.rustEnum([M.struct([],"uninitialized"),M.struct([M.option(M.publicKey(),"authorityAddress")],"buffer"),M.struct([M.publicKey("programdataAddress")],"program"),M.struct([M.u64("slot"),M.option(M.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,M.u32());function ls(e,t){var n,r;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error("provided too many arguments ".concat(t," to instruction ").concat(null===e||void 0===e?void 0:e.name," expecting: ").concat(null!==(r=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==r?r:[]));i=t.pop()}return[t,i]}class ds{static build(e,t,n){if("_inner"===e.name)throw new wo("the _inner name is reserved");const r=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const[a,c]=ls(e,[...o]);ar(e.accounts,c.accounts);const u=r.accounts(c.accounts);return void 0!==c.remainingAccounts&&u.push(...c.remainingAccounts),mo("debug-logs")&&console.log("Outgoing account metas:",u),new S.TransactionInstruction({keys:u,programId:n,data:t(e.name,sr(e,...a))})};return r.accounts=t=>ds.accountsArray(t,e.accounts,n,e.name),r}static accountsArray(e,t,n,r){return e?t.map((t=>{if(rr(t)){const i=e[t.name];return ds.accountsArray(i,t.accounts,n,r).flat()}let i;try{i=cr(e[t.name])}catch(Xe){throw new Error('Wrong input type for account "'.concat(t.name,'" in the instruction accounts object').concat(void 0!==r?' for instruction "'+r+'"':"",". Expected PublicKey or string."))}const o=t.optional&&i.equals(n);return{pubkey:i,isWritable:Boolean(t.writable&&!o),isSigner:Boolean(t.signer&&!o)}})).flat():[]}}class hs{static build(e,t){return function(){for(var n,r,i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const[,c]=ls(e,[...s]),u=new S.Transaction;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(n=c.preInstructions)||void 0===n||n.forEach((e=>u.add(e))),null===(r=c.instructions)||void 0===r||r.forEach((e=>u.add(e))),u.add(t(...s)),null===(i=c.postInstructions)||void 0===i||i.forEach((e=>u.add(e))),u}}}class fs{static build(e,t,n,r){return async function(){for(var i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const c=t(...s),[,u]=ls(e,[...s]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(c,null!==(i=u.signers)&&void 0!==i?i:[],u.options)}catch(Xe){throw Eo(Xe,n)}}}}class ps{static build(e,t,n,r){var i;return(null!==(i=e.accounts)&&void 0!==i?i:[]).reduce(((i,o)=>(i[o.name]=new gs(e,o,n,r,t),i)),{})}}class gs{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!==r&&void 0!==r?r:Wr(),this._coder=null!==i&&void 0!==i?i:new Oo(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);return n}async fetchNullableAndContext(e,t){const n=await this.getAccountInfoAndContext(e,t),{value:r,context:i}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error("Account does not exist or has no data ".concat(e.toString()));return n}async fetchAndContext(e,t){const{data:n,context:r}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error("Account does not exist ".concat(e.toString()));return{data:n,context:r}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map((e=>e?e.data:null))}async fetchMultipleAndContext(e,t){return(await Tr(this._provider.connection,e.map((e=>cr(e))),t)).map((e=>{if(null==e)return null;const{account:t,context:n}=e;return{data:this._coder.accounts.decode(this._idlAccount.name,t.data),context:n}}))}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Xn?e:void 0),n=[];return void 0!=(null===t||void 0===t?void 0:t.offset)&&void 0!=(null===t||void 0===t?void 0:t.bytes)&&n.push({memcmp:{offset:t.offset,bytes:t.bytes}}),void 0!=(null===t||void 0===t?void 0:t.dataSize)&&n.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:n}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}}))}subscribe(e,t){const n=ys.get(e.toString());if(n)return n.ee;const r=new(Qn());e=cr(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return ys.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=ys.get(e.toString());t?ys&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{ys.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return S.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:null!==t&&void 0!==t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!==t&&void 0!==t?t:n),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(cr(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(cr(e),t)}}const ys=new Map,ms="Program log: ",ws="Program data: ";class vs{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new bs(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{if(!e.err)for(const n of this._eventParser.parseLogs(e.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,t.slot,e.signature)}}))}}))),r}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error("Event listener ".concat(e," doesn't exist!"));const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error("Event listeners don't exist for ".concat(n,"!"));if(this._eventCallbacks.delete(e),r=r.filter((t=>t!==e)),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error("Expected event listeners size to be 0 but got ".concat(this._eventListeners.size));void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class bs{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function*(){const r=new Es(e),i=new _s;let o=r.next();for(;null!==o;){let[e,s,a]=t.handleLog(i,o,n);e&&(yield e),s&&i.push(s),a&&i.pop(),o=r.next()}}()}handleLog(e,t,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,n):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(ms)||e.startsWith(ws)){const n=e.startsWith(ms)?e.slice(13):e.slice(14),r=this.coder.events.decode(n);if(t&&null===r)throw new Error("Unable to decode event ".concat(n));return[r,null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith("Program ".concat(this.programId.toString()," invoke"))?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class _s{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class Es{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class ks{static build(e,t,n,r,i,o,s){return async function(){for(var a,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];const d=t(...u),[,h]=ls(e,[...u]);let f;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{f=await r.simulate(d,h.signers,null===(a=h.options)||void 0===a?void 0:a.commitment)}catch(Xe){throw Eo(Xe,n)}if(void 0===f)throw new Error("Unable to simulate transaction");const p=f.logs;if(!p)throw new Error("Simulated logs not found");const g=[];if(s.events){let e=new bs(o,i);for(const t of e.parseLogs(p))g.push(t)}return{events:g,raw:p}}}}function Ss(e){return new Rs(ts(8),(e=>Ns.fromBuffer(e)),(e=>e.toBuffer()),e)}function As(e){return new Rs(ts(32),(e=>new S.PublicKey(e)),(e=>e.toBuffer()),e)}function Is(e,t){return new xs(e,t)}class Rs extends Lo{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class xs extends Lo{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Xo()}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null===e||void 0===e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.getSpan(e,t+4)+4}}class Ns extends(I()){toBuffer(){const e=super.toArray().reverse(),t=Xn.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Xn.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error("Invalid buffer length: ".concat(e.length));return new Ns([...e].reverse().map((e=>"00".concat(e.toString(16)).slice(-2))).join(""),16)}}const Ts=$o([As("mint"),As("owner"),Ss("amount"),Is(As(),"delegate"),(e=>{const t=es((e=>new Bo(1,e))("discriminator"),null,"state");return t.addVariant(0,$o([]),"uninitialized"),t.addVariant(1,$o([]),"initialized"),t.addVariant(2,$o([]),"frozen"),t})(),Is(Ss(),"isNative"),Ss("delegatedAmount"),Is(As(),"closeAuthority")]);class Ms{constructor(e,t,n,r,i,o,s,a){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=s,this._customResolver=a,this._accountStore=new Os(n,o,r)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,16===e)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce(((e,t)=>e&&e[t]),this._accounts);if(t&&t.toBase58)return t}set(e,t){let n=this._accounts;e.forEach(((r,i)=>{var o;i===e.length-1&&(n[r]=t),n[r]=null!==(o=n[r])&&void 0!==o?o:{},n=n[r]}))}resolveOptionalsHelper(e,t){const n={};for(const r of t){const t=r.name,i=e[t];void 0!==i&&(Ls(i)?rr(r)?n[t]=this.resolveOptionalsHelper(i,r.accounts):n[t]=Ps(i,!0):null!==i?n[t]=cr(i):r.optional&&(n[t]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const n in e){const r=e[n];rr(r)&&this.resolveEventCpi(r.accounts,[...t,r.name]);const i=+n+1;if(i===e.length)return;const o=e[n].name,s=e[i].name;if("eventAuthority"===o&&"program"===s){const e=[...t,o],n=[...t,s];return this.get(e)||this.set(e,S.PublicKey.findProgramAddressSync([Xn.from("__event_authority")],this._programId)[0]),void(this.get(n)||this.set(n,this._programId))}}}resolveConst(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const n of e){const e=n.name;if(rr(n))this.resolveConst(n.accounts,[...t,e]);else{const r=n;if((r.signer||r.address)&&!this.get([...t,e])){if(r.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...t,e],this._provider.wallet.publicKey)}r.address&&this.set([...t,e],cr(r.address))}}}}async resolvePdasAndRelations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0;for(const r of e){const e=r.name;if(rr(r))n+=await this.resolvePdasAndRelations(r.accounts,[...t,e]);else{const i=r;if((i.pda||i.relations)&&!this.get([...t,e])){n++;try{if(i.pda){const n=await Promise.all(i.pda.seeds.map((e=>this.toBuffer(e,t))));if(n.some((e=>!e)))continue;const r=await this.parseProgramId(i,t),[o]=S.PublicKey.findProgramAddressSync(n,r);this.set([...t,e],o)}}catch{}try{if(i.relations){const n=this.get([...t,i.relations[0]]);if(n){const r=await this._accountStore.fetchAccount({publicKey:n});this.set([...t,e],r[e])}}}catch{}}}}return n}async parseProgramId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var n;if(!(null===(n=e.pda)||void 0===n?void 0:n.program))return this._programId;const r=await this.toBuffer(e.pda.program,t);if(!r)throw new Error("Program seed not resolved: ".concat(e.name));return new S.PublicKey(r)}async toBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error("Unexpected seed: ".concat(e))}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...n]=e.path.split("."),r=this._idlIx.args.findIndex((e=>e.name===t));if(-1===r)throw new Error("Unable to find argument for seed: ".concat(t));const i=n.reduce(((e,t)=>(null!==e&&void 0!==e?e:{})[t]),this._args[r]);if(void 0===i)return;const o=this.getType(this._idlIx.args[r].type,n);return this.toBufferValue(o,i)}async toBufferAccount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const[n,...r]=e.path.split("."),i=this.get([...t,n]);if(!i)return;if(!r.length)return this.toBufferValue("pubkey",i);if(!e.account)throw new Error("Seed account is required in order to resolve type: ".concat(e.path));let o=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),s=r;for(;s.length>0;)o=o[s[0]],s=s.slice(1);if(void 0===o)return;const a=this.getType({defined:{name:e.account}},r);return this.toBufferValue(a,o)}toBufferValue(e,t){switch(e){case"u8":case"i8":return Xn.from([t]);case"u16":case"i16":return new(I())(t).toArrayLike(Xn,"le",2);case"u32":case"i32":return new(I())(t).toArrayLike(Xn,"le",4);case"u64":case"i64":return new(I())(t).toArrayLike(Xn,"le",8);case"u128":case"i128":return new(I())(t).toArrayLike(Xn,"le",16);case"u256":case"i256":return new(I())(t).toArrayLike(Xn,"le",32);case"string":case"bytes":return Xn.from(t);case"pubkey":return t.toBuffer();default:if(null===e||void 0===e?void 0:e.array)return Xn.from(t);throw new Error("Unexpected seed type: ".concat(e))}}getType(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var n;const r=null===(n=null===e||void 0===e?void 0:e.defined)||void 0===n?void 0:n.name;if(r){if("tokenAccount"===r)switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error("Unknown token account path: ".concat(t))}const e=this._idlTypes.find((e=>e.name===r));if(!e)throw new Error("Type not found: ".concat(r));const[n,...i]=t,o=e.type.fields.find((e=>e.name===n));if(!o)throw new Error("Field not found: ".concat(n));return this.getType(o.type,i)}return e}}class Os{constructor(e,t,n){this._provider=e,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=t}async fetchAccount(e){let{publicKey:t,name:n}=e;const r=t.toBase58();if(!this._cache.has(r)){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error("Account not found: ".concat(r));if("tokenAccount"===n){const t=(i=e.data,Ts.decode(i));this._cache.set(r,t)}else{const t=await this.getAccountsNs(e.owner);if(t){const n=Object.values(t)[0];if(n){const t=n.coder.accounts.decodeAny(e.data);this._cache.set(r,t)}}}}var i;return this._cache.get(r)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const n=await Us.fetchIdl(e,this._provider);if(n){const e=new Us(n,this._provider);this._idls[t]=e.account}}return this._idls[t]}}class Cs{static build(e,t,n,r,i,o,s,a,c,u,l){return function(){for(var d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return new zs(h,r,i,o,s,a,e,t,n,c,u,l)}}}function Ls(e){return"object"===typeof e&&null!==e&&!("_bn"in e)}function Ps(e,t){const n={};for(const r in e){const i=e[r];if(null!==i)n[r]=Ls(i)?Ps(i,!0):cr(i);else if(t)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!")}return n}class zs{constructor(e,t,n,r,i,o,s,a,c,u,l,d){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new Ms(e,this._accounts,s,a,c,u,l,d)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._preInstructions=t?e.concat(this._preInstructions):this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Bs{static build(e,t,n,r){const i=t.accounts.find((e=>e.writable)),o=!!t.returns;if(i||!o)return;return async function(){let i=await n(...arguments);const o="Program return: ".concat(e," ");let s=i.raw.find((e=>e.startsWith(o)));if(!s)throw new Error("View expected return log");let a=nr(s.slice(o.length)),c=t.returns;if(!c)throw new Error("View expected return type");return Ao.fieldLayout({type:c},r.types).decode(a)}}}class Ds{static build(e,t,n,r,i){const o={},s={},a={},c={},u={},l={},d=function(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)})),t}(e),h=e.accounts?ps.build(e,t,n,r):{};return e.instructions.forEach((f=>{const p=ds.build(f,((e,n)=>t.instruction.encode(e,n)),n),g=hs.build(f,p),y=fs.build(f,g,d,r),m=ks.build(f,g,d,r,t,n,e),w=Bs.build(n,f,m,e),v=Cs.build(r,n,f,p,g,y,m,w,h,e.types||[],null===i||void 0===i?void 0:i(f)),b=f.name;s[b]=p,a[b]=g,o[b]=y,c[b]=m,u[b]=v,w&&(l[b]=w)})),[o,s,a,h,c,u,l]}}class Us{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wr(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=function(e){const t=["name","path","account","relations","generic"],n=e=>e.split(".").map(T()).join("."),r=e=>{for(const i in e){const o=e[i];t.includes(i)?e[i]=Array.isArray(o)?o.map(n):n(o):"object"===typeof o&&r(o)}},i=structuredClone(e);return r(i),i}(e);this._idl=i,this._rawIdl=e,this._provider=t,this._programId=cr(e.address),this._coder=null!==n&&void 0!==n?n:new Oo(i),this._events=new vs(this._programId,t,this._coder);const[o,s,a,c,u,l,d]=Ds.build(i,this._coder,this._programId,t,r);this.rpc=o,this.instruction=s,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.views=d}static async at(e,t){const n=cr(e),r=await Us.fetchIdl(n,t);if(!r)throw new Error("IDL not found for program: ".concat(e.toString()));return new Us(r,t)}static async fetchIdl(e,t){t=null!==t&&void 0!==t?t:Wr();const n=cr(e),r=await async function(e){const t=(await S.PublicKey.findProgramAddress([],e))[0];return await S.PublicKey.createWithSeed(t,"anchor:idl",e)}(n),i=await t.connection.getAccountInfo(r);if(!i)return null;let o=(s=i.data.slice(8),ir.decode(s));var s;const a=Gn(o.data);return JSON.parse($n(a))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new S.PublicKey("11111111111111111111111111111111");const js=t=>{let{children:n,endpoint:r,config:i={commitment:"confirmed"}}=t;const s=(0,e.useMemo)((()=>new S.Connection(r,i)),[r,i]);return e.createElement(o.Provider,{value:{connection:s}},n)};class Hs extends Error{constructor(e,t){super(e),this.error=t}}class Ws extends Hs{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Fs extends Hs{constructor(){super(...arguments),this.name="WalletLoadError"}}class Ks extends Hs{constructor(){super(...arguments),this.name="WalletConfigError"}}class Vs extends Hs{constructor(){super(...arguments),this.name="WalletConnectionError"}}class qs extends Hs{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Ys extends Hs{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Gs extends Hs{constructor(){super(...arguments),this.name="WalletAccountError"}}class Zs extends Hs{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Qs extends Hs{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Xs extends Hs{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Js extends Hs{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class $s extends Hs{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class ea extends Hs{constructor(){super(...arguments),this.name="WalletSignInError"}}var ta;!function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"}(ta||(ta={}));class na extends Zn{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.publicKey;if(!r)throw new Qs;return e.feePayer=e.feePayer||r,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function ra(e){if("undefined"===typeof window||"undefined"===typeof document)return;const t=[];function n(){if(e())for(const e of t)e()}const r=setInterval(n,1e3);t.push((()=>clearInterval(r))),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push((()=>document.removeEventListener("DOMContentLoaded",n)))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),t.push((()=>window.removeEventListener("load",n)))),n()}function ia(){if(!navigator)return!1;const e=navigator.userAgent.toLowerCase(),t=e.includes("iphone")||e.includes("ipad"),n=e.includes("safari");return t&&n}function oa(e){return"version"in e}class sa extends na{async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!0;try{if(oa(e)){if(!this.supportedTransactionVersions)throw new Xs("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Xs("Sending transaction version ".concat(e.version," isn't supported by this wallet"));try{const r=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(r,n)}catch(i){if(i instanceof Js)throw r=!1,i;throw new Xs(null===i||void 0===i?void 0:i.message,i)}}else try{const{signers:r,...i}=n;e=await this.prepareTransaction(e,t,i),(null===r||void 0===r?void 0:r.length)&&e.partialSign(...r);const o=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(o,i)}catch(i){if(i instanceof Js)throw r=!1,i;throw new Xs(null===i||void 0===i?void 0:i.message,i)}}catch(i){throw r&&this.emit("error",i),i}}async signAllTransactions(e){for(const n of e)if(oa(n)){if(!this.supportedTransactionVersions)throw new Js("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new Js("Signing transaction version ".concat(n.version," isn't supported by this wallet"))}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class aa extends sa{}class ca extends aa{}const ua="".concat("(?:\\nURI: (?<uri>[^\\n]+))?").concat("(?:\\nVersion: (?<version>[^\\n]+))?").concat("(?:\\nChain ID: (?<chainId>[^\\n]+))?").concat("(?:\\nNonce: (?<nonce>[^\\n]+))?").concat("(?:\\nIssued At: (?<issuedAt>[^\\n]+))?").concat("(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?").concat("(?:\\nNot Before: (?<notBefore>[^\\n]+))?").concat("(?:\\nRequest ID: (?<requestId>[^\\n]+))?").concat("(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?");new RegExp("^".concat("(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n").concat("(?<address>[^\\n]+)(?:\\n|$)").concat("(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??").concat(ua,"\\n*$"));function la(e){let t="".concat(e.domain," wants you to sign in with your Solana account:\n");t+="".concat(e.address),e.statement&&(t+="\n\n".concat(e.statement));const n=[];if(e.uri&&n.push("URI: ".concat(e.uri)),e.version&&n.push("Version: ".concat(e.version)),e.chainId&&n.push("Chain ID: ".concat(e.chainId)),e.nonce&&n.push("Nonce: ".concat(e.nonce)),e.issuedAt&&n.push("Issued At: ".concat(e.issuedAt)),e.expirationTime&&n.push("Expiration Time: ".concat(e.expirationTime)),e.notBefore&&n.push("Not Before: ".concat(e.notBefore)),e.requestId&&n.push("Request ID: ".concat(e.requestId)),e.resources){n.push("Resources:");for(const t of e.resources)n.push("- ".concat(t))}return n.length&&(t+="\n\n".concat(n.join("\n"))),t}const da={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class ha extends Error{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,i,o]=t;super(i),this.code=r,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class fa extends Error{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,i,o,s]=t;super(o),this.code=i,this.data=s,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function pa(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function ga(e){return t=function(e){return la(e)}(e),window.btoa(t);var t}const ya="solana:signTransactions",ma="solana:cloneAuthorization";function wa(e,t){return new Proxy({},{get:(n,r)=>(null==n[r]&&(n[r]=function(n){return pa(this,void 0,void 0,(function*(){const{method:i,params:o}=function(e,t,n){let r=t,i=e.toString().replace(/[A-Z]/g,(e=>"_".concat(e.toLowerCase()))).toLowerCase();switch(e){case"authorize":{let{chain:e}=r;if("legacy"===n){switch(e){case"solana:testnet":e="testnet";break;case"solana:devnet":e="devnet";break;case"solana:mainnet":e="mainnet-beta";break;default:e=r.cluster}r.cluster=e}else{switch(e){case"testnet":case"devnet":e="solana:".concat(e);break;case"mainnet-beta":e="solana:mainnet"}r.chain=e}}case"reauthorize":{const{auth_token:e,identity:t}=r;if(e)if("legacy"===n)i="reauthorize",r={auth_token:e,identity:t};else i="authorize";break}}return{method:i,params:r}}(r,n,e),s=yield t(i,o);return"authorize"===i&&o.sign_in_payload&&!s.sign_in_result&&(s.sign_in_result=yield function(e,t,n){var r;return pa(this,void 0,void 0,(function*(){const i=null!==(r=e.domain)&&void 0!==r?r:window.location.host,o=t.accounts[0].address,s=ga(Object.assign(Object.assign({},e),{domain:i,address:o}));return{address:o,signed_message:s,signature:(yield n("sign_messages",{addresses:[o],payloads:[s]})).signed_payloads[0].slice(s.length)}}))}(o.sign_in_payload,s,t)),function(e,t,n){if("getCapabilities"===e){const e=t;switch(n){case"legacy":{const t=[ya];return!0===e.supports_clone_authorization&&t.push(ma),Object.assign(Object.assign({},e),{features:t})}case"v1":return Object.assign(Object.assign({},e),{supports_sign_and_send_transactions:!0,supports_clone_authorization:e.features.includes(ma)})}}return t}(r,s,e)}))}),n[r]),defineProperty:()=>!1,deleteProperty:()=>!1})}const va=4;const ba=12,_a=65;function Ea(e,t,n){return pa(this,void 0,void 0,(function*(){const r=function(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(va);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}(t),i=new Uint8Array(ba);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(Sa(r,i),n,(new TextEncoder).encode(e)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s}))}function ka(e,t){return pa(this,void 0,void 0,(function*(){const n=e.slice(0,va),r=e.slice(va,va+ba),i=e.slice(va+ba),o=yield crypto.subtle.decrypt(Sa(n,r),t,i);return function(){void 0===Aa&&(Aa=new TextDecoder("utf-8"));return Aa}().decode(o)}))}function Sa(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let Aa;function Ia(e){if(e<49152||e>65535)throw new ha(da.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,"Association port number must be between 49152 and 65535. ".concat(e," given."),{port:e});return e}const Ra="solana-wallet";function xa(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Na(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["v1"];return pa(this,void 0,void 0,(function*(){const i=Ia(t),o=function(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}(yield crypto.subtle.exportKey("raw",e)),s=function(e,t){let n=null;if(t){try{n=new URL(t)}catch(i){}if("https:"!==(null===n||void 0===n?void 0:n.protocol))throw new ha(da.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL("".concat(Ra,":/")));const r=e.startsWith("/")?e:[...xa(n.pathname),...xa(e)].join("/");return new URL(r,n)}("v1/associate/local",n);return s.searchParams.set("association",o.replace(/[/+=]/g,(e=>({"/":"_","+":"-","=":"."}[e])))),s.searchParams.set("port","".concat(i)),r.forEach((e=>{s.searchParams.set("v",e)})),s}))}const Ta={Firefox:0,Other:1};let Ma=null;function Oa(e,t){return pa(this,void 0,void 0,(function*(){const n=Ia(49152+Math.floor(16384*Math.random())),r=yield Na(e,n,t);if("https:"===r.protocol)window.location.assign(r);else try{const e=-1!==navigator.userAgent.indexOf("Firefox/")?Ta.Firefox:Ta.Other;switch(e){case Ta.Firefox:i=r,null==Ma&&(Ma=document.createElement("iframe"),Ma.style.display="none",document.body.appendChild(Ma)),Ma.contentWindow.location.href=i.toString();break;case Ta.Other:{const e=new Promise(((e,t)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const i=setTimeout((()=>{n(),t()}),2e3)}));window.location.assign(r),yield e;break}}}catch(o){throw new ha(da.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}var i;return n}))}const Ca={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},La="com.solana.mobilewalletadapter.v1";function Pa(e){return new DataView(e).getUint32(0,!1)}function za(e,t){return pa(this,void 0,void 0,(function*(){!function(){if("undefined"===typeof window||!0!==window.isSecureContext)throw new ha(da.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();const n=yield function(){return pa(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}(),r=yield Oa(n.publicKey,null===t||void 0===t?void 0:t.baseUri),i="ws://localhost:".concat(r,"/solana-wallet");let o;const s=(()=>{const e=[...Ca.retryDelayScheduleMs];return()=>e.length>1?e.shift():e[0]})();let a=1,c=0,u={__type:"disconnected"};return new Promise(((t,l)=>{let d;const h={},f=()=>pa(this,void 0,void 0,(function*(){if("connecting"!==u.__type)return void console.warn("Expected adapter state to be `connecting` at the moment the websocket opens. "+"Got `".concat(u.__type,"`."));const{associationKeypair:e}=u;d.removeEventListener("open",f);const t=yield function(){return pa(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}();d.send(yield function(e,t){return pa(this,void 0,void 0,(function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i}))}(t.publicKey,e.privateKey)),u={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:t.privateKey}})),p=e=>{e.wasClean?u={__type:"disconnected"}:l(new ha(da.ERROR_SESSION_CLOSED,"The wallet session dropped unexpectedly (".concat(e.code,": ").concat(e.reason,")."),{closeEvent:e})),m()},g=e=>pa(this,void 0,void 0,(function*(){m(),Date.now()-o>=Ca.timeoutMs?l(new ha(da.ERROR_SESSION_TIMEOUT,"Failed to connect to the wallet websocket on port ".concat(r,"."))):(yield new Promise((e=>{const t=s();w=window.setTimeout(e,t)})),v())})),y=n=>pa(this,void 0,void 0,(function*(){const r=yield n.data.arrayBuffer();switch(u.__type){case"connected":try{const e=Pa(r.slice(0,va));if(e!==c+1)throw new Error("Encrypted message has invalid sequence number");c=e;const t=yield function(e,t){return pa(this,void 0,void 0,(function*(){const n=yield ka(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new fa(r.id,r.error.code,r.error.message);return r}))}(r,u.sharedSecret),n=h[t.id];delete h[t.id],n.resolve(t.result)}catch(i){if(!(i instanceof fa))throw i;{const e=h[i.jsonRpcMessageId];delete h[i.jsonRpcMessageId],e.reject(i)}}break;case"hello_req_sent":{const n=yield function(e,t,n){return pa(this,void 0,void 0,(function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,_a),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])}))}(r,u.associationPublicKey,u.ecdhPrivateKey),o=r.slice(_a),s=0!==o.byteLength?yield(()=>pa(this,void 0,void 0,(function*(){const e=Pa(o.slice(0,va));if(e!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=e,function(e,t){return pa(this,void 0,void 0,(function*(){const n=yield ka(e,t),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new ha(da.ERROR_INVALID_PROTOCOL_VERSION,"Unknown/unsupported protocol version: ".concat(r.v))}return{protocol_version:i}}))}(o,n)})))():{protocol_version:"legacy"};u={__type:"connected",sharedSecret:n,sessionProperties:s};const f=wa(s.protocol_version,((e,t)=>pa(this,void 0,void 0,(function*(){const r=a++;return d.send(yield function(e,t){return pa(this,void 0,void 0,(function*(){return Ea(JSON.stringify(e),e.id,t)}))}({id:r,jsonrpc:"2.0",method:e,params:null!==t&&void 0!==t?t:{}},n)),new Promise(((t,n)=>{h[r]={resolve(r){switch(e){case"authorize":case"reauthorize":{const{wallet_uri_base:e}=r;if(null!=e)try{!function(e){let t;try{t=new URL(e)}catch(n){throw new ha(da.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if("https:"!==t.protocol)throw new ha(da.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}(e)}catch(i){return void n(i)}break}}t(r)},reject:n}}))}))));try{t(yield e(f))}catch(i){l(i)}finally{m(),d.close()}break}}}));let m,w;const v=()=>{m&&m(),u={__type:"connecting",associationKeypair:n},void 0===o&&(o=Date.now()),d=new WebSocket(i,[La]),d.addEventListener("open",f),d.addEventListener("close",p),d.addEventListener("error",g),d.addEventListener("message",y),m=()=>{window.clearTimeout(w),d.removeEventListener("open",f),d.removeEventListener("close",p),d.removeEventListener("error",g),d.removeEventListener("message",y)}};v()}))}))}var Ba=n(462);function Da(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ua(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function ja(e){return window.btoa(String.fromCharCode.call(null,...e))}function Ha(e){return new Uint8Array(window.atob(e).split("").map((e=>e.charCodeAt(0))))}function Wa(e){return ja("version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}function Fa(e){const t=e[0]*S.SIGNATURE_LENGTH_IN_BYTES+1;return"legacy"===S.VersionedMessage.deserializeMessageVersion(e.slice(t,e.length))?S.Transaction.from(e):S.VersionedTransaction.deserialize(e)}function Ka(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function Va(e){return new Uint8Array(window.atob(e).split("").map((e=>e.charCodeAt(0))))}const qa="Mobile Wallet Adapter";function Ya(e){return"version"in e}class Ga extends ca{constructor(e){var t;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=qa,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!==typeof window&&window.isSecureContext&&"undefined"!==typeof document&&/android/i.test(navigator.userAgent)?ta.Loadable:ta.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._chain=null!==(t=e.chain)&&void 0!==t?t:e.cluster,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==ta.Unsupported&&this._authorizationResultCache.get().then((e=>{e&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(e){const t=Va(e);return new S.PublicKey(t)}(this._selectedAddress)}catch(e){throw new Zs(e instanceof Error&&(null===e||void 0===e?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==ta.Installed&&this.emit("readyStateChange",this._readyState=ta.Installed)}runWithGuard(e){return Ka(this,void 0,void 0,(function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return Ka(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return Ka(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>Ka(this,void 0,void 0,(function*(){if(this._readyState!==ta.Installed&&this._readyState!==ta.Loadable)throw new Ws;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new Vs(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}connect(){return Ka(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>Ka(this,void 0,void 0,(function*(){if(this._readyState!==ta.Installed&&this._readyState!==ta.Loadable)throw new Ws;this._connecting=!0;try{yield this.performAuthorization()}catch(e){throw new Vs(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}performAuthorization(e){return Ka(this,void 0,void 0,(function*(){try{const t=yield this._authorizationResultCache.get();return t?(this.handleAuthorizationResult(t),t):yield this.transact((t=>Ka(this,void 0,void 0,(function*(){const n=yield t.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:e});return Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)]),n}))))}catch(t){throw new Vs(t instanceof Error&&t.message||"Unknown error",t)}}))}handleAuthorizationResult(e){var t;return Ka(this,void 0,void 0,(function*(){const n=null==this._authorizationResult||(null===(t=this._authorizationResult)||void 0===t?void 0:t.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some(((t,n)=>t.address!==e.accounts[n].address));if(this._authorizationResult=e,this.declareWalletAsInstalled(),n){const t=yield this._addressSelector.select(e.accounts.map((e=>{let{address:t}=e;return t})));t!==this._selectedAddress&&(this._selectedAddress=t,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(e,t){return Ka(this,void 0,void 0,(function*(){try{const n=yield e.authorize({auth_token:t,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new qs(n instanceof Error&&(null===n||void 0===n?void 0:n.message)||"Unknown error",n)}}))}disconnect(){return Ka(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(e){var t;return Ka(this,void 0,void 0,(function*(){const n=null===(t=this._authorizationResult)||void 0===t?void 0:t.wallet_uri_base,r=n?{baseUri:n}:void 0,i=this._connectionGeneration;try{return yield function(e,t){return Ua(this,void 0,void 0,(function*(){return yield za((t=>{const n=new Proxy({},{get(e,n){if(null==e[n])switch(n){case"signAndSendTransactions":e[n]=function(e){var{minContextSlot:n,commitment:r,skipPreflight:i,maxRetries:o,waitForCommitmentToSendNextTransaction:s,transactions:a}=e,c=Da(e,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return Ua(this,void 0,void 0,(function*(){const e=a.map(Wa),u={min_context_slot:n,commitment:r,skip_preflight:i,max_retries:o,wait_for_commitment_to_send_next_transaction:s},{signatures:l}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},c),Object.values(u).some((e=>null!=e))?{options:u}:null),{payloads:e}));return l.map(Ha).map(Ba.encode)}))};break;case"signMessages":e[n]=function(e){var{payloads:n}=e,r=Da(e,["payloads"]);return Ua(this,void 0,void 0,(function*(){const e=n.map(ja),{signed_payloads:i}=yield t.signMessages(Object.assign(Object.assign({},r),{payloads:e}));return i.map(Ha)}))};break;case"signTransactions":e[n]=function(e){var{transactions:n}=e,r=Da(e,["transactions"]);return Ua(this,void 0,void 0,(function*(){const e=n.map(Wa),{signed_payloads:i}=yield t.signTransactions(Object.assign(Object.assign({},r),{payloads:e}));return i.map(Ha).map(Fa)}))};break;default:e[n]=t[n]}return e[n]},defineProperty:()=>!1,deleteProperty:()=>!1});return e(n)}),t)}))}(e,r)}catch(o){throw this._connectionGeneration!==i&&(yield new Promise((()=>{}))),o instanceof Error&&"SolanaMobileWalletAdapterError"===o.name&&"ERROR_WALLET_NOT_FOUND"===o.code&&(yield this._onWalletNotFound(this)),o}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new Qs;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return Ka(this,void 0,void 0,(function*(){const{authToken:t}=this.assertIsAuthorized();try{return yield this.transact((n=>Ka(this,void 0,void 0,(function*(){yield this.performReauthorization(n,t);return yield n.signTransactions({transactions:e})}))))}catch(n){throw new Js(null===n||void 0===n?void 0:n.message,n)}}))}sendTransaction(e,t,n){return Ka(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>Ka(this,void 0,void 0,(function*(){const{authToken:r}=this.assertIsAuthorized(),i=null===n||void 0===n?void 0:n.minContextSlot;try{return yield this.transact((o=>Ka(this,void 0,void 0,(function*(){function s(){let e,r;switch(t.commitment){case"confirmed":case"finalized":case"processed":e=t.commitment;break;default:e="finalized"}switch(null===n||void 0===n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=e;break;default:r="finalized"}return("finalized"===r?2:"confirmed"===r?1:0)<("finalized"===e?2:"confirmed"===e?1:0)?r:e}const[a,c,u]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,r),Ya(e)?null:(()=>Ka(this,void 0,void 0,(function*(){var n;if(e.feePayer||(e.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==e.recentBlockhash){const{blockhash:n}=yield t.getLatestBlockhash({commitment:s()});e.recentBlockhash=n}})))()]);if(a.supports_sign_and_send_transactions){return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[e]}))[0]}{const[r]=yield o.signTransactions({transactions:[e]});if(Ya(r))return yield t.sendTransaction(r);{const e=r.serialize();return yield t.sendRawTransaction(e,Object.assign(Object.assign({},n),{preflightCommitment:s()}))}}}))))}catch(o){throw new Xs(null===o||void 0===o?void 0:o.message,o)}}))))}))}signTransaction(e){return Ka(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>Ka(this,void 0,void 0,(function*(){const[t]=yield this.performSignTransactions([e]);return t}))))}))}signAllTransactions(e){return Ka(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>Ka(this,void 0,void 0,(function*(){return yield this.performSignTransactions(e)}))))}))}signMessage(e){return Ka(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>Ka(this,void 0,void 0,(function*(){const{authToken:t,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact((r=>Ka(this,void 0,void 0,(function*(){yield this.performReauthorization(r,t);const[i]=yield r.signMessages({addresses:[n],payloads:[e]});return i.slice(-64)}))))}catch(r){throw new $s(null===r||void 0===r?void 0:r.message,r)}}))))}))}signIn(e){return Ka(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>Ka(this,void 0,void 0,(function*(){var t,n;if(this._readyState!==ta.Installed&&this._readyState!==ta.Loadable)throw new Ws;this._connecting=!0;try{const r=yield this.performAuthorization(Object.assign(Object.assign({},e),{domain:null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:window.location.host}));if(!r.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=r.sign_in_result.address;return{account:Object.assign(Object.assign({},null!==(n=r.accounts.find((e=>e.address==i)))&&void 0!==n?n:{address:i}),{publicKey:Va(i)}),signedMessage:Va(r.sign_in_result.signed_message),signature:Va(r.sign_in_result.signature)}}catch(r){throw new Vs(r instanceof Error&&r.message||"Unknown error",r)}finally{this._connecting=!1}}))))}))}}const Za="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Qa(){let e;try{e=window.localStorage}catch(t){}return{clear(){return Ka(this,void 0,void 0,(function*(){if(e)try{e.removeItem(Za)}catch(t){}}))},get(){return Ka(this,void 0,void 0,(function*(){if(e)try{return JSON.parse(e.getItem(Za))||void 0}catch(t){}}))},set(n){return Ka(this,void 0,void 0,(function*(){if(e)try{e.setItem(Za,JSON.stringify(n))}catch(t){}}))}}}function Xa(e){return Ka(this,void 0,void 0,(function*(){"undefined"!==typeof window&&window.location.assign(e.url)}))}var Ja=n(5007),$a=n(8780);const ec="standard:connect",tc="standard:events";const nc=function(e){return ec in e.features&&tc in e.features&&(Ja.R in e.features||$a.q in e.features)};var rc=n(991);const ic="solana:signIn",oc="solana:mainnet",sc="solana:devnet",ac="solana:testnet",cc="solana:localnet";const uc="https://api.mainnet-beta.solana.com";function lc(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const dc="standard:disconnect";function hc(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var fc,pc,gc,yc,mc,wc,vc,bc,_c,Ec,kc,Sc,Ac,Ic,Rc,xc,Nc,Tc,Mc=n(8594),Oc=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Cc=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class Lc extends na{constructor(e){let{wallet:t}=e;super(),fc.add(this),pc.set(this,void 0),gc.set(this,void 0),yc.set(this,void 0),mc.set(this,void 0),wc.set(this,void 0),vc.set(this,void 0),bc.set(this,void 0),_c.set(this,"undefined"===typeof window||"undefined"===typeof document?ta.Unsupported:ta.Installed),Ic.set(this,(e=>{if("accounts"in e){const e=Cc(this,bc,"f").accounts[0];Cc(this,pc,"f")&&!Cc(this,mc,"f")&&e!==Cc(this,pc,"f")&&(e?Cc(this,fc,"m",kc).call(this,e):(this.emit("error",new qs),Cc(this,fc,"m",Sc).call(this)))}"features"in e&&Cc(this,fc,"m",Ac).call(this)})),Oc(this,bc,t,"f"),Oc(this,pc,null,"f"),Oc(this,gc,null,"f"),Oc(this,yc,!1,"f"),Oc(this,mc,!1,"f"),Oc(this,wc,Cc(this,bc,"f").features[tc].on("change",Cc(this,Ic,"f")),"f"),Cc(this,fc,"m",Ac).call(this)}get name(){return Cc(this,bc,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Cc(this,bc,"f").icon}get readyState(){return Cc(this,_c,"f")}get publicKey(){return Cc(this,gc,"f")}get connecting(){return Cc(this,yc,"f")}get supportedTransactionVersions(){return Cc(this,vc,"f")}get wallet(){return Cc(this,bc,"f")}get standard(){return!0}destroy(){Oc(this,pc,null,"f"),Oc(this,gc,null,"f"),Oc(this,yc,!1,"f"),Oc(this,mc,!1,"f");const e=Cc(this,wc,"f");e&&(Oc(this,wc,null,"f"),e())}async autoConnect(){return Cc(this,fc,"m",Ec).call(this,{silent:!0})}async connect(){return Cc(this,fc,"m",Ec).call(this)}async disconnect(){if(dc in Cc(this,bc,"f").features)try{Oc(this,mc,!0,"f"),await Cc(this,bc,"f").features[dc].disconnect()}catch(e){this.emit("error",new Ys(null===e||void 0===e?void 0:e.message,e))}finally{Oc(this,mc,!1,"f")}Cc(this,fc,"m",Sc).call(this)}async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const o=Cc(this,pc,"f");if(!o)throw new Qs;let s;if(Ja.R in Cc(this,bc,"f").features)if(o.features.includes(Ja.R))s=Ja.R;else{if(!($a.q in Cc(this,bc,"f").features)||!o.features.includes($a.q))throw new Gs;s=$a.q}else{if(!($a.q in Cc(this,bc,"f").features))throw new Ks;if(!o.features.includes($a.q))throw new Gs;s=$a.q}const a=(r=t.rpcEndpoint).includes(uc)?oc:/\bdevnet\b/i.test(r)?sc:/\btestnet\b/i.test(r)?ac:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?cc:oc;if(!o.chains.includes(a))throw new Xs;try{const{signers:r,...i}=n;let c;if(oa(e)?((null===r||void 0===r?void 0:r.length)&&e.sign(r),c=e.serialize()):(e=await this.prepareTransaction(e,t,i),(null===r||void 0===r?void 0:r.length)&&e.partialSign(...r),c=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===Ja.R){const[e]=await Cc(this,bc,"f").features[Ja.R].signAndSendTransaction({account:o,chain:a,transaction:c,options:{preflightCommitment:lc(i.preflightCommitment||t.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return Mc.encode(e.signature)}{const[e]=await Cc(this,bc,"f").features[$a.q].signTransaction({account:o,chain:a,transaction:c,options:{preflightCommitment:lc(i.preflightCommitment||t.commitment),minContextSlot:i.minContextSlot}});return await t.sendRawTransaction(e.signedTransaction,{...i,preflightCommitment:lc(i.preflightCommitment||t.commitment)})}}catch(i){if(i instanceof Hs)throw i;throw new Xs(null===i||void 0===i?void 0:i.message,i)}}catch(i){throw this.emit("error",i),i}var r}}pc=new WeakMap,gc=new WeakMap,yc=new WeakMap,mc=new WeakMap,wc=new WeakMap,vc=new WeakMap,bc=new WeakMap,_c=new WeakMap,Ic=new WeakMap,fc=new WeakSet,Ec=async function(e){try{if(this.connected||this.connecting)return;if(Cc(this,_c,"f")!==ta.Installed)throw new Ws;if(Oc(this,yc,!0,"f"),!Cc(this,bc,"f").accounts.length)try{await Cc(this,bc,"f").features[ec].connect(e)}catch(t){throw new Vs(null===t||void 0===t?void 0:t.message,t)}const n=Cc(this,bc,"f").accounts[0];if(!n)throw new Gs;Cc(this,fc,"m",kc).call(this,n)}catch(t){throw this.emit("error",t),t}finally{Oc(this,yc,!1,"f")}},kc=function(e){let t;try{t=new S.PublicKey(e.address)}catch(n){throw new Zs(null===n||void 0===n?void 0:n.message,n)}Oc(this,pc,e,"f"),Oc(this,gc,t,"f"),Cc(this,fc,"m",Ac).call(this),this.emit("connect",t)},Sc=function(){Oc(this,pc,null,"f"),Oc(this,gc,null,"f"),Cc(this,fc,"m",Ac).call(this),this.emit("disconnect")},Ac=function(){var e,t;const n=Ja.R in Cc(this,bc,"f").features?Cc(this,bc,"f").features[Ja.R].supportedTransactionVersions:Cc(this,bc,"f").features[$a.q].supportedTransactionVersions;Oc(this,vc,hc(n,["legacy"])?null:new Set(n),"f"),$a.q in Cc(this,bc,"f").features&&null!==(e=Cc(this,pc,"f"))&&void 0!==e&&e.features.includes($a.q)?(this.signTransaction=Cc(this,fc,"m",Rc),this.signAllTransactions=Cc(this,fc,"m",xc)):(delete this.signTransaction,delete this.signAllTransactions),rc.F in Cc(this,bc,"f").features&&null!==(t=Cc(this,pc,"f"))&&void 0!==t&&t.features.includes(rc.F)?this.signMessage=Cc(this,fc,"m",Nc):delete this.signMessage,ic in Cc(this,bc,"f").features?this.signIn=Cc(this,fc,"m",Tc):delete this.signIn},Rc=async function(e){try{const n=Cc(this,pc,"f");if(!n)throw new Qs;if(!($a.q in Cc(this,bc,"f").features))throw new Ks;if(!n.features.includes($a.q))throw new Gs;try{const t=(await Cc(this,bc,"f").features[$a.q].signTransaction({account:n,transaction:oa(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return oa(e)?S.VersionedTransaction.deserialize(t):S.Transaction.from(t)}catch(t){if(t instanceof Hs)throw t;throw new Js(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}},xc=async function(e){try{const n=Cc(this,pc,"f");if(!n)throw new Qs;if(!($a.q in Cc(this,bc,"f").features))throw new Ks;if(!n.features.includes($a.q))throw new Gs;try{const t=await Cc(this,bc,"f").features[$a.q].signTransaction(...e.map((e=>({account:n,transaction:oa(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return e.map(((e,n)=>{const r=t[n].signedTransaction;return oa(e)?S.VersionedTransaction.deserialize(r):S.Transaction.from(r)}))}catch(t){throw new Js(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}},Nc=async function(e){try{const n=Cc(this,pc,"f");if(!n)throw new Qs;if(!(rc.F in Cc(this,bc,"f").features))throw new Ks;if(!n.features.includes(rc.F))throw new Gs;try{return(await Cc(this,bc,"f").features[rc.F].signMessage({account:n,message:e}))[0].signature}catch(t){throw new $s(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}},Tc=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(!(ic in Cc(this,bc,"f").features))throw new Ks;let n;try{[n]=await Cc(this,bc,"f").features[ic].signIn(e)}catch(t){throw new ea(null===t||void 0===t?void 0:t.message,t)}if(!n)throw new ea;return Cc(this,fc,"m",kc).call(this,n.account),n}catch(t){throw this.emit("error",t),t}};var Pc,zc=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},Bc=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};let Dc;const Uc=new Set,jc={};function Hc(){if(Dc)return Dc;if(Dc=Object.freeze({register:Wc,get:Fc,on:Kc}),"undefined"===typeof window)return Dc;const e=Object.freeze({register:Wc});try{window.addEventListener("wallet-standard:register-wallet",(t=>{let{detail:n}=t;return n(e)}))}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new qc(e))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return Dc}function Wc(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(n=n.filter((e=>!Uc.has(e)))).length?(n.forEach((e=>Uc.add(e))),null===(e=jc.register)||void 0===e||e.forEach((e=>Vc((()=>e(...n))))),function(){var e;n.forEach((e=>Uc.delete(e))),null===(e=jc.unregister)||void 0===e||e.forEach((e=>Vc((()=>e(...n)))))}):()=>{}}function Fc(){return[...Uc]}function Kc(e,t){var n;return(null===(n=jc[e])||void 0===n?void 0:n.push(t))||(jc[e]=[t]),function(){var n;jc[e]=null===(n=jc[e])||void 0===n?void 0:n.filter((e=>t!==e))}}function Vc(e){try{e()}catch(t){console.error(t)}}class qc extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Pc.set(this,void 0),zc(this,Pc,e,"f")}get detail(){return Bc(this,Pc,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function Yc(t){const n=Gc((()=>new Set)),{get:r,on:i}=Gc((()=>function(){if(Dc)return Dc;if(Dc=Hc(),"undefined"===typeof window)return Dc;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),Dc;const{register:t}=Dc,n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((e=>Vc((()=>e({register:t})))))};try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return console.error("window.navigator.wallets could not be set"),Dc}return n(...e),Dc}())),[o,s]=(0,e.useState)((()=>Zc(r())));(0,e.useEffect)((()=>{const e=[i("register",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s((e=>[...e,...Zc(t)]))})),i("unregister",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s((e=>e.filter((e=>t.some((t=>t===e.wallet))))))}))];return()=>e.forEach((e=>e()))}),[i]);const a=function(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t})),n.current}(o);return(0,e.useEffect)((()=>{if(!a)return;const e=new Set(o);new Set(a.filter((t=>!e.has(t)))).forEach((e=>e.destroy()))}),[a,o]),(0,e.useEffect)((()=>()=>o.forEach((e=>e.destroy()))),[]),(0,e.useMemo)((()=>[...o,...t.filter((e=>{let{name:t}=e;return!o.some((e=>e.name===t))||(n.has(t)||(n.add(t),console.warn("".concat(t," was registered as a Standard Wallet. The Wallet Adapter for ").concat(t," can be removed from your app."))),!1)}))]),[o,t,n])}function Gc(t){const n=(0,e.useRef)();return n.current||(n.current={value:t()}),n.current.value}function Zc(e){return e.filter(nc).map((e=>new Lc({wallet:e})))}var Qc;Pc=new WeakMap,function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"}(Qc||(Qc={}));class Xc extends Hs{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}function Jc(t){let{children:n,wallets:r,adapter:i,isUnloadingRef:o,onAutoConnectRequest:s,onConnectError:a,onError:c,onSelectWallet:u}=t;const d=(0,e.useRef)(!1),[h,f]=(0,e.useState)(!1),p=(0,e.useRef)(!1),[g,y]=(0,e.useState)(!1),[m,w]=(0,e.useState)((()=>{var e;return null!==(e=null===i||void 0===i?void 0:i.publicKey)&&void 0!==e?e:null})),[v,b]=(0,e.useState)((()=>{var e;return null!==(e=null===i||void 0===i?void 0:i.connected)&&void 0!==e&&e})),_=(0,e.useRef)(c);(0,e.useEffect)((()=>(_.current=c,()=>{_.current=void 0})),[c]);const E=(0,e.useRef)(((e,t)=>(o.current||(_.current?_.current(e,t):(console.error(e,t),e instanceof Ws&&"undefined"!==typeof window&&t&&window.open(t.url,"_blank"))),e))),[k,S]=(0,e.useState)((()=>r.map((e=>({adapter:e,readyState:e.readyState}))).filter((e=>{let{readyState:t}=e;return t!==ta.Unsupported}))));(0,e.useEffect)((()=>{function e(e){S((t=>{const n=t.findIndex((e=>{let{adapter:t}=e;return t===this}));if(-1===n)return t;const{adapter:r}=t[n];return[...t.slice(0,n),{adapter:r,readyState:e},...t.slice(n+1)].filter((e=>{let{readyState:t}=e;return t!==ta.Unsupported}))}))}return S((e=>r.map(((t,n)=>{const r=e[n];return r&&r.adapter===t&&r.readyState===t.readyState?r:{adapter:t,readyState:t.readyState}})).filter((e=>{let{readyState:t}=e;return t!==ta.Unsupported})))),r.forEach((t=>t.on("readyStateChange",e,t))),()=>{r.forEach((t=>t.off("readyStateChange",e,t)))}}),[i,r]);const A=(0,e.useMemo)((()=>{var e;return null!==(e=k.find((e=>e.adapter===i)))&&void 0!==e?e:null}),[i,k]);(0,e.useEffect)((()=>{if(!i)return;const e=e=>{w(e),d.current=!1,f(!1),b(!0),p.current=!1,y(!1)},t=()=>{o.current||(w(null),d.current=!1,f(!1),b(!1),p.current=!1,y(!1))},n=e=>{E.current(e,i)};return i.on("connect",e),i.on("disconnect",t),i.on("error",n),()=>{i.off("connect",e),i.off("disconnect",t),i.off("error",n),t()}}),[i,o]);const I=(0,e.useRef)(!1);(0,e.useEffect)((()=>()=>{I.current=!1}),[i]),(0,e.useEffect)((()=>{I.current||d.current||v||!s||(null===A||void 0===A?void 0:A.readyState)!==ta.Installed&&(null===A||void 0===A?void 0:A.readyState)!==ta.Loadable||(d.current=!0,f(!0),I.current=!0,async function(){try{await s()}catch{a()}finally{f(!1),d.current=!1}}())}),[v,s,a,A]);const R=(0,e.useCallback)((async(e,t,n)=>{if(!i)throw E.current(new Xc);if(!v)throw E.current(new Qs,i);return await i.sendTransaction(e,t,n)}),[i,v]),x=(0,e.useMemo)((()=>i&&"signTransaction"in i?async e=>{if(!v)throw E.current(new Qs,i);return await i.signTransaction(e)}:void 0),[i,v]),N=(0,e.useMemo)((()=>i&&"signAllTransactions"in i?async e=>{if(!v)throw E.current(new Qs,i);return await i.signAllTransactions(e)}:void 0),[i,v]),T=(0,e.useMemo)((()=>i&&"signMessage"in i?async e=>{if(!v)throw E.current(new Qs,i);return await i.signMessage(e)}:void 0),[i,v]),M=(0,e.useMemo)((()=>i&&"signIn"in i?async e=>await i.signIn(e):void 0),[i]),O=(0,e.useCallback)((async()=>{if(d.current||p.current||null!==A&&void 0!==A&&A.adapter.connected)return;if(!A)throw E.current(new Xc);const{adapter:e,readyState:t}=A;if(t!==ta.Installed&&t!==ta.Loadable)throw E.current(new Ws,e);d.current=!0,f(!0);try{await e.connect()}catch(n){throw a(),n}finally{f(!1),d.current=!1}}),[a,A]),C=(0,e.useCallback)((async()=>{if(!p.current&&i){p.current=!0,y(!0);try{await i.disconnect()}finally{y(!1),p.current=!1}}}),[i]);return e.createElement(l.Provider,{value:{autoConnect:!!s,wallets:k,wallet:A,publicKey:m,connected:v,connecting:h,disconnecting:g,select:u,connect:O,disconnect:C,sendTransaction:R,signTransaction:x,signAllTransactions:N,signMessage:T,signIn:M}},n)}let $c;function eu(e){return function(e){let{adapters:t,userAgentString:n}=e;return t.some((e=>e.name!==qa&&e.readyState===ta.Installed))?Qc.DESKTOP_WEB:n&&/android/i.test(n)&&!function(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}(n)?Qc.MOBILE_WEB:Qc.DESKTOP_WEB}({adapters:e,userAgentString:function(){var e,t;return void 0===$c&&($c=null!==(e=null===(t=globalThis.navigator)||void 0===t?void 0:t.userAgent)&&void 0!==e?e:null),$c}()})===Qc.MOBILE_WEB}function tu(){const e=globalThis.location;if(e)return"".concat(e.protocol,"//").concat(e.host)}function nu(t){let{children:n,wallets:r,autoConnect:i,localStorageKey:o="walletName",onError:a}=t;const{connection:c}=s(),u=Yc(r),l=(0,e.useMemo)((()=>{if(!eu(u))return null;const e=u.find((e=>e.name===qa));return e||new Ga({addressSelector:{select(e){return Ka(this,void 0,void 0,(function*(){return e[0]}))}},appIdentity:{uri:tu()},authorizationResultCache:Qa(),cluster:(t=null===c||void 0===c?void 0:c.rpcEndpoint,t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:Xa});var t}),[u,null===c||void 0===c?void 0:c.rpcEndpoint]),d=(0,e.useMemo)((()=>null==l||-1!==u.indexOf(l)?u:[l,...u]),[u,l]),[h,f]=function(t,n){const r=(0,e.useState)((()=>{try{const e=localStorage.getItem(t);if(e)return JSON.parse(e)}catch(e){"undefined"!==typeof window&&console.error(e)}return n})),i=r[0],o=(0,e.useRef)(!0);return(0,e.useEffect)((()=>{if(o.current)o.current=!1;else try{null===i?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(i))}catch(e){"undefined"!==typeof window&&console.error(e)}}),[i,t]),r}(o,eu(u)?qa:null),p=(0,e.useMemo)((()=>{var e;return null!==(e=d.find((e=>e.name===h)))&&void 0!==e?e:null}),[d,h]),g=(0,e.useCallback)((e=>{h!==e&&(p&&p.name!==qa&&p.disconnect(),f(e))}),[p,f,h]);(0,e.useEffect)((()=>{if(p)return p.on("disconnect",e),()=>{p.off("disconnect",e)};function e(){w.current||h===qa&&eu(u)||f(null)}}),[p,u,f,h]);const y=(0,e.useRef)(!1),m=(0,e.useMemo)((()=>{if(i&&p)return async()=>{(!0===i||await i(p))&&(y.current?await p.connect():await p.autoConnect())}}),[i,p]),w=(0,e.useRef)(!1);(0,e.useEffect)((()=>{if(h!==qa||!eu(u))return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)};function e(){w.current=!0}w.current=!1}),[u,h]);const v=(0,e.useCallback)((()=>{p&&p.name!==qa&&g(null)}),[p,g]),b=(0,e.useCallback)((e=>{y.current=!0,g(e)}),[g]);return e.createElement(Jc,{wallets:d,adapter:p,isUnloadingRef:w,onAutoConnectRequest:m,onConnectError:v,onError:a,onSelectWallet:b},n)}var ru=n(7950);const iu=t=>{let{id:n,children:r,expanded:i=!1}=t;const o=(0,e.useRef)(null),s=(0,e.useRef)(!0);return(0,e.useLayoutEffect)((()=>{i?(()=>{const e=o.current;e&&requestAnimationFrame((()=>{e.style.height=e.scrollHeight+"px"}))})():(()=>{const e=o.current;e&&requestAnimationFrame((()=>{e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",requestAnimationFrame((()=>{e.style.height="0"}))}))})()}),[i]),(0,e.useLayoutEffect)((()=>{const e=o.current;if(e)return s.current&&(t(),s.current=!1),e.addEventListener("transitionend",n),()=>e.removeEventListener("transitionend",n);function t(){e&&(e.style.overflow=i?"initial":"hidden",i&&(e.style.height="auto"))}function n(n){e&&n.target===e&&"height"===n.propertyName&&t()}}),[i]),e.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:o,role:"region",style:{height:0,transition:s.current?void 0:"height 250ms ease-out"}},r)},ou=t=>{let{handleClick:n,tabIndex:r,wallet:i}=t;return e.createElement("li",null,e.createElement(h,{onClick:n,startIcon:e.createElement(f,{wallet:i}),tabIndex:r},i.adapter.name,i.readyState===ta.Installed&&e.createElement("span",null,"Detected")))},su=()=>e.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),e.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),e.createElement("g",{clipPath:"url(#clip0_880_5115)"},e.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),e.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),e.createElement("defs",null,e.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#9945FF"}),e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),e.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#9945FF"}),e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),e.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#9945FF"}),e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),e.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{stopColor:"#9945FF"}),e.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),e.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),e.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),e.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),e.createElement("stop",{offset:"1",stopColor:"#00D18C"})),e.createElement("clipPath",{id:"clip0_880_5115"},e.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),au=t=>{let{className:n="",container:r="body"}=t;const i=(0,e.useRef)(null),{wallets:o,select:s}=d(),{setVisible:a}=w(),[c,u]=(0,e.useState)(!1),[l,h]=(0,e.useState)(!1),[f,p]=(0,e.useState)(null),[g,y]=(0,e.useMemo)((()=>{const e=[],t=[];for(const n of o)n.readyState===ta.Installed?e.push(n):t.push(n);return e.length?[e,t]:[t,[]]}),[o]),m=(0,e.useCallback)((()=>{h(!1),setTimeout((()=>a(!1)),150)}),[a]),v=(0,e.useCallback)((e=>{e.preventDefault(),m()}),[m]),b=(0,e.useCallback)(((e,t)=>{s(t),v(e)}),[s,v]),_=(0,e.useCallback)((()=>u(!c)),[c]),E=(0,e.useCallback)((e=>{const t=i.current;if(!t)return;const n=t.querySelectorAll("button"),r=n[0],o=n[n.length-1];e.shiftKey?document.activeElement===r&&(o.focus(),e.preventDefault()):document.activeElement===o&&(r.focus(),e.preventDefault())}),[i]);return(0,e.useLayoutEffect)((()=>{const e=e=>{"Escape"===e.key?m():"Tab"===e.key&&E(e)},{overflow:t}=window.getComputedStyle(document.body);return setTimeout((()=>h(!0)),0),document.body.style.overflow="hidden",window.addEventListener("keydown",e,!1),()=>{document.body.style.overflow=t,window.removeEventListener("keydown",e,!1)}}),[m,E]),(0,e.useLayoutEffect)((()=>p(document.querySelector(r))),[r]),f&&(0,ru.createPortal)(e.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:"wallet-adapter-modal ".concat(l&&"wallet-adapter-modal-fade-in"," ").concat(n),ref:i,role:"dialog"},e.createElement("div",{className:"wallet-adapter-modal-container"},e.createElement("div",{className:"wallet-adapter-modal-wrapper"},e.createElement("button",{onClick:v,className:"wallet-adapter-modal-button-close"},e.createElement("svg",{width:"14",height:"14"},e.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),g.length?e.createElement(e.Fragment,null,e.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),e.createElement("ul",{className:"wallet-adapter-modal-list"},g.map((t=>e.createElement(ou,{key:t.adapter.name,handleClick:e=>b(e,t.adapter.name),wallet:t}))),y.length?e.createElement(iu,{expanded:c,id:"wallet-adapter-modal-collapse"},y.map((t=>e.createElement(ou,{key:t.adapter.name,handleClick:e=>b(e,t.adapter.name),tabIndex:c?0:-1,wallet:t})))):null),y.length?e.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},e.createElement("span",null,c?"Less ":"More ","options"),e.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:"".concat(c?"wallet-adapter-modal-list-more-icon-rotate":"")},e.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):e.createElement(e.Fragment,null,e.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),e.createElement("div",{className:"wallet-adapter-modal-middle"},e.createElement(su,null)),y.length?e.createElement(e.Fragment,null,e.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:_,tabIndex:0},e.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),e.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:"".concat(c?"wallet-adapter-modal-list-more-icon-rotate":"")},e.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),e.createElement(iu,{expanded:c,id:"wallet-adapter-modal-collapse"},e.createElement("ul",{className:"wallet-adapter-modal-list"},y.map((t=>e.createElement(ou,{key:t.adapter.name,handleClick:e=>b(e,t.adapter.name),tabIndex:c?0:-1,wallet:t})))))):null))),e.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:v})),f)},cu=t=>{let{children:n,...r}=t;const[i,o]=(0,e.useState)(!1);return e.createElement(m.Provider,{value:{visible:i,setVisible:o}},n,i&&e.createElement(au,{...r}))};class uu extends aa{constructor(){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"===typeof window||"undefined"===typeof document?ta.Unsupported:ta.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new qs),this.emit("disconnect"))},this._accountChanged=e=>{const t=this._publicKey;if(t){try{e=new S.PublicKey(e.toBytes())}catch(n){return void this.emit("error",new Zs(null===n||void 0===n?void 0:n.message,n))}t.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==ta.Unsupported&&(ia()?(this._readyState=ta.Loadable,this.emit("readyStateChange",this._readyState)):ra((()=>{var e,t;return!!(null!==(e=window.phantom)&&void 0!==e&&null!==(e=e.solana)&&void 0!==e&&e.isPhantom||null!==(t=window.solana)&&void 0!==t&&t.isPhantom)&&(this._readyState=ta.Installed,this.emit("readyStateChange",this._readyState),!0)})))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===ta.Installed&&await this.connect()}async connect(){try{var e;if(this.connected||this.connecting)return;if(this.readyState===ta.Loadable){const e=encodeURIComponent(window.location.href),t=encodeURIComponent(window.location.origin);return void(window.location.href="https://phantom.app/ul/browse/".concat(e,"?ref=").concat(t))}if(this.readyState!==ta.Installed)throw new Ws;this._connecting=!0;const n=(null===(e=window.phantom)||void 0===e?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(t){throw new Vs(null===t||void 0===t?void 0:t.message,t)}if(!n.publicKey)throw new Gs;let r;try{r=new S.PublicKey(n.publicKey.toBytes())}catch(t){throw new Zs(null===t||void 0===t?void 0:t.message,t)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new Ys(null===t||void 0===t?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const i=this._wallet;if(!i)throw new Qs;try{const{signers:r,...o}=n;oa(e)?(null===r||void 0===r?void 0:r.length)&&e.sign(r):(e=await this.prepareTransaction(e,t,o),(null===r||void 0===r?void 0:r.length)&&e.partialSign(...r)),o.preflightCommitment=o.preflightCommitment||t.commitment;const{signature:s}=await i.signAndSendTransaction(e,o);return s}catch(r){if(r instanceof Hs)throw r;throw new Xs(null===r||void 0===r?void 0:r.message,r)}}catch(r){throw this.emit("error",r),r}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Qs;try{return await n.signTransaction(e)||e}catch(t){throw new Js(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Qs;try{return await n.signAllTransactions(e)||e}catch(t){throw new Js(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Qs;try{const{signature:t}=await n.signMessage(e);return t}catch(t){throw new $s(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}}var lu,du=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},hu=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};function fu(e){const t=t=>{let{register:n}=t;return n(e)};try{window.dispatchEvent(new pu(t))}catch(n){console.error("wallet-standard:register-wallet event could not be dispatched\n",n)}try{window.addEventListener("wallet-standard:app-ready",(e=>{let{detail:n}=e;return t(n)}))}catch(n){console.error("wallet-standard:app-ready event listener could not be added\n",n)}}class pu extends Event{constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),lu.set(this,void 0),du(this,lu,e,"f")}get detail(){return hu(this,lu,"f")}get type(){return"wallet-standard:register-wallet"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}lu=new WeakMap;var gu,yu,mu,wu,vu,bu,_u,Eu,ku,Su,Au,Iu,Ru,xu,Nu=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},Tu=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};class Mu{constructor(){var e=this;gu.add(this),yu.set(this,{}),mu.set(this,"1.0.0"),wu.set(this,"MetaMask"),vu.set(this,"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4="),bu.set(this,null),_u.set(this,((e,t)=>{var n;return(null===(n=Nu(this,yu,"f")[e])||void 0===n?void 0:n.push(t))||(Nu(this,yu,"f")[e]=[t]),()=>Nu(this,gu,"m",ku).call(this,e,t)})),Su.set(this,(async()=>{if(!Nu(this,bu,"f")){let t;try{t=(await n.e(227).then(n.bind(n,4227))).default}catch(e){throw new Error("Unable to load Solflare MetaMask SDK")}Tu(this,bu,new t,"f"),Nu(this,bu,"f").on("standard_change",(e=>Nu(this,gu,"m",Eu).call(this,"change",e)))}return this.accounts.length||await Nu(this,bu,"f").connect(),{accounts:this.accounts}})),Au.set(this,(async()=>{Nu(this,bu,"f")&&await Nu(this,bu,"f").disconnect()})),Iu.set(this,(async function(){if(!Nu(e,bu,"f"))throw new Qs;return await Nu(e,bu,"f").standardSignAndSendTransaction(...arguments)})),Ru.set(this,(async function(){if(!Nu(e,bu,"f"))throw new Qs;return await Nu(e,bu,"f").standardSignTransaction(...arguments)})),xu.set(this,(async function(){if(!Nu(e,bu,"f"))throw new Qs;return await Nu(e,bu,"f").standardSignMessage(...arguments)}))}get version(){return Nu(this,mu,"f")}get name(){return Nu(this,wu,"f")}get icon(){return Nu(this,vu,"f")}get chains(){return[oc,sc,ac]}get features(){return{[ec]:{version:"1.0.0",connect:Nu(this,Su,"f")},[dc]:{version:"1.0.0",disconnect:Nu(this,Au,"f")},[tc]:{version:"1.0.0",on:Nu(this,_u,"f")},[Ja.R]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Nu(this,Iu,"f")},[$a.q]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Nu(this,Ru,"f")},[rc.F]:{version:"1.0.0",signMessage:Nu(this,xu,"f")}}}get accounts(){return Nu(this,bu,"f")?Nu(this,bu,"f").standardAccounts:[]}}yu=new WeakMap,mu=new WeakMap,wu=new WeakMap,vu=new WeakMap,bu=new WeakMap,_u=new WeakMap,Su=new WeakMap,Au=new WeakMap,Iu=new WeakMap,Ru=new WeakMap,xu=new WeakMap,gu=new WeakSet,Eu=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=Nu(this,yu,"f")[e])||void 0===t||t.forEach((e=>e.apply(null,r)))},ku=function(e,t){var n;Nu(this,yu,"f")[e]=null===(n=Nu(this,yu,"f")[e])||void 0===n?void 0:n.filter((e=>t!==e))};let Ou=!1;async function Cu(){const e="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:e,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i;const o=r.data;var s;"metamask-inpage"===(null===o||void 0===o?void 0:o.target)&&"metamask-provider"===(null===(i=o.data)||void 0===i?void 0:i.name)&&((null===(s=o.data.data)||void 0===s?void 0:s.id)===e?(window.removeEventListener("message",n),o.data.data.error||Ou||(fu(new Mu),Ou=!0)):t())}window.addEventListener("message",n),window.setTimeout((()=>window.removeEventListener("message",n)),5e3),t()}class Lu extends aa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.name="Solflare",this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"===typeof window||"undefined"===typeof document?ta.Unsupported:ta.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new qs),this.emit("disconnect"))},this._accountChanged=e=>{if(!e)return;const t=this._publicKey;if(t){try{e=new S.PublicKey(e.toBytes())}catch(n){return void this.emit("error",new Zs(null===n||void 0===n?void 0:n.message,n))}t.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==ta.Unsupported&&(ra((()=>{var e;return!!(null!==(e=window.solflare)&&void 0!==e&&e.isSolflare||window.SolflareApp)&&(this._readyState=ta.Installed,this.emit("readyStateChange",this._readyState),!0)})),Cu())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!(null===(e=this._wallet)||void 0===e||!e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===ta.Loadable&&ia()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==ta.Loadable&&this._readyState!==ta.Installed)throw new Ws;if(this.readyState===ta.Loadable&&ia()){const e=encodeURIComponent(window.location.href),t=encodeURIComponent(window.location.origin);return void(window.location.href="https://solflare.com/ul/v1/browse/".concat(e,"?ref=").concat(t))}let t,r,i;try{t=(await n.e(648).then(n.bind(n,4648))).default}catch(e){throw new Fs(null===e||void 0===e?void 0:e.message,e)}try{r=new t({network:this._config.network})}catch(e){throw new Ks(null===e||void 0===e?void 0:e.message,e)}if(this._connecting=!0,!r.connected)try{await r.connect()}catch(e){throw new Vs(null===e||void 0===e?void 0:e.message,e)}if(!r.publicKey)throw new Vs;try{i=new S.PublicKey(r.publicKey.toBytes())}catch(e){throw new Zs(null===e||void 0===e?void 0:e.message,e)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new Ys(null===t||void 0===t?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const i=this._wallet;if(!i)throw new Qs;try{const{signers:r,...o}=n;return oa(e)?(null===r||void 0===r?void 0:r.length)&&e.sign(r):(e=await this.prepareTransaction(e,t,o),(null===r||void 0===r?void 0:r.length)&&e.partialSign(...r)),o.preflightCommitment=o.preflightCommitment||t.commitment,await i.signAndSendTransaction(e,o)}catch(r){if(r instanceof Hs)throw r;throw new Xs(null===r||void 0===r?void 0:r.message,r)}}catch(r){throw this.emit("error",r),r}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new Qs;try{return await n.signTransaction(e)||e}catch(t){throw new Js(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new Qs;try{return await n.signAllTransactions(e)||e}catch(t){throw new Js(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const n=this._wallet;if(!n)throw new Qs;try{return await n.signMessage(e,"utf8")}catch(t){throw new $s(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}}n(5149);class Pu{constructor(e,t){this.connection=void 0,this.publicKey=void 0,this.connection=e,this.publicKey=t}}const zu=t=>{let{app:n}=t;const i=(0,e.useMemo)((()=>[new uu,new Lu]),[]);return(0,r.jsx)(js,{endpoint:"https://rpc.magicblock.app/devnet",children:(0,r.jsx)(nu,{wallets:i,autoConnect:!0,children:(0,r.jsx)(cu,{children:n})})})},Bu=["#FFFFFF","#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],Du=e=>{let{selectedColor:t,onColorSelect:n}=e;return(0,r.jsxs)("div",{className:"color-palette",children:[(0,r.jsx)("h3",{children:"Select Color"}),(0,r.jsx)("div",{className:"colors-container",children:Bu.map(((e,i)=>(0,r.jsx)("div",{className:"color-swatch ".concat(t===i?"selected":""),style:{backgroundColor:e},onClick:()=>n(i),title:"Color ".concat(i)},i)))})]})},Uu=e=>{let{pixels:t,onPixelClick:n,isSubmitting:i}=e;return(0,r.jsxs)("div",{className:"painting-board",children:[(0,r.jsx)("h2",{children:"Collaborative Canvas"}),(0,r.jsx)("div",{className:"board-container",children:t.map(((e,t)=>(0,r.jsx)("div",{className:"board-row",children:e.map(((e,o)=>(0,r.jsx)("div",{className:"pixel ".concat(i?"disabled":""),style:{backgroundColor:Bu[e]},onClick:()=>!i&&n(o,t),title:"Pixel (".concat(o,", ").concat(t,")")},"".concat(o,"-").concat(t))))},t)))})]})};var ju=n(6382).Buffer;const Hu=new S.PublicKey("852a53jomx7dGmkpbFPGXNJymRxywo3WsH1vusNASJRr"),Wu=20,Fu=()=>{let{connection:t}=s();const n=(0,e.useRef)(null),o=(0,e.useRef)(new Pu(t)),{publicKey:a,sendTransaction:c}=d(),u=(0,e.useRef)(null),[l,h]=(0,e.useState)(0),[f,p]=(0,e.useState)(Array(Wu).fill(0).map((()=>Array(Wu).fill(0)))),[g,y]=(0,e.useState)(Array(Wu).fill(0).map((()=>Array(Wu).fill(0)))),[m,w]=(0,e.useState)(!1),[v,b]=(0,e.useState)(!1),[k,A]=(0,e.useState)(null),[I,R]=(0,e.useState)(null),x=(0,e.useRef)(null),[N]=S.PublicKey.findProgramAddressSync([ju.from("painting-canvas")],Hu);let T=(0,e.useRef)(null),M=(0,e.useRef)(null);const O=(0,e.useCallback)((async e=>{const t=await Us.fetchIdl(e,o.current);if(!t)throw new Error("IDL not found");return new Us(t,o.current)}),[o]),C=(0,e.useCallback)((e=>{if(console.log("Painting changed",e),x.current)try{const t=x.current.coder.accounts.decode("painting",e.data);w(!e.owner.equals(x.current.programId));const n=Array(Wu).fill(0).map((()=>Array(Wu).fill(0)));for(let e=0;e<Wu;e++)for(let r=0;r<Wu;r++)n[e][r]=t.pixels[e][r];p(n)}catch(t){console.error("Error decoding painting data:",t)}}),[]),L=(0,e.useCallback)((e=>{if(console.log("Ephemeral painting changed",e),x.current)try{const t=x.current.coder.accounts.decode("painting",e.data),n=Array(Wu).fill(0).map((()=>Array(Wu).fill(0)));for(let e=0;e<Wu;e++)for(let r=0;r<Wu;r++)n[e][r]=t.pixels[e][r];y(n)}catch(t){console.error("Error decoding ephemeral painting data:",t)}}),[]),P=(0,e.useCallback)((async()=>{T&&T.current&&await t.removeAccountChangeListener(T.current),console.log("Subscribing to painting",N.toBase58()),T.current=t.onAccountChange(N,C,"processed")}),[t,N,C]),z=(0,e.useCallback)((async()=>{n.current&&(console.log("Subscribing to ephemeral painting",N.toBase58()),M&&M.current&&await n.current.removeAccountChangeListener(M.current),M.current=n.current.onAccountChange(N,L,"confirmed"))}),[N,L]);(0,e.useEffect)((()=>{(async()=>{if(x.current)return;x.current=await O(Hu);const e=await o.current.connection.getAccountInfo(N);if(e){const t=x.current.coder.accounts.decode("painting",e.data),n=Array(Wu).fill(0).map((()=>Array(Wu).fill(0)));for(let e=0;e<Wu;e++)for(let r=0;r<Wu;r++)n[e][r]=t.pixels[e][r];p(n),w(!e.owner.equals(Hu)),await P()}})().catch(console.error)}),[t,N,O,P]),(0,e.useEffect)((()=>{var e;if(!a)return;if(!a||S.Keypair.fromSeed(a.toBytes()).publicKey.equals((null===(e=u.current)||void 0===e?void 0:e.publicKey)||S.PublicKey.default))return;console.log("Wallet connected with publicKey:",a.toBase58());const t=S.Keypair.fromSeed(a.toBytes());u.current=t,console.log("Temp Keypair",t.publicKey.toBase58())}),[t,a]),(0,e.useEffect)((()=>{(async()=>{if(u.current){const e=await t.getAccountInfo(u.current.publicKey);(!e||e.lamports<=.01*S.LAMPORTS_PER_SOL)&&await D()}})()}),[m,t]),(0,e.useEffect)((()=>{(async()=>{const e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MAGICBLOCK_URL||"https://devnet.magicblock.app";if(n.current||null==x.current)return;n.current=new S.Connection(e);try{var t;await(null===(t=n.current)||void 0===t?void 0:t.requestAirdrop(N,1))}catch(i){console.log("Refreshed account in the ephemeral")}const r=await n.current.getAccountInfo(N);if(r){const e=x.current.coder.accounts.decode("painting",r.data),t=Array(Wu).fill(0).map((()=>Array(Wu).fill(0)));for(let n=0;n<Wu;n++)for(let r=0;r<Wu;r++)t[n][r]=e.pixels[n][r];y(t),await P()}await z()})().catch(console.error)}),[N,P,z]);const B=(0,e.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"processed";if(!u.current)return null;if(!a)return null;if(!n.current)return null;b(!0),A(null),R(null);let s=r?n.current:o.current.connection;try{const{context:{slot:n},value:{blockhash:o,lastValidBlockHeight:l}}=await s.getLatestBlockhashAndContext();let d;return console.log("Submitting transaction..."),e.recentBlockhash||(e.recentBlockhash=o),e.feePayer||(e.feePayer=t?u.current.publicKey:a),t&&e.sign(u.current),d=r||t?await s.sendRawTransaction(e.serialize(),{skipPreflight:!0}):await c(e,s,{minContextSlot:n}),await s.confirmTransaction({blockhash:o,lastValidBlockHeight:l,signature:d},i),console.log("Transaction confirmed: ".concat(d)),R("Transaction confirmed"),d}catch(l){A("Transaction failed: ".concat(l))}finally{b(!1)}return null}),[a,c,u]),D=(0,e.useCallback)((async()=>{if(!a||!u.current)return;console.log("Transfer some SOL to temp keypair");const e=(new S.Transaction).add(S.SystemProgram.transfer({fromPubkey:a,toPubkey:u.current.publicKey,lamports:.1*S.LAMPORTS_PER_SOL}));e.feePayer=a,e.recentBlockhash=(await t.getLatestBlockhash()).blockhash,await B(e)}),[a,u,t,B]),U=(0,e.useCallback)((async(e,n,r)=>{var i;if(!u.current)return;if(!m){const e=await t.getAccountInfo(u.current.publicKey);(!e||e.lamports<=.01*S.LAMPORTS_PER_SOL)&&await D()}const o=await(null===(i=x.current)||void 0===i?void 0:i.methods.paintPixel(e,n,r).accounts({painting:N,user:u.current.publicKey}).transaction()),s=new S.TransactionInstruction({programId:new S.PublicKey("noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),keys:[],data:ju.from(crypto.getRandomValues(new Uint8Array(5)))});o.add(s),await B(o,!0,m)}),[m,N,B,t,D]),j=(0,e.useCallback)((async()=>{var e;if(console.log("Delegate PDA transaction"),console.log(u.current),!u.current)return;const n=await t.getAccountInfo(u.current.publicKey);(!n||n.lamports<=.01*S.LAMPORTS_PER_SOL)&&await D();const r=await(null===(e=x.current)||void 0===e?void 0:e.methods.delegate().accounts({payer:u.current.publicKey,pda:N}).transaction()),i=await B(r,!0);console.log("Delegate transaction",i)}),[t,N,B,D]),H=(0,e.useCallback)((async()=>{var e;if(!u.current)return;console.log("Undelegate PDA transaction");const t=await(null===(e=x.current)||void 0===e?void 0:e.methods.undelegate().accounts({payer:u.current.publicKey,painting:N}).transaction()),n=await B(t,!0);console.log("Undelegate transaction",n)}),[N,B]),W=(0,e.useCallback)((async()=>{if(a){console.log("Initialize painting transaction");try{var e;const n=await(null===(e=x.current)||void 0===e?void 0:e.methods.initialize().accounts({painting:N,user:a,systemProgram:S.SystemProgram.programId}).transaction());n.feePayer=a,n.recentBlockhash=(await t.getLatestBlockhash()).blockhash;const r=await c(n,t);console.log("Initialize transaction",r),R("Canvas initialized successfully!")}catch(n){console.error("Failed to initialize painting:",n),A("Failed to initialize: ".concat(n))}}}),[a,N,t,c]);return(0,r.jsxs)("div",{className:"App",children:[(0,r.jsx)("div",{className:"wallet-container",children:(0,r.jsx)(_,{})}),a?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"alerts",children:[k&&(0,r.jsx)(E,{type:"error",message:k}),I&&(0,r.jsx)(E,{type:"success",message:I})]}),(0,r.jsxs)("div",{className:"painting-controls",children:[(0,r.jsx)(Du,{selectedColor:l,onColorSelect:h}),(0,r.jsxs)("div",{className:"buttons",children:[(0,r.jsx)(i,{onClick:W,disabled:v||void 0!==f[0][0],title:"Initialize the canvas if it doesn't exist yet",children:"Initialize Canvas"}),(0,r.jsx)(i,{onClick:j,disabled:v||m,title:"Delegate the canvas to the Ephemeral Rollup",children:"Delegate to Ephemeral"}),(0,r.jsx)(i,{onClick:H,disabled:v||!m,title:"Undelegate the canvas from the Ephemeral Rollup",children:"Undelegate"})]})]}),(0,r.jsxs)("div",{className:"status-info",children:[(0,r.jsxs)("h3",{children:["Status: ",m?"Delegated to Ephemeral Rollup":"On Solana Mainnet"]}),(0,r.jsxs)("p",{children:["Connected Wallet: ",a.toString()]})]}),(0,r.jsx)(Uu,{pixels:m?g:f,onPixelClick:async(e,t)=>{await U(e,t,l)},isSubmitting:v})]})}):(0,r.jsxs)("div",{className:"container connect-prompt",children:[(0,r.jsx)("h2",{children:"Connect your wallet to start painting"}),(0,r.jsx)("p",{children:'Use the "Select Wallet" button at the top of the page to connect.'})]})]})},Ku=document.getElementById("root");if(!Ku)throw new Error("Failed to find the root element");t.createRoot(Ku).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(zu,{app:(0,r.jsx)(Fu,{})})}))})()})();
//# sourceMappingURL=main.5f7c621f.js.map